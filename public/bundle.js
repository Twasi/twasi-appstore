!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var i,o=function(t){return{topic:"twasi-songrequests/events",scope:"action",action:{type:"add",song:t}}},s={topic:"twasi-songrequests/events",scope:"action",action:{type:"queue"}},r=function(t){return void 0===t&&(t=!1),{topic:"twasi-songrequests/events",scope:"action",action:{type:t?"skip":"next"}}},u=function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function u(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,u)}a((i=i.apply(t,e||[])).next())}))},a=function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},c=function(){function t(t,e,n){this.api=t,this.jwt=e,this.statusListener=n,this.events=new Map,this.connect()}return t.prototype.connect=function(){var t=this;setTimeout((function(){t.connect()}),3e3),this.client&&this.client.readyState===this.client.OPEN||(this.client=new WebSocket(this.api),this.client.onerror=function(){t.statusListener.statusChanged(i.DISCONNECTED)},this.client.onopen=function(){return t.authorize()},this.client.onclose=function(){t.statusListener.statusChanged(i.DISCONNECTED)},this.requests=new l(this.client,this.events))},t.prototype.authorize=function(){return u(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:return[4,this.requests.request({topic:"auth",scope:"action",action:{type:"JWT_TOKEN",token:this.jwt}})];case 1:return"success"!==(t=n.sent()).status?[3,3]:(e=t.result.user.twitchId,[4,this.requests.request({topic:"twasi-songrequests/events",scope:"subscribe",config:{channel:e}})]);case 2:t=n.sent(),n.label=3;case 3:return this.statusListener.statusChanged("success"===t.status?i.CONNECTED:i.UNAUTHORIZED),[2]}}))}))},t.prototype.on=function(t,e){this.events.has(t)?this.events.get(t).push(e):this.events.set(t,[e])},t.prototype.add=function(t){return u(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.requests.request(o(t))];case 1:return[2,e.sent()]}}))}))},t.prototype.getQueue=function(){return u(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.requests.request(s)];case 1:return[2,t.sent().result]}}))}))},t.prototype.next=function(t){return void 0===t&&(t=!1),u(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.requests.request(r(t))];case 1:return[2,e.sent()]}}))}))},t}();!function(t){t[t.CONNECTED=0]="CONNECTED",t[t.DISCONNECTED=1]="DISCONNECTED",t[t.UNAUTHORIZED=2]="UNAUTHORIZED"}(i||(i={}));var h,p,l=function(){function t(t,e){var n=this;this.count=0,this.pending=new Map,this.events=new Map,e&&(this.events=e),this.client=t,this.client.onmessage=function(t){var e=JSON.parse(t.data);e.ref&&n.pending.has(e.ref)?(n.pending.get(e.ref)(e.result),n.pending.delete(e.ref)):e.event&&n.events.has(e.event)&&n.events.get(e.event).forEach((function(t){t(e.details,new Date(e.timeStamp))}))}}return t.prototype.request=function(t,e){var n=this;return void 0===e&&(e=3e3),t.ref||(t.ref=this.newRef()),new Promise((function(i,o){n.pending.set(t.ref,i),n.client.send(JSON.stringify(t)),setTimeout((function(){n.pending.has(t.ref)&&(n.pending.delete(t.ref),o("Timed Out"))}),e)}))},t.prototype.on=function(t,e){this.events.has(t)?this.events.get(t).push(e):this.events.set(t,[e])},t.prototype.newRef=function(){return(this.count++).toString()},t}(),f={topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"get"}},d={topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"init"}},y=function(t){return{topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"set",code:t}}},v={topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"refresh"}},w={topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"remove"}},b=function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function u(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,u)}a((i=i.apply(t,e||[])).next())}))},g=function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},m=function(){function t(t,e){var n=this;this.token=null,this.expires=null,this.api=t,this.listener=e;window.addEventListener("message",(function(t){return b(n,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return"string"!=typeof t.data?[2]:t.data.startsWith("code:")?[4,this.set(t.data.substr("code:".length))]:[2];case 1:return e.sent(),this.win.postMessage("close","*"),[2]}}))}))}),!1)}return t.prototype.get=function(){return b(this,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(f)];case 1:return t=e.sent(),this.handle(t.token?t:null),[2]}}))}))},t.prototype.init=function(){return b(this,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(d)];case 1:return t=e.sent(),this.win=window.open(t.result.uri,"popUpWindow","height=500,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"),[2]}}))}))},t.prototype.set=function(t){return b(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(y(t))];case 1:return e=n.sent(),this.handle(e),[2]}}))}))},t.prototype.refresh=function(){return b(this,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(v)];case 1:return t=e.sent(),this.handle(t.token?t:null),[2]}}))}))},t.prototype.remove=function(){return b(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,this.api.requests.request(w)];case 1:if("success"!==t.sent().status)throw"An error occured";return[2]}}))}))},t.prototype.handle=function(t){var e=this;t?(this.token=t.token,this.expires=new Date(t.expires),this.listener.spotifyAuthenticated(!0,t.token),setTimeout((function(){return b(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return this.token!==t.token?[2]:[4,this.refresh()];case 1:return e.sent(),[2]}}))}))}),this.expires.getTime()-Date.now())):this.listener.spotifyAuthenticated(!1)},t}(),P=function(t){this.events=t},q=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function u(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,u)}a((i=i.apply(t,e||[])).next())}))},S=function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},E=function(t){function e(e,n){var i=t.call(this,e)||this;return i.events=e,i.api=n,i.playing=!1,i}return q(e,t),e.prototype.init=function(t){var e=this;this.player&&this.player.disconnect(),this.token=t;var n=new Spotify.Player({name:"Twasi-Panel",getOAuthToken:function(e){e(t)}});n.addListener("initialization_error",(function(t){var e=t.message;window.TSRI.reports.spotifyReports.push({type:"initialization_error",message:e})})),n.addListener("authentication_error",(function(t){var n=t.message;return k(e,void 0,void 0,(function(){return S(this,(function(t){return window.TSRI.reports.spotifyReports.push({type:"authentication_error",message:n}),[2]}))}))})),n.addListener("account_error",(function(t){var n=t.message;return k(e,void 0,void 0,(function(){return S(this,(function(t){return window.TSRI.reports.spotifyReports.push({type:"account_error",message:n}),[2]}))}))})),n.addListener("playback_error",(function(t){var n=t.message;return k(e,void 0,void 0,(function(){return S(this,(function(t){return window.TSRI.reports.spotifyReports.push({type:"playback_error",message:n}),[2]}))}))})),n.addListener("player_state_changed",(function(t){return k(e,void 0,void 0,(function(){return S(this,(function(e){return t?(this.playing=!t.paused,t.position&&t.duration?this.events.onPositionChange(t.position,t.duration):t.paused||this.events.onPositionChange(0,this.song.duration),t.paused?this.events.onPause():this.events.onPlay(this.song),t.paused&&t.disallows.resuming&&t.position&&t.duration&&t.position/t.duration>.98&&this.events.onNext(),[2]):[2]}))}))})),n.addListener("ready",(function(t){var n=t.device_id;return k(e,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return this.id=n,[4,this.setSpotifyPlayerVolume()];case 1:return t.sent(),[2]}}))}))})),n.addListener("not_ready",(function(t){t.device_id;return k(e,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return[4,window.TSRI.spotifyAuth.refresh()];case 1:return t.sent(),[2]}}))}))})),this.player=n,n.connect()},e.prototype.pause=function(){this.player.pause()},e.prototype.play=function(t,e){return k(this,void 0,void 0,(function(){return S(this,(function(e){switch(e.label){case 0:return this.song&&this.song.uri===t.uri?(this.player.resume(),[3,3]):[3,1];case 1:return this.song=t,[4,fetch("https://api.spotify.com/v1/me/player/play?device_id="+this.id,{method:"PUT",body:JSON.stringify({uris:[t.uri],position_ms:0}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},e.prototype.setSpotifyPlayerVolume=function(){return k(this,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return[4,this.api.requests.request((e=this.volume,n=this.id,i=this.token,{topic:"twasi-songrequests/events",scope:"action",action:{type:"setVolume",volume:e,deviceId:n,token:i}}))];case 1:return[2,t.sent()]}var e,n,i}))}))},e.prototype.seek=function(t){this.player.seek(this.song.duration*t)},e.prototype.setVolume=function(t,e){return k(this,void 0,void 0,(function(){return S(this,(function(n){e-=.5,t=t/10*5,(t+=(t+.5)*(e*=-2)*.5)<0&&(t=0),this.volume=t;try{this.player.setVolume(t),this.setSpotifyPlayerVolume()}catch(t){console.log(t)}return[2]}))}))},e.prototype.resume=function(){this.player.resume()},e}(P),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(t){function e(e,n,i){var o=t.call(this,e)||this;if(!i)throw"API_NOT_READY";o.player=new YT.Player("youtube-player",{events:{onStateChange:function(t){return o.onUpdate(t)}}});var s=function(){o.setPos(),setTimeout(s,500)};return s(),o}return T(e,t),e.prototype.setPos=function(){try{this.events.onPositionChange(1e3*this.player.getCurrentTime(),1e3*this.player.getDuration())}catch(t){}},e.prototype.onUpdate=function(t){1===t.data?this.events.onPlay():0===t.data?this.events.onNext():this.events.onPause(),this.setPos()},e.prototype.pause=function(){this.player.pauseVideo()},e.prototype.play=function(t,e){this.player.loadVideoById(t.uri)},e.prototype.seek=function(t){this.player.seekTo(this.player.getDuration()*t)},e.prototype.setVolume=function(t,e){e-=.5,t=t/10*5,(t+=(t+.5)*(e*=2)*.5)<0&&(t=0);try{this.player.setVolume(100*t)}catch(t){}},e.prototype.resume=function(){this.player.playVideo()},e}(P);!function(t){t[t.NONE=0]="NONE",t[t.SPOTIFY=1]="SPOTIFY",t[t.YOUTUBE=2]="YOUTUBE"}(p||(p={}));var x={topic:"twasi-songrequests/events",scope:"action",action:{type:"back"}},_=function(t){return{topic:"twasi-songrequests/events",scope:"action",action:{type:"settings",settings:t}}},A=function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function u(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,u)}a((i=i.apply(t,e||[])).next())}))},N=function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},C=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var s=arguments[e],r=0,u=s.length;r<u;r++,o++)i[o]=s[r];return i},I=function(){function t(t,e,n){var i=this;this.api=t,this.frontendEvents=e,this.song=null,this.queue=[],this._history=[],this.firstPlayback=!0,this.shouldPlay=!1,this.posPredicter=new U((function(t){return i.frontendEvents.position(t)})),this.spotify=new E(this.playbackProviderEvents(p.SPOTIFY),t),this.youtube=new O(this.playbackProviderEvents(p.YOUTUBE),t,n.youtubeApi),t.on("queue",(function(t){return i.setQueue(t.queue,t.history,i.shouldPlay)}))}return t.prototype.setEvents=function(t){this.frontendEvents=t,this.shouldPlay?t.play():t.pause();var e=C(this.queue);t.queueUpdate(e,this._history),t.song(this.song),t.settingsUpdate(this.settings)},t.prototype.play=function(t,e){return A(this,void 0,void 0,(function(){var n;return N(this,(function(i){switch(i.label){case 0:return this.shouldPlay=!0,e?(this.song&&this.pause(),this.song=e,(n=this.getController(e.provider)).setVolume(this.settings.volume,this.settings.volumeBalance),n.play(e,t),[3,4]):[3,1];case 1:return this.song?(this.firstPlayback||0===this.posPredicter.prediction?(this.firstPlayback=!1,this.play(!0,this.song)):this.getController(this.song.provider).resume(),[3,4]):[3,2];case 2:return[4,this.next()];case 3:i.sent(),i.label=4;case 4:return this.frontendEvents.song(this.song),this.shouldPlay=!0,[2]}}))}))},t.prototype.pause=function(){this.shouldPlay=!0,this.song&&this.getController(this.song.provider).pause()},t.prototype.getController=function(t){switch(t){case p.NONE:default:return null;case p.SPOTIFY:return this.spotify;case p.YOUTUBE:return this.youtube}},t.prototype.seek=function(t){this.song&&this.getController(this.song.provider).seek(t)},t.prototype.localAdd=function(t){this.queue.push(t),this.frontendEvents.queueUpdate(this.queue,this._history),this.posPredicter.predict||this.play(!1,void 0)},t.prototype.setQueue=function(t,e,n){if(void 0===n&&(n=!0),t.length){var i=t[0];n&&(!this.song||this.song&&this.song.uri!==i.uri)?this.play(!0,i):(this.frontendEvents.song(t[0]),this.song=i)}else this.posPredicter.resetPosition(),this.song&&this.pause(),this.song=null,this.frontendEvents.song(null),this.posPredicter.resetPosition();this.queue=t,this._history=e,this.frontendEvents.queueUpdate(this.queue,this._history)},t.prototype.localNext=function(){this.posPredicter.resetPosition(),this.song&&(this.pause(),this._history.unshift(this.song)),this.queue.length?(this.play(!0,this.queue[0]),this.queue.shift()):(this.song=null,this.frontendEvents.song(null),this.posPredicter.resetPosition()),this.frontendEvents.queueUpdate(this.queue,this._history)},t.prototype.back=function(){return A(this,void 0,void 0,(function(){var t;return N(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(x)];case 1:if("success"!==(t=e.sent()).status)throw t.message;return[2]}}))}))},t.prototype.next=function(){return A(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.api.requests.request(r(!1))];case 1:return t.sent(),[2]}}))}))},t.prototype.skip=function(){return A(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.api.requests.request(r(!0))];case 1:return t.sent(),[2]}}))}))},t.prototype.apiAdd=function(t){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(o(t))];case 1:return e.sent(),[2]}}))}))},t.prototype.playbackProviderEvents=function(t){var e=this;return{onPause:function(){e.song&&![p.NONE,t].includes(e.song.provider)||(e.posPredicter.predict=!1,e.frontendEvents.stop())},onPlay:function(n){e.song&&e.song.provider===t&&(e.posPredicter.predict=!0,e.frontendEvents.play())},onPositionChange:function(n,i){e.song&&e.song.provider===t&&e.posPredicter.setPosition(n,i)},onNext:function(){return e.next()}}},t.prototype.loadQueue=function(t){return void 0===t&&(t=!0),A(this,void 0,void 0,(function(){var e;return N(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(s)];case 1:return e=n.sent().result,this.setQueue(e.queue,e.history,t),[2]}}))}))},t.prototype.setVolume=function(t){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this.setSettings({volume:t})];case 1:return e.sent(),[2]}}))}))},t.prototype.setVolumeBalance=function(t){return A(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this.setSettings({volumeBalance:t})];case 1:return e.sent(),[2]}}))}))},t.prototype.setSettings=function(t){return A(this,void 0,void 0,(function(){var e;return N(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(_(t))];case 1:return"success"===(e=n.sent()).status&&this.handleSettings(e.result),[2,e]}}))}))},t.prototype.handleSettings=function(t){this.frontendEvents.settingsUpdate(t),this.spotify.setVolume(t.volume,t.volumeBalance),this.youtube.setVolume(t.volume,t.volumeBalance),this.settings=t},t}(),U=function(){function t(t){var e=this;this.callback=t,this.predict=!1,this.lastPosition=Date.now(),this.duration=0,this.position=0,this.prediction=0;var n=function(){e.predictNow(),setTimeout(n,500)};n()}return t.prototype.setPosition=function(t,e){this.lastPosition=Date.now(),this.position=t,this.duration=e,this.predictNow()},t.prototype.resetPosition=function(){this.setPosition(0,0)},t.prototype.predictNow=function(){var t;0!==this.duration||0!==this.position?(this.predict&&(t=(this.position+(Date.now()-this.lastPosition))/this.duration),"number"==typeof t&&(this.prediction=t>1?1:t),this.callback(this.prediction)):this.callback(0)},t}(),D=function(t,e){return{topic:"twasi-songrequests/events",scope:"action",action:{type:"search",provider:p.SPOTIFY,token:t,query:e}}},R=function(t){return{topic:"twasi-songrequests/events",scope:"action",action:{type:"search",provider:p.YOUTUBE,query:t}}},j=function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function u(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,u)}a((i=i.apply(t,e||[])).next())}))},Y=function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},V=function(){function t(t,e){this.api=t,this.spotify=e}return t.prototype.onSpotify=function(t){return j(this,void 0,void 0,(function(){var e;return Y(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(D(this.spotify.token,t))];case 1:if("success"===(e=n.sent()).status)return[2,e.result];throw"An error occurred."}}))}))},t.prototype.onYouTube=function(t){return j(this,void 0,void 0,(function(){var e;return Y(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(R(t),6e3)];case 1:if("success"===(e=n.sent()).status)return[2,e.result];throw"An error occurred."}}))}))},t}();n.d(e,"a",(function(){return L}));var B=function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function u(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,u)}a((i=i.apply(t,e||[])).next())}))},z=function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},L=function(){function t(){this.status=Q,this.reports={spotifyReports:[]},this.authenticated=!1}return t.prototype.init=function(t,e,n){var o=this;if(this.events=n,this.API)return this.playback.setEvents(n),n.enableSpotifyAuth(!this.authenticated),void n.initialized(this.status);this.API=new c(e,t,{statusChanged:function(t){return B(o,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return this.status.api=0===t,this.e().initialized(this.status),this.status.api?[4,this.spotifyAuth.get()]:[3,2];case 1:e.sent(),e.label=2;case 2:return t!==i.CONNECTED?[3,4]:(this.loadQueue(!1),[4,this.playback.setSettings()]);case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}}),this.playback=new I(this.API,this.events,this.status),this.search=new V(this.API,this.playback.spotify),this.spotifyAuth=new m(this.API,{statusChanged:this.spotifyStatus,spotifyAuthenticated:function(t,e){o.authenticated=t,o.e().enableSpotifyAuth(!t),e&&o.playback.spotify.init(e)}}),this.e().initialized(this.status)},t.prototype.spotifyStatus=function(t){this.status.spotify=t,this.e().initialized(this.status)},t.prototype.youtubeApiReady=function(){this.status.youtubeApi=!0,this.e().initialized(this.status)},t.prototype.spotifyApiReady=function(){this.status.spotifyApi=!0,this.e().initialized(this.status)},t.prototype.e=function(){return this.events?this.events:M},t.prototype.loadQueue=function(t){return void 0===t&&(t=!0),B(this,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,this.playback.loadQueue(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.report=function(t){return B(this,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return this.reports.reason=t,[4,this.API.requests.request((n=this.reports,{topic:"twasi-songrequests/events",scope:"action",action:{type:"report",message:n.message,report:n}}))];case 1:return e.sent(),[2]}var n}))}))},t}(),M={settingsUpdate:function(t){},queueUpdate:function(t){},enableSpotifyAuth:function(t){console.log("Spotify Authentication is now %s.",t?"enabled":"disabled")},initialized:function(t){},pause:function(){console.log("PAUSE")},play:function(){console.log("PLAY")},position:function(t){console.log("POS: "+t)},song:function(t){console.log("SONG: "+t.name)},stop:function(){console.log("STOP")}},Q={api:!1,spotifyApi:!1,spotify:!1,youtubeApi:!1,youtube:!1}},function(t,e,n){"use strict";n.r(e),function(t){var e=new(n(0).a),i=window;i.TSRI=e,i.onSpotifyWebPlaybackSDKReady=function(){return e.spotifyApiReady()},(window||t).onYouTubeIframeAPIReady=function(){return e.youtubeApiReady()},n(3)}.call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){if(!window.YT)var n={loading:0,loaded:0};if(!window.YTConfig)var i={host:"http://www.youtube.com"};n.loading||(n.loading=1,function(){var t=[];n.ready=function(e){n.loaded?e():t.push(e)},window.onYTReady=function(){n.loaded=1;for(var e=0;e<t.length;e++)try{t[e]()}catch(t){}},n.setConfig=function(t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e])};var e=document.createElement("script");e.type="text/javascript",e.id="www-widgetapi-script",e.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vflUFVyEP/www-widgetapi.js",e.async=!0;var o=document.currentScript;if(o){var s=o.nonce||o.getAttribute("nonce");s&&e.setAttribute("nonce",s)}var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zb25ncmVxdWVzdHMvQWRkUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9hcGkvcmVxdWVzdHMvc29uZ3JlcXVlc3RzL0dldFF1ZXVlUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL3NvbmdyZXF1ZXN0cy9OZXh0UmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1BsYXliYWNrUHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zcG90aWZ5LWNyZWRlbnRpYWxzL0dldFJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zcG90aWZ5LWNyZWRlbnRpYWxzL0luaXRSZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9TZXRSZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9SZWZyZXNoUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHMvUmVtb3ZlUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvc3BvdGlmeS9TcG90aWZ5QXV0aGVudGljYXRpb25Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9wbGF5YmFjay9QbGF5YmFja1NsYXZlQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvcGxheWJhY2svU3BvdGlmeVBsYXliYWNrQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL290aGVyL1NldFZvbHVtZVJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3BsYXliYWNrL1lvdVR1YmVQbGF5YmFja0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zb25ncmVxdWVzdHMvQmFja1JlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9vdGhlci9TZXR0aW5nc1JlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3BsYXliYWNrL1BsYXliYWNrTWFzdGVyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL3NlYXJjaC9TcG90aWZ5U2VhcmNoLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9hcGkvcmVxdWVzdHMvc2VhcmNoL1lvdVR1YmVTZWFyY2gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9TZWFyY2hDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9UU1JJQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL290aGVyL1JlcG9ydFJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RTUkkudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9wcm92aWRlcnMveW91dHViZS95b3V0dWJlLWlmcmFtZV9hcGkuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBUElDb25uZWN0aW9uU3RhdHVzIiwiQWRkUmVxdWVzdCIsInNvbmciLCJ0b3BpYyIsInNjb3BlIiwiYWN0aW9uIiwidHlwZSIsIkdldFF1ZXVlUmVxdWVzdCIsIk5leHRSZXF1ZXN0Iiwic2tpcCIsImFwaSIsImp3dCIsInN0YXR1c0xpc3RlbmVyIiwiZXZlbnRzIiwiTWFwIiwidGhpcyIsImNvbm5lY3QiLCJzZXRUaW1lb3V0IiwiY2xpZW50IiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJXZWJTb2NrZXQiLCJvbmVycm9yIiwic3RhdHVzQ2hhbmdlZCIsIkRJU0NPTk5FQ1RFRCIsIm9ub3BlbiIsImF1dGhvcml6ZSIsIm9uY2xvc2UiLCJyZXF1ZXN0cyIsIkFQSVJlcXVlc3RNYW5hZ2VyIiwicmVxdWVzdCIsInRva2VuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjaGFubmVsIiwicmVzdWx0IiwidXNlciIsInR3aXRjaElkIiwiY29uZmlnIiwiQ09OTkVDVEVEIiwiVU5BVVRIT1JJWkVEIiwib24iLCJldmVudCIsImhhbmRsZXIiLCJoYXMiLCJwdXNoIiwic2V0IiwiYWRkIiwiZ2V0UXVldWUiLCJuZXh0IiwiUGxheWJhY2tQcm92aWRlciIsImNvdW50IiwicGVuZGluZyIsIm9ubWVzc2FnZSIsIm1zZyIsIm9iIiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsInJlZiIsImRlbGV0ZSIsImZvckVhY2giLCJkZXRhaWxzIiwiRGF0ZSIsInRpbWVTdGFtcCIsInJlcSIsInRpbWVvdXQiLCJuZXdSZWYiLCJQcm9taXNlIiwicmVzIiwicmVqIiwic2VuZCIsInN0cmluZ2lmeSIsInRvU3RyaW5nIiwiR2V0UmVxdWVzdCIsIkluaXRSZXF1ZXN0IiwiU2V0UmVxdWVzdCIsImNvZGUiLCJSZWZyZXNoUmVxdWVzdCIsIlJlbW92ZVJlcXVlc3QiLCJsaXN0ZW5lciIsImV4cGlyZXMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwic3RhcnRzV2l0aCIsInN1YnN0ciIsImxlbmd0aCIsIndpbiIsInBvc3RNZXNzYWdlIiwiaGFuZGxlIiwiaW5pdCIsIm9wZW4iLCJ1cmkiLCJyZWZyZXNoIiwicmVtb3ZlIiwic3BvdGlmeUF1dGhlbnRpY2F0ZWQiLCJnZXRUaW1lIiwibm93IiwicGxheWluZyIsInBsYXllciIsImRpc2Nvbm5lY3QiLCJTcG90aWZ5IiwiUGxheWVyIiwiZ2V0T0F1dGhUb2tlbiIsImNiIiwiYWRkTGlzdGVuZXIiLCJtZXNzYWdlIiwiVFNSSSIsInJlcG9ydHMiLCJzcG90aWZ5UmVwb3J0cyIsInN0YXRlIiwicGF1c2VkIiwicG9zaXRpb24iLCJkdXJhdGlvbiIsIm9uUG9zaXRpb25DaGFuZ2UiLCJvblBhdXNlIiwib25QbGF5IiwiZGlzYWxsb3dzIiwicmVzdW1pbmciLCJvbk5leHQiLCJkZXZpY2VfaWQiLCJpZCIsInNldFNwb3RpZnlQbGF5ZXJWb2x1bWUiLCJzcG90aWZ5QXV0aCIsInBhdXNlIiwicGxheSIsImZvcmNlQmVnaW4iLCJyZXN1bWUiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJ1cmlzIiwicG9zaXRpb25fbXMiLCJoZWFkZXJzIiwidm9sdW1lIiwiZGV2aWNlSWQiLCJzZWVrIiwic2V0Vm9sdW1lIiwidm9sdW1lQmFsYW5jZSIsImUiLCJjb25zb2xlIiwibG9nIiwiUGxheWJhY2tTbGF2ZUNvbnRyb2xsZXIiLCJ5b3V0dWJlQXBpIiwiWVQiLCJvblN0YXRlQ2hhbmdlIiwib25VcGRhdGUiLCJwZXJtYVVwZGF0ZSIsInNldFBvcyIsImdldEN1cnJlbnRUaW1lIiwiZ2V0RHVyYXRpb24iLCJwYXVzZVZpZGVvIiwibG9hZFZpZGVvQnlJZCIsInNlZWtUbyIsInBsYXlWaWRlbyIsIkJhY2tSZXF1ZXN0IiwiU2V0dGluZ3NSZXF1ZXN0Iiwic2V0dGluZ3MiLCJmcm9udGVuZEV2ZW50cyIsInF1ZXVlIiwiX2hpc3RvcnkiLCJmaXJzdFBsYXliYWNrIiwic2hvdWxkUGxheSIsInBvc1ByZWRpY3RlciIsIlBvc2l0aW9uUHJlZGljdGVyIiwicG9zIiwic3BvdGlmeSIsInBsYXliYWNrUHJvdmlkZXJFdmVudHMiLCJTUE9USUZZIiwieW91dHViZSIsIllvdVR1YmVQbGF5YmFja0NvbnRyb2xsZXIiLCJZT1VUVUJFIiwicXVldWVVcGRhdGUiLCJzZXRRdWV1ZSIsImhpc3RvcnkiLCJzZXRFdmVudHMiLCJ0ZW1wUXVldWUiLCJzZXR0aW5nc1VwZGF0ZSIsImNvbnRyb2xsZXIiLCJnZXRDb250cm9sbGVyIiwicHJvdmlkZXIiLCJwcmVkaWN0aW9uIiwiTk9ORSIsImxvY2FsQWRkIiwicHJlZGljdCIsInVuZGVmaW5lZCIsInJlc2V0UG9zaXRpb24iLCJsb2NhbE5leHQiLCJ1bnNoaWZ0Iiwic2hpZnQiLCJiYWNrIiwiYXBpQWRkIiwic2VsZiIsImluY2x1ZGVzIiwic3RvcCIsInAxIiwicDIiLCJzZXRQb3NpdGlvbiIsImxvYWRRdWV1ZSIsInNldFNldHRpbmdzIiwic2V0Vm9sdW1lQmFsYW5jZSIsImhhbmRsZVNldHRpbmdzIiwiY2FsbGJhY2siLCJsYXN0UG9zaXRpb24iLCJwcmVkaWN0Tm93IiwiU3BvdGlmeVNlYXJjaCIsInF1ZXJ5IiwiWW91VHViZVNlYXJjaCIsIm9uU3BvdGlmeSIsIm9uWW91VHViZSIsImF1dGhlbnRpY2F0ZWQiLCJBUEkiLCJwbGF5YmFjayIsImVuYWJsZVNwb3RpZnlBdXRoIiwiaW5pdGlhbGl6ZWQiLCJzZWFyY2giLCJzcG90aWZ5U3RhdHVzIiwieW91dHViZUFwaVJlYWR5Iiwic3BvdGlmeUFwaVJlYWR5Iiwic3BvdGlmeUFwaSIsImRlZmF1bHRFdmVudHMiLCJyZXBvcnQiLCJyZWFzb24iLCJvblNwb3RpZnlXZWJQbGF5YmFja1NES1JlYWR5IiwiZ2xvYmFsIiwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkiLCJnIiwiRnVuY3Rpb24iLCJsb2FkaW5nIiwibG9hZGVkIiwiWVRDb25maWciLCJyZWFkeSIsImYiLCJvbllUUmVhZHkiLCJzZXRDb25maWciLCJrIiwiYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImFzeW5jIiwiY3VycmVudFNjcmlwdCIsIm5vbmNlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiYiIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksRywrQkMvRTlDLElDbUVLQyxFRG5FQ0MsRUFBYSxTQUFDQyxHQUN2QixNQUFPLENBQ0hDLE1BQU8sNEJBQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUNKQyxLQUFNLE1BQ05KLEtBQUksS0VQSEssRUFBK0IsQ0FDeENKLE1BQU8sNEJBQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUNKQyxLQUFNLFVDSkRFLEVBQWMsU0FBQ0MsR0FDeEIsWUFEd0IsSUFBQUEsT0FBQSxHQUNqQixDQUNITixNQUFPLDRCQUNQQyxNQUFPLFNBQ1BDLE9BQVEsQ0FDSkMsS0FBTUcsRUFBTyxPQUFTLFUsNjBDRkZsQyxhQU1JLFdBQ1lDLEVBQ0FDLEVBQ0FDLEdBRkEsS0FBQUYsTUFDQSxLQUFBQyxNQUNBLEtBQUFDLGlCQVBKLEtBQUFDLE9BQXNFLElBQUlDLElBUzlFQyxLQUFLQyxVQW9EYixPQWpEWSxZQUFBQSxRQUFSLHNCQUNJQyxZQUFXLFdBQ1AsRUFBS0QsWUFDTixLQUNDRCxLQUFLRyxRQUFVSCxLQUFLRyxPQUFPQyxhQUFlSixLQUFLRyxPQUFPRSxPQUMxREwsS0FBS0csT0FBUyxJQUFJRyxVQUFVTixLQUFLTCxLQUNqQ0ssS0FBS0csT0FBT0ksUUFBVSxXQUNsQixFQUFLVixlQUFlVyxjQUFjdkIsRUFBb0J3QixlQUUxRFQsS0FBS0csT0FBT08sT0FBUyxXQUFNLFNBQUtDLGFBQ2hDWCxLQUFLRyxPQUFPUyxRQUFVLFdBQ2xCLEVBQUtmLGVBQWVXLGNBQWN2QixFQUFvQndCLGVBRTFEVCxLQUFLYSxTQUFXLElBQUlDLEVBQWtCZCxLQUFLRyxPQUFRSCxLQUFLRixVQUc5QyxZQUFBYSxVQUFkLFcsa0dBQ21CLFNBQU1YLEtBQUthLFNBQVNFLFFBQVEsQ0FDdkMzQixNQUFPLE9BQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUFDQyxLQUFNLFlBQWF5QixNQUFPaEIsS0FBS0osUSxhQUVwQixhQUxwQnFCLEVBQVcsVUFLRkMsT0FBVCxPQUNJQyxFQUFVRixFQUFTRyxPQUFPQyxLQUFLQyxTQUN4QixHQUFNdEIsS0FBS2EsU0FBU0UsUUFBUSxDQUNuQzNCLE1BQU8sNEJBQ1BDLE1BQU8sWUFDUGtDLE9BQVEsQ0FBQ0osUUFBTyxPLE9BSHBCRixFQUFXLFMsd0JBTWZqQixLQUFLSCxlQUFlVyxjQUFrQyxZQUFwQlMsRUFBU0MsT0FBdUJqQyxFQUFvQnVDLFVBQVl2QyxFQUFvQndDLGMsWUFHbkgsWUFBQUMsR0FBUCxTQUFVQyxFQUFlQyxHQUNoQjVCLEtBQUtGLE9BQU8rQixJQUFJRixHQUNoQjNCLEtBQUtGLE9BQU9oQyxJQUFJNkQsR0FBT0csS0FBS0YsR0FESjVCLEtBQUtGLE9BQU9pQyxJQUFJSixFQUFPLENBQUNDLEtBSTVDLFlBQUFJLElBQWIsU0FBaUI3QyxHLDBGQUNOLFNBQU1hLEtBQUthLFNBQVNFLFFBQVE3QixFQUFXQyxLLE9BQTlDLE1BQU8sQ0FBUCxFQUFPLGtCQUdFLFlBQUE4QyxTQUFiLFcsMEZBQ1ksU0FBTWpDLEtBQUthLFNBQVNFLFFBQVF2QixJLE9BQXBDLE1BQU8sQ0FBUCxFQUFRLFNBQThDNEIsZ0JBRzdDLFlBQUFjLEtBQWIsU0FBa0J4QyxHLFlBQUEsSUFBQUEsT0FBQSxHLG1GQUNQLFNBQU1NLEtBQUthLFNBQVNFLFFBQVF0QixFQUFZQyxLLE9BQS9DLE1BQU8sQ0FBUCxFQUFPLGtCQUVmLEVBL0RBLElBaUVBLFNBQVlULEdBQ1IsNkJBQVcsbUNBQWMsbUNBRDdCLENBQVlBLE1BQW1CLEtBZ0IvQixJLEVHdEZZa0QsRUhzRlosYUFNSSxXQUFZaEMsRUFBbUJMLEdBQS9CLFdBTFEsS0FBQXNDLE1BQWdCLEVBQ2hCLEtBQUFDLFFBQTRDLElBQUl0QyxJQUNoRCxLQUFBRCxPQUFzRSxJQUFJQyxJQUkxRUQsSUFBUUUsS0FBS0YsT0FBU0EsR0FDMUJFLEtBQUtHLE9BQVNBLEVBQ2RILEtBQUtHLE9BQU9tQyxVQUFZLFNBQUNDLEdBQ3JCLElBQU1DLEVBQUtDLEtBQUtDLE1BQU1ILEVBQUlJLE1BQ3RCSCxFQUFHSSxLQUFPLEVBQUtQLFFBQVFSLElBQUlXLEVBQUdJLE1BQzlCLEVBQUtQLFFBQVF2RSxJQUFJMEUsRUFBR0ksSUFBcEIsQ0FBeUJKLEVBQUdwQixRQUM1QixFQUFLaUIsUUFBUVEsT0FBT0wsRUFBR0ksTUFDaEJKLEVBQUdiLE9BQVMsRUFBSzdCLE9BQU8rQixJQUFJVyxFQUFHYixRQUN0QyxFQUFLN0IsT0FBT2hDLElBQUkwRSxFQUFHYixPQUFPbUIsU0FBUSxTQUFBbEIsR0FDOUJBLEVBQVFZLEVBQUdPLFFBQVMsSUFBSUMsS0FBS1IsRUFBR1MsZ0JBMkJwRCxPQXJCVyxZQUFBbEMsUUFBUCxTQUFlbUMsRUFBa0JDLEdBQWpDLFdBRUksWUFGNkIsSUFBQUEsTUFBQSxLQUN4QkQsRUFBSU4sTUFBS00sRUFBSU4sSUFBTTVDLEtBQUtvRCxVQUN0QixJQUFJQyxTQUFhLFNBQUNDLEVBQXlCQyxHQUM5QyxFQUFLbEIsUUFBUU4sSUFBSW1CLEVBQUlOLElBQUtVLEdBQzFCLEVBQUtuRCxPQUFPcUQsS0FBS2YsS0FBS2dCLFVBQVVQLElBQ2hDaEQsWUFBVyxXQUNGLEVBQUttQyxRQUFRUixJQUFJcUIsRUFBSU4sT0FDMUIsRUFBS1AsUUFBUVEsT0FBT0ssRUFBSU4sS0FDeEJXLEVBQUksZ0JBQ0xKLE9BSUosWUFBQXpCLEdBQVAsU0FBVUMsRUFBZUMsR0FDaEI1QixLQUFLRixPQUFPK0IsSUFBSUYsR0FDaEIzQixLQUFLRixPQUFPaEMsSUFBSTZELEdBQU9HLEtBQUtGLEdBREo1QixLQUFLRixPQUFPaUMsSUFBSUosRUFBTyxDQUFDQyxLQUlqRCxZQUFBd0IsT0FBUixXQUNJLE9BQVFwRCxLQUFLb0MsU0FBU3NCLFlBRTlCLEVBM0NBLEdJcEZhQyxFQUEwQixDQUNuQ3ZFLE1BQU8seUNBQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUNKQyxLQUFNLFFDSkRxRSxFQUEyQixDQUNwQ3hFLE1BQU8seUNBQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUNKQyxLQUFNLFNDSkRzRSxFQUE0QyxTQUFDQyxHQUN0RCxNQUFPLENBQ0gxRSxNQUFPLHlDQUNQQyxNQUFPLFNBQ1BDLE9BQVEsQ0FDSkMsS0FBTSxNQUNOdUUsS0FBSSxLQ05IQyxFQUE4QixDQUN2QzNFLE1BQU8seUNBQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUNKQyxLQUFNLFlDSkR5RSxFQUE2QixDQUN0QzVFLE1BQU8seUNBQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUNKQyxLQUFNLFcsNjBDQ0NkLGFBUUksV0FBWUksRUFBOEJzRSxHQUExQyxXQUpRLEtBQUFqRCxNQUFnQixLQUNoQixLQUFBa0QsUUFBZ0IsS0FJcEJsRSxLQUFLTCxJQUFNQSxFQUNYSyxLQUFLaUUsU0FBV0EsRUFPaEJFLE9BQU9DLGlCQUFpQixXQU5KLFNBQU96QyxHQUFtQixxQyxrREFDMUMsTUFBNEIsaUJBQWZBLEVBQU1nQixLQUFvQixJQUNqQ2hCLEVBQU1nQixLQUFnQjBCLFdBQVcsU0FDdkMsR0FBTXJFLEtBQUsrQixJQUFJSixFQUFNZ0IsS0FBSzJCLE9BQU8sUUFBUUMsVUFEUSxJLGNBQ2pELFNBQ0F2RSxLQUFLd0UsSUFBSUMsWUFBWSxRQUFTLEssY0FFYyxHQXdDeEQsT0FyQ2lCLFlBQUEzRyxJQUFiLFcsZ0dBQ2dCLFNBQU1rQyxLQUFLTCxJQUFJa0IsU0FBU0UsUUFBUTRDLEksY0FBdENMLEVBQU0sU0FDWnRELEtBQUswRSxPQUFPcEIsRUFBSXRDLE1BQVFzQyxFQUFNLE0sWUFHckIsWUFBQXFCLEtBQWIsVyxnR0FDZ0IsU0FBTTNFLEtBQUtMLElBQUlrQixTQUFTRSxRQUFRNkMsSSxjQUF0Q04sRUFBTSxTQUNadEQsS0FBS3dFLElBQU1MLE9BQU9TLEtBQUt0QixFQUFJbEMsT0FBT3lELElBQUssY0FBZSxvSSxZQUc1QyxZQUFBOUMsSUFBZCxTQUFrQitCLEcsZ0dBQ0YsU0FBTTlELEtBQUtMLElBQUlrQixTQUFTRSxRQUFROEMsRUFBV0MsSyxjQUFqRFIsRUFBTSxTQUNadEQsS0FBSzBFLE9BQU9wQixHLFlBR0gsWUFBQXdCLFFBQWIsVyxnR0FDZ0IsU0FBTTlFLEtBQUtMLElBQUlrQixTQUFTRSxRQUFRZ0QsSSxjQUF0Q1QsRUFBTSxTQUNadEQsS0FBSzBFLE9BQU9wQixFQUFJdEMsTUFBUXNDLEVBQU0sTSxZQUdyQixZQUFBeUIsT0FBYixXLDBGQUNTLFNBQU0vRSxLQUFLTCxJQUFJa0IsU0FBU0UsUUFBUWlELEksT0FBckMsR0FBZ0UsWUFBM0QsU0FBZ0Q5QyxPQUNqRCxLQUFLLG1CLGtCQUdMLFlBQUF3RCxPQUFSLFNBQWVwQixHQUFmLFdBQ1NBLEdBRUR0RCxLQUFLZ0IsTUFBUXNDLEVBQUl0QyxNQUNqQmhCLEtBQUtrRSxRQUFVLElBQUlsQixLQUFLTSxFQUFJWSxTQUM1QmxFLEtBQUtpRSxTQUFTZSxzQkFBcUIsRUFBTTFCLEVBQUl0QyxPQUM3Q2QsWUFBVyxnRCxrREFDUCxPQUFJRixLQUFLZ0IsUUFBVXNDLEVBQUl0QyxNQUFPLElBQzlCLEdBQU1oQixLQUFLOEUsVyxjQUFYLFMsYUFDRDlFLEtBQUtrRSxRQUFRZSxVQUFZakMsS0FBS2tDLFFBUjNCbEYsS0FBS2lFLFNBQVNlLHNCQUFxQixJQVdyRCxFQXpEQSxHQ0xBLEVBV0ksU0FBc0JsRixHQUFBLEtBQUFBLFUsaW9EQ0wxQixjQVFJLFdBQXNCQSxFQUFxQ0gsR0FBM0QsTUFDSSxZQUFNRyxJQUFPLEssT0FESyxFQUFBQSxTQUFxQyxFQUFBSCxNQUhuRCxFQUFBd0YsU0FBbUIsRSxFQThHL0IsT0FuSCtDLE9BWXBDLFlBQUFSLEtBQVAsU0FBWTNELEdBQVosV0FDUWhCLEtBQUtvRixRQUFRcEYsS0FBS29GLE9BQU9DLGFBQzdCckYsS0FBS2dCLE1BQVFBLEVBQ2IsSUFBTW9FLEVBQVMsSUFBSUUsUUFBUUMsT0FBTyxDQUM5Qi9ILEtBQU0sY0FDTmdJLGNBQWUsU0FBQ0MsR0FDWkEsRUFBR3pFLE1BSVhvRSxFQUFPTSxZQUFZLHdCQUF3QixTQUFDLEcsSUFBQ0MsRUFBQSxFQUFBQSxRQUN4Q3hCLE9BQXNCeUIsS0FBS0MsUUFBUUMsZUFBZWhFLEtBQUssQ0FBQ3ZDLEtBQU0sdUJBQXdCb0csUUFBTyxPQUVsR1AsRUFBT00sWUFBWSx3QkFBd0IsU0FBTyxHLElBQUNDLEVBQUEsRUFBQUEsUSx1RUFDOUN4QixPQUFzQnlCLEtBQUtDLFFBQVFDLGVBQWVoRSxLQUFLLENBQUN2QyxLQUFNLHVCQUF3Qm9HLFFBQU8sSSxhQUVsR1AsRUFBT00sWUFBWSxpQkFBaUIsU0FBTyxHLElBQUNDLEVBQUEsRUFBQUEsUSx1RUFDdkN4QixPQUFzQnlCLEtBQUtDLFFBQVFDLGVBQWVoRSxLQUFLLENBQUN2QyxLQUFNLGdCQUFpQm9HLFFBQU8sSSxhQUUzRlAsRUFBT00sWUFBWSxrQkFBa0IsU0FBTyxHLElBQUNDLEVBQUEsRUFBQUEsUSx1RUFDeEN4QixPQUFzQnlCLEtBQUtDLFFBQVFDLGVBQWVoRSxLQUFLLENBQUN2QyxLQUFNLGlCQUFrQm9HLFFBQU8sSSxhQUk1RlAsRUFBT00sWUFBWSx3QkFBd0IsU0FBT0ssR0FBVSxxQywyQkFDeEQsT0FBS0EsR0FDTC9GLEtBQUttRixTQUFXWSxFQUFNQyxPQUNsQkQsRUFBTUUsVUFBWUYsRUFBTUcsU0FDeEJsRyxLQUFLRixPQUFPcUcsaUJBQWlCSixFQUFNRSxTQUFVRixFQUFNRyxVQUM3Q0gsRUFBTUMsUUFDWmhHLEtBQUtGLE9BQU9xRyxpQkFBaUIsRUFBR25HLEtBQUtiLEtBQUsrRyxVQUMxQ0gsRUFBTUMsT0FDTmhHLEtBQUtGLE9BQU9zRyxVQUNYcEcsS0FBS0YsT0FBT3VHLE9BQU9yRyxLQUFLYixNQUV6QjRHLEVBQU1DLFFBQVVELEVBQU1PLFVBQVVDLFVBQzdCUixFQUFNRSxVQUFZRixFQUFNRyxVQUN2QkgsRUFBTUUsU0FBV0YsRUFBTUcsU0FBVyxLQUN4Q2xHLEtBQUtGLE9BQU8wRyxTLEtBYkYsYUFpQmhCcEIsRUFBT00sWUFBWSxTQUFTLFNBQU8sRyxJQUFDZSxFQUFBLEVBQUFBLFUsdUZBRWhDLE9BREF6RyxLQUFLMEcsR0FBS0QsRUFDVixHQUFNekcsS0FBSzJHLDBCLGNBQVgsUyxjQUlKdkIsRUFBT00sWUFBWSxhQUFhLFNBQU8sR0FBQyxFQUFBZSxVLHVGQUVwQyxTQUFPdEMsT0FBc0J5QixLQUFLZ0IsWUFBWTlCLFcsY0FBOUMsUyxjQUVKOUUsS0FBS29GLE9BQVNBLEVBQ2RBLEVBQU9uRixXQUdYLFlBQUE0RyxNQUFBLFdBQ0k3RyxLQUFLb0YsT0FBT3lCLFNBR1YsWUFBQUMsS0FBTixTQUFXM0gsRUFBWTRILEcsaUdBQ2YvRyxLQUFLYixNQUFRYSxLQUFLYixLQUFLMEYsTUFBUTFGLEVBQUswRixLQUNwQzdFLEtBQUtvRixPQUFPNEIsUyxPQURaLE0sT0FJQSxPQURBaEgsS0FBS2IsS0FBT0EsRUFDWixHQUFNOEgsTUFBTSx1REFBdURqSCxLQUFLMEcsR0FBTSxDQUMxRVEsT0FBUSxNQUNSQyxLQUFNMUUsS0FBS2dCLFVBQVUsQ0FBQzJELEtBQU0sQ0FBQ2pJLEVBQUswRixLQUFNd0MsWUFBYSxJQUNyREMsUUFBUyxDQUNMLGVBQWdCLG1CQUNoQixjQUFpQixVQUFVdEgsS0FBS2dCLFUsT0FMeEMsUyxtQ0FXTSxZQUFBMkYsdUJBQWQsVywwRkFDVyxTQUFNM0csS0FBS0wsSUFBSWtCLFNBQVNFLFNDL0ZOd0csRUQrRitCdkgsS0FBS3VILE9DL0ZwQkMsRUQrRjRCeEgsS0FBSzBHLEdDL0ZmMUYsRUQrRm1CaEIsS0FBS2dCLE1DOUZoRixDQUNINUIsTUFBTyw0QkFDUEMsTUFBTyxTQUNQQyxPQUFRLENBQ0pDLEtBQU0sWUFDTmdJLE9BQU0sRUFDTkMsU0FBUSxFQUNSeEcsTUFBSyxPLE9EdUZULE1BQU8sQ0FBUCxFQUFPLFVDL0ZpQixJQUFDdUcsRUFBZ0JDLEVBQWtCeEcsU0RrRy9ELFlBQUF5RyxLQUFBLFNBQUt4QixHQUNEakcsS0FBS29GLE9BQU9xQyxLQUFLekgsS0FBS2IsS0FBSytHLFNBQVdELElBR3BDLFlBQUF5QixVQUFOLFNBQWdCSCxFQUFnQkksRyxtRUFDNUJBLEdBQWlCLEdBRWpCSixFQUFTQSxFQUFTLEdBQUssR0FDdkJBLElBQVdBLEVBQVMsS0FGcEJJLElBQWtCLEdBRXdCLElBQzdCLElBQUdKLEVBQVMsR0FDekJ2SCxLQUFLdUgsT0FBU0EsRUFDZCxJQUNJdkgsS0FBS29GLE9BQU9zQyxVQUFVSCxHQUN0QnZILEtBQUsyRyx5QkFDUCxNQUFPaUIsR0FDTEMsUUFBUUMsSUFBSUYsRyxpQkFJcEIsWUFBQVosT0FBQSxXQUNJaEgsS0FBS29GLE9BQU80QixVQUdwQixFQW5IQSxDQUErQ2UsRywyVUVKL0MsY0FHSSxXQUFZakksRUFBNkJILEVBQThCcUksR0FBdkUsTUFDSSxZQUFNbEksSUFBTyxLQUNiLElBQUtrSSxFQUFZLEtBQU0sZ0JBRXZCLEVBQUs1QyxPQUFTLElBQUk2QyxHQUFHMUMsT0FBTyxpQkFBa0IsQ0FDMUN6RixPQUFRLENBQ0pvSSxjQUFlLFNBQUN2RyxHQUFlLFNBQUt3RyxTQUFTeEcsT0FHckQsSUFBTXlHLEVBQWMsV0FDaEIsRUFBS0MsU0FDTG5JLFdBQVdrSSxFQUFhLE0sT0FFNUJBLEksRUE4Q1IsT0E5RCtDLE9BbUJuQyxZQUFBQyxPQUFSLFdBQ0ksSUFDSXJJLEtBQUtGLE9BQU9xRyxpQkFBZ0QsSUFBL0JuRyxLQUFLb0YsT0FBT2tELGlCQUFxRCxJQUE1QnRJLEtBQUtvRixPQUFPbUQsZUFDaEYsTUFBT1gsTUFJTCxZQUFBTyxTQUFSLFNBQWlCeEcsR0FDTSxJQUFmQSxFQUFNZ0IsS0FBWTNDLEtBQUtGLE9BQU91RyxTQUNWLElBQWYxRSxFQUFNZ0IsS0FBWTNDLEtBQUtGLE9BQU8wRyxTQUNsQ3hHLEtBQUtGLE9BQU9zRyxVQUNqQnBHLEtBQUtxSSxVQUlULFlBQUF4QixNQUFBLFdBQ0k3RyxLQUFLb0YsT0FBT29ELGNBR2hCLFlBQUExQixLQUFBLFNBQUszSCxFQUFZNEgsR0FDYi9HLEtBQUtvRixPQUFPcUQsY0FBY3RKLEVBQUswRixNQUduQyxZQUFBNEMsS0FBQSxTQUFLeEIsR0FDRGpHLEtBQUtvRixPQUFPc0QsT0FBTzFJLEtBQUtvRixPQUFPbUQsY0FBZ0J0QyxJQUduRCxZQUFBeUIsVUFBQSxTQUFVSCxFQUFnQkksR0FDdEJBLEdBQWlCLEdBRWpCSixFQUFTQSxFQUFTLEdBQUssR0FDdkJBLElBQVdBLEVBQVMsS0FGcEJJLEdBQWlCLEdBRXlCLElBQzdCLElBQUdKLEVBQVMsR0FDekIsSUFDSXZILEtBQUtvRixPQUFPc0MsVUFBbUIsSUFBVEgsR0FDeEIsTUFBT0ssTUFJYixZQUFBWixPQUFBLFdBQ0loSCxLQUFLb0YsT0FBT3VELGFBR3BCLEVBOURBLENBQStDWixJVkovQyxTQUFZNUYsR0FDUixtQkFBTSx5QkFBUyx5QkFEbkIsQ0FBWUEsTUFBZ0IsS1dFckIsSUFBTXlHLEVBQTJCLENBQ3BDeEosTUFBTyw0QkFDUEMsTUFBTyxTQUNQQyxPQUFRLENBQ0pDLEtBQU0sU0NIRHNKLEVBQWtCLFNBQUNDLEdBQzVCLE1BQU8sQ0FDSDFKLE1BQU8sNEJBQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUNKQyxLQUFNLFdBQ051SixTQUFRLEsscWdEQ01wQixhQWFJLFdBQW9CbkosRUFBc0NvSixFQUE0QjdILEdBQXRGLFdBQW9CLEtBQUF2QixNQUFzQyxLQUFBb0osaUJBWmxELEtBQUE1SixLQUFhLEtBQ2IsS0FBQTZKLE1BQXFCLEdBQ3JCLEtBQUFDLFNBQXdCLEdBQ3hCLEtBQUFDLGVBQXlCLEVBTXpCLEtBQUFDLFlBQXNCLEVBSTFCbkosS0FBS29KLGFBQWUsSUFBSUMsR0FBa0IsU0FBQUMsR0FBTyxTQUFLUCxlQUFlOUMsU0FBU3FELE1BQzlFdEosS0FBS3VKLFFBQVUsSUFBSSxFQUEwQnZKLEtBQUt3Six1QkFBdUJySCxFQUFpQnNILFNBQVU5SixHQUNwR0ssS0FBSzBKLFFBQVUsSUFBSUMsRUFBMEIzSixLQUFLd0osdUJBQXVCckgsRUFBaUJ5SCxTQUFVakssRUFBS3VCLEVBQU84RyxZQUNoSHJJLEVBQUkrQixHQUFHLFNBQVMsU0FBQ21JLEdBQWdCLFNBQUtDLFNBQVNELEVBQVliLE1BQU9hLEVBQVlFLFFBQVMsRUFBS1osZUFrS3BHLE9BL0pXLFlBQUFhLFVBQVAsU0FBaUJsSyxHQUNiRSxLQUFLK0ksZUFBaUJqSixFQUNsQkUsS0FBS21KLFdBQVlySixFQUFPZ0gsT0FDdkJoSCxFQUFPK0csUUFDWixJQUFJb0QsRUFBWSxFQUFJakssS0FBS2dKLE9BQ3pCbEosRUFBTytKLFlBQVlJLEVBQVdqSyxLQUFLaUosVUFDbkNuSixFQUFPWCxLQUFLYSxLQUFLYixNQUNqQlcsRUFBT29LLGVBQWVsSyxLQUFLOEksV0FHbEIsWUFBQWhDLEtBQWIsU0FBa0JDLEVBQXFCNUgsRyx1R0FDbkNhLEtBQUttSixZQUFhLEVBQ2RoSyxHQUNJYSxLQUFLYixNQUFNYSxLQUFLNkcsUUFDcEI3RyxLQUFLYixLQUFPQSxHQUNOZ0wsRUFBYW5LLEtBQUtvSyxjQUFjakwsRUFBS2tMLFdBQ2hDM0MsVUFBVTFILEtBQUs4SSxTQUFTdkIsT0FBUXZILEtBQUs4SSxTQUFTbkIsZUFDekR3QyxFQUFXckQsS0FBSzNILEVBQU00SCxHLE9BTHRCLE0sY0FNTy9HLEtBQUtiLE1BQ1BhLEtBQUtrSixlQUFrRCxJQUFqQ2xKLEtBQUtvSixhQUFha0IsWUFHekN0SyxLQUFLa0osZUFBZ0IsRUFDckJsSixLQUFLOEcsTUFBSyxFQUFNOUcsS0FBS2IsT0FIckJhLEtBQUtvSyxjQUFjcEssS0FBS2IsS0FBS2tMLFVBQVVyRCxTLE9BRnBDLE0sT0FPSixTQUFNaEgsS0FBS2tDLFEsT0FBWCxTLHdCQUNQbEMsS0FBSytJLGVBQWU1SixLQUFLYSxLQUFLYixNQUM5QmEsS0FBS21KLFlBQWEsRSxZQUdmLFlBQUF0QyxNQUFQLFdBQ0k3RyxLQUFLbUosWUFBYSxFQUNkbkosS0FBS2IsTUFBTWEsS0FBS29LLGNBQWNwSyxLQUFLYixLQUFLa0wsVUFBVXhELFNBR2xELFlBQUF1RCxjQUFSLFNBQXNCQyxHQUNsQixPQUFRQSxHQUNKLEtBQUtsSSxFQUFpQm9JLEtBQ3RCLFFBQ0ksT0FBTyxLQUNYLEtBQUtwSSxFQUFpQnNILFFBQ2xCLE9BQU96SixLQUFLdUosUUFDaEIsS0FBS3BILEVBQWlCeUgsUUFDbEIsT0FBTzVKLEtBQUswSixVQUlqQixZQUFBakMsS0FBUCxTQUFZeEIsR0FDSmpHLEtBQUtiLE1BQU1hLEtBQUtvSyxjQUFjcEssS0FBS2IsS0FBS2tMLFVBQVU1QyxLQUFLeEIsSUFHeEQsWUFBQXVFLFNBQVAsU0FBZ0JyTCxHQUNaYSxLQUFLZ0osTUFBTWxILEtBQUszQyxHQUNoQmEsS0FBSytJLGVBQWVjLFlBQVk3SixLQUFLZ0osTUFBT2hKLEtBQUtpSixVQUM1Q2pKLEtBQUtvSixhQUFhcUIsU0FBU3pLLEtBQUs4RyxNQUFLLE9BQU80RCxJQUc5QyxZQUFBWixTQUFQLFNBQWdCZCxFQUFvQmUsRUFBc0JqRCxHQUN0RCxRQURzRCxJQUFBQSxPQUFBLEdBQ2xEa0MsRUFBTXpFLE9BQVEsQ0FDZCxJQUFNcEYsRUFBTzZKLEVBQU0sR0FDZmxDLEtBQVU5RyxLQUFLYixNQUFTYSxLQUFLYixNQUFRYSxLQUFLYixLQUFLMEYsTUFBUTFGLEVBQUswRixLQUFPN0UsS0FBSzhHLE1BQUssRUFBTTNILElBRW5GYSxLQUFLK0ksZUFBZTVKLEtBQUs2SixFQUFNLElBQy9CaEosS0FBS2IsS0FBT0EsUUFHaEJhLEtBQUtvSixhQUFhdUIsZ0JBQ2QzSyxLQUFLYixNQUFNYSxLQUFLNkcsUUFDcEI3RyxLQUFLYixLQUFPLEtBQ1phLEtBQUsrSSxlQUFlNUosS0FBSyxNQUN6QmEsS0FBS29KLGFBQWF1QixnQkFFdEIzSyxLQUFLZ0osTUFBUUEsRUFDYmhKLEtBQUtpSixTQUFXYyxFQUNoQi9KLEtBQUsrSSxlQUFlYyxZQUFZN0osS0FBS2dKLE1BQU9oSixLQUFLaUosV0FHOUMsWUFBQTJCLFVBQVAsV0FDSTVLLEtBQUtvSixhQUFhdUIsZ0JBQ2QzSyxLQUFLYixPQUNMYSxLQUFLNkcsUUFDTDdHLEtBQUtpSixTQUFTNEIsUUFBUTdLLEtBQUtiLE9BRTFCYSxLQUFLZ0osTUFBTXpFLFFBS1p2RSxLQUFLOEcsTUFBSyxFQUFNOUcsS0FBS2dKLE1BQU0sSUFDM0JoSixLQUFLZ0osTUFBTThCLFVBTFg5SyxLQUFLYixLQUFPLEtBQ1phLEtBQUsrSSxlQUFlNUosS0FBSyxNQUN6QmEsS0FBS29KLGFBQWF1QixpQkFLdEIzSyxLQUFLK0ksZUFBZWMsWUFBWTdKLEtBQUtnSixNQUFPaEosS0FBS2lKLFdBR3hDLFlBQUE4QixLQUFiLFcsZ0dBQ2lCLFNBQU0vSyxLQUFLTCxJQUFJa0IsU0FBU0UsUUFBUTZILEksT0FDN0MsR0FBc0IsYUFEbEJ4SCxFQUFTLFVBQ0ZGLE9BQ1AsTUFBT0UsRUFBYyxRLGtCQUdoQixZQUFBYyxLQUFiLFcsMEZBQ0ksU0FBTWxDLEtBQUtMLElBQUlrQixTQUFTRSxRQUFRdEIsR0FBWSxLLGNBQTVDLFMsWUFHUyxZQUFBQyxLQUFiLFcsMEZBQ0ksU0FBTU0sS0FBS0wsSUFBSWtCLFNBQVNFLFFBQVF0QixHQUFZLEssY0FBNUMsUyxZQUdTLFlBQUF1TCxPQUFiLFNBQW9CN0wsRywwRkFDaEIsU0FBTWEsS0FBS0wsSUFBSWtCLFNBQVNFLFFBQVE3QixFQUFXQyxLLGNBQTNDLFMsWUFHSSxZQUFBcUssdUJBQVIsU0FBK0J5QixHQUEvQixXQUNJLE1BQU8sQ0FDSDdFLFFBQVMsV0FDQSxFQUFLakgsT0FBUSxDQUFDZ0QsRUFBaUJvSSxLQUFNVSxHQUFNQyxTQUFTLEVBQUsvTCxLQUFLa0wsWUFDL0QsRUFBS2pCLGFBQWFxQixTQUFVLEVBQzVCLEVBQUsxQixlQUFlb0MsU0FFekI5RSxPQUFRLFNBQUNsSCxHQUNILEVBQUtBLE1BQ04sRUFBS0EsS0FBS2tMLFdBQWFZLElBQzNCLEVBQUs3QixhQUFhcUIsU0FBVSxFQUM1QixFQUFLMUIsZUFBZWpDLFNBQ3JCWCxpQkFBa0IsU0FBQ2lGLEVBQVlDLEdBQ3pCLEVBQUtsTSxNQUNOLEVBQUtBLEtBQUtrTCxXQUFhWSxHQUMzQixFQUFLN0IsYUFBYWtDLFlBQVlGLEVBQUlDLElBQ25DN0UsT0FBUSxXQUFNLFNBQUt0RSxVQUlqQixZQUFBcUosVUFBYixTQUF1QnpFLEcsWUFBQSxJQUFBQSxPQUFBLEcseUZBQ0wsU0FBTTlHLEtBQUtMLElBQUlrQixTQUFTRSxRQUFRdkIsSSxjQUExQzRCLEVBQVUsU0FBa0RBLE9BQ2hFcEIsS0FBSzhKLFNBQVMxSSxFQUFPNEgsTUFBTzVILEVBQU8ySSxRQUFTakQsRyxZQUduQyxZQUFBWSxVQUFiLFNBQXVCSCxHLDBGQUNuQixTQUFNdkgsS0FBS3dMLFlBQVksQ0FBQ2pFLE9BQU0sSyxjQUE5QixTLFlBR1MsWUFBQWtFLGlCQUFiLFNBQThCOUQsRywwRkFDMUIsU0FBTTNILEtBQUt3TCxZQUFZLENBQUM3RCxjQUFhLEssY0FBckMsUyxZQUdTLFlBQUE2RCxZQUFiLFNBQXlCMUMsRyxnR0FDSixTQUFNOUksS0FBS0wsSUFBSWtCLFNBQVNFLFFBQVE4SCxFQUFnQkMsSyxPQUlqRSxNQUh3QixhQURsQjdILEVBQVcsVUFDSkMsUUFDVGxCLEtBQUswTCxlQUFlekssRUFBU0csUUFFMUIsQ0FBUCxFQUFPSCxXQUdILFlBQUF5SyxlQUFSLFNBQXVCdEssR0FDbkJwQixLQUFLK0ksZUFBZW1CLGVBQWU5SSxHQUNuQ3BCLEtBQUt1SixRQUFRN0IsVUFBVXRHLEVBQU9tRyxPQUFRbkcsRUFBT3VHLGVBQzdDM0gsS0FBSzBKLFFBQVFoQyxVQUFVdEcsRUFBT21HLE9BQVFuRyxFQUFPdUcsZUFDN0MzSCxLQUFLOEksU0FBVzFILEdBRXhCLEVBbkxBLEdBcUxBLGFBT0ksV0FBb0J1SyxHQUFwQixXQUFvQixLQUFBQSxXQU5iLEtBQUFsQixTQUFtQixFQUNsQixLQUFBbUIsYUFBdUI1SSxLQUFLa0MsTUFDNUIsS0FBQWdCLFNBQW1CLEVBQ25CLEtBQUFELFNBQW1CLEVBQ3BCLEtBQUFxRSxXQUFxQixFQUd4QixJQUFNRyxFQUFVLFdBQ1osRUFBS29CLGFBQ0wzTCxXQUFXdUssRUFBUyxNQUV4QkEsSUF3QlIsT0FyQlcsWUFBQWEsWUFBUCxTQUFtQnJGLEVBQWtCQyxHQUNqQ2xHLEtBQUs0TCxhQUFlNUksS0FBS2tDLE1BQ3pCbEYsS0FBS2lHLFNBQVdBLEVBQ2hCakcsS0FBS2tHLFNBQVdBLEVBQ2hCbEcsS0FBSzZMLGNBR0YsWUFBQWxCLGNBQVAsV0FDSTNLLEtBQUtzTCxZQUFZLEVBQUcsSUFHaEIsWUFBQU8sV0FBUixXQUNJLElBQUl2QixFQUNrQixJQUFsQnRLLEtBQUtrRyxVQUFvQyxJQUFsQmxHLEtBQUtpRyxVQUk1QmpHLEtBQUt5SyxVQUFTSCxHQUFjdEssS0FBS2lHLFVBQVlqRCxLQUFLa0MsTUFBUWxGLEtBQUs0TCxlQUFpQjVMLEtBQUtrRyxVQUMvRCxpQkFBZm9FLElBQXlCdEssS0FBS3NLLFdBQWFBLEVBQWEsRUFBSSxFQUFJQSxHQUMzRXRLLEtBQUsyTCxTQUFTM0wsS0FBS3NLLGFBTGZ0SyxLQUFLMkwsU0FBUyxJQU8xQixFQXBDQSxHQ2pNYUcsRUFBZ0IsU0FBQzlLLEVBQWUrSyxHQUN6QyxNQUFPLENBQ0gzTSxNQUFPLDRCQUNQQyxNQUFPLFNBQ1BDLE9BQVEsQ0FDSkMsS0FBTSxTQUNOOEssU0FBVWxJLEVBQWlCc0gsUUFDM0J6SSxNQUFLLEVBQ0wrSyxNQUFLLEtDUkpDLEVBQWdCLFNBQUNELEdBQzFCLE1BQU8sQ0FDSDNNLE1BQU8sNEJBQ1BDLE1BQU8sU0FDUEMsT0FBUSxDQUNKQyxLQUFNLFNBQ044SyxTQUFVbEksRUFBaUJ5SCxRQUMzQm1DLE1BQUssSyw2MENDSGpCLGFBQ0ksV0FBb0JwTSxFQUFzQzRKLEdBQXRDLEtBQUE1SixNQUFzQyxLQUFBNEosVUFjOUQsT0FYaUIsWUFBQTBDLFVBQWIsU0FBdUJGLEcsZ0dBQ0YsU0FBTS9MLEtBQUtMLElBQUlrQixTQUFTRSxRQUFRK0ssRUFBYzlMLEtBQUt1SixRQUFRdkksTUFBTytLLEssT0FDbkYsR0FBd0IsYUFEbEI5SyxFQUFXLFVBQ0pDLE9BQXNCLE1BQU8sQ0FBUCxFQUFPRCxFQUFTRyxRQUNuRCxLQUFLLDZCQUdJLFlBQUE4SyxVQUFiLFNBQXVCSCxHLGdHQUNGLFNBQU0vTCxLQUFLTCxJQUFJa0IsU0FBU0UsUUFBUWlMLEVBQWNELEdBQVEsTSxPQUN2RSxHQUF3QixhQURsQjlLLEVBQVcsVUFDSkMsT0FBc0IsTUFBTyxDQUFQLEVBQU9ELEVBQVNHLFFBQ25ELEtBQUssNkJBRWIsRUFmQSxHLG0zQ0NHQSwwQkFDWSxLQUFBRixPQUErQixFQU1oQyxLQUFBMkUsUUFBZSxDQUFDQyxlQUFnQixJQUMvQixLQUFBcUcsZUFBeUIsRUE4RHJDLE9BNURXLFlBQUF4SCxLQUFQLFNBQVkvRSxFQUFhRCxFQUFhRyxHQUF0QyxXQUVJLEdBREFFLEtBQUtGLE9BQVNBLEVBQ1ZFLEtBQUtvTSxJQUlMLE9BSEFwTSxLQUFLcU0sU0FBU3JDLFVBQVVsSyxHQUN4QkEsRUFBT3dNLG1CQUFtQnRNLEtBQUttTSxvQkFDL0JyTSxFQUFPeU0sWUFBWXZNLEtBQUtrQixRQUc1QmxCLEtBQUtvTSxJQUFNLElBQUksRUFBd0J6TSxFQUFLQyxFQUFLLENBQzdDWSxjQUFlLFNBQU1VLEdBQU0scUMseURBQ3ZCbEIsS0FBS2tCLE9BQU92QixJQUFpQixJQUFYdUIsRUFDbEJsQixLQUFLNEgsSUFBSTJFLFlBQVl2TSxLQUFLa0IsUUFDdEJsQixLQUFLa0IsT0FBT3ZCLElBQUssR0FBTUssS0FBSzRHLFlBQVk5SSxPQUF4QyxNLE9BQWlCLFMsd0JBQ2pCb0QsSUFBV2pDLEVBQW9CdUMsVUFBL0IsT0FDQXhCLEtBQUt1TCxXQUFVLEdBQ2YsR0FBTXZMLEtBQUtxTSxTQUFTYixnQixPQUFwQixTLHFDQUlaeEwsS0FBS3FNLFNBQVcsSUFBSSxFQUF5QnJNLEtBQUtvTSxJQUFLcE0sS0FBS0YsT0FBUUUsS0FBS2tCLFFBQ3pFbEIsS0FBS3dNLE9BQVMsSUFBSSxFQUFpQnhNLEtBQUtvTSxJQUFLcE0sS0FBS3FNLFNBQVM5QyxTQUMzRHZKLEtBQUs0RyxZQUFjLElBQUksRUFBZ0M1RyxLQUFLb00sSUFBSyxDQUM3RDVMLGNBQWVSLEtBQUt5TSxjQUNwQnpILHFCQUFzQixTQUFDbUgsRUFBd0JuTCxHQUMzQyxFQUFLbUwsY0FBZ0JBLEVBQ3JCLEVBQUt2RSxJQUFJMEUsbUJBQW1CSCxHQUN4Qm5MLEdBQU8sRUFBS3FMLFNBQVM5QyxRQUFRNUUsS0FBSzNELE1BRzlDaEIsS0FBSzRILElBQUkyRSxZQUFZdk0sS0FBS2tCLFNBR3ZCLFlBQUF1TCxjQUFQLFNBQXFCdkwsR0FDakJsQixLQUFLa0IsT0FBT3FJLFFBQVVySSxFQUN0QmxCLEtBQUs0SCxJQUFJMkUsWUFBWXZNLEtBQUtrQixTQUd2QixZQUFBd0wsZ0JBQVAsV0FDSTFNLEtBQUtrQixPQUFPOEcsWUFBYSxFQUN6QmhJLEtBQUs0SCxJQUFJMkUsWUFBWXZNLEtBQUtrQixTQUd2QixZQUFBeUwsZ0JBQVAsV0FDSTNNLEtBQUtrQixPQUFPMEwsWUFBYSxFQUN6QjVNLEtBQUs0SCxJQUFJMkUsWUFBWXZNLEtBQUtrQixTQUd0QixZQUFBMEcsRUFBUixXQUNJLE9BQUk1SCxLQUFLRixPQUFlRSxLQUFLRixPQUN0QitNLEdBR0csWUFBQXRCLFVBQWQsU0FBd0J6RSxHLFlBQUEsSUFBQUEsT0FBQSxHLG1GQUNwQixTQUFNOUcsS0FBS3FNLFNBQVNkLFVBQVV6RSxJLGNBQTlCLFMsWUFHUyxZQUFBZ0csT0FBYixTQUFvQkMsRywwRkFFaEIsT0FEQS9NLEtBQUs2RixRQUFRa0gsT0FBU0EsRUFDdEIsR0FBTS9NLEtBQUtvTSxJQUFJdkwsU0FBU0UsU0M1RUYrTCxFRDRFd0I5TSxLQUFLNkYsUUMzRWhELENBQ0h6RyxNQUFPLDRCQUNQQyxNQUFPLFNBQ1BDLE9BQVEsQ0FDSkMsS0FBTSxTQUNOb0csUUFBU21ILEVBQU9uSCxRQUNoQm1ILE9BQU0sTyxjRHFFVixTLElDNUVxQixJQUFDQSxTRDhFOUIsRUF0RUEsR0F3RU1ELEVBQTRCLENBQzlCM0MsZUFBZ0IsU0FBVWtCLEtBRTFCdkIsWUFBYSxTQUFVdUIsS0FFdkJrQixrQkFBbUIsU0FBVWxCLEdBQ3pCdkQsUUFBUUMsSUFBSSxvQ0FBc0NzRCxFQUFLLFVBQVksYUFFdkVtQixZQUFhLFNBQVVuQixLQUNwQnZFLE1BQU8sV0FDTmdCLFFBQVFDLElBQUksVUFDYmhCLEtBQU0sV0FDTGUsUUFBUUMsSUFBSSxTQUNiN0IsU0FBVSxTQUFVbUYsR0FDbkJ2RCxRQUFRQyxJQUFJLFFBQVVzRCxJQUN2QmpNLEtBQU0sU0FBVWlNLEdBQ2Z2RCxRQUFRQyxJQUFJLFNBQVdzRCxFQUFHNU4sT0FDM0IyTixLQUFNLFdBQ0x0RCxRQUFRQyxJQUFJLFVBSWQsRUFBZ0IsQ0FDbEJuSSxLQUFLLEVBQ0xpTixZQUFZLEVBQ1pyRCxTQUFTLEVBQ1R2QixZQUFZLEVBQ1owQixTQUFTLEksNkJFN0diLHVCQUdNUyxFQUE2QixJQUhuQyxLQUd1QyxHQUVqQzNGLEVBQU1MLE9BQ1pLLEVBQUlvQixLQUFPdUUsRUFDWDNGLEVBQUl3SSw2QkFBK0IsV0FBTSxPQUFBN0MsRUFBV3dDLG9CQUVuQ3hJLFFBQVU4SSxHQUNuQkMsd0JBQTBCLFdBQU0sT0FBQS9DLEVBQVd1QyxtQkFHbkQsRUFBUSxJLCtCQ2JSLElBQUlTLEVBR0pBLEVBQUksV0FDSCxPQUFPbk4sS0FESixHQUlKLElBRUNtTixFQUFJQSxHQUFLLElBQUlDLFNBQVMsY0FBYixHQUNSLE1BQU94RixHQUVjLGlCQUFYekQsU0FBcUJnSixFQUFJaEosUUFPckNuSCxFQUFPRCxRQUFVb1EsRyxjQ2xCakIsSUFBS2hKLE9BQVcsR0FBSSxJQUFJOEQsRUFBSyxDQUFDb0YsUUFBUyxFQUFFQyxPQUFRLEdBQUksSUFBS25KLE9BQWlCLFNBQUksSUFBSW9KLEVBQVcsQ0FBQyxLQUFRLDBCQUFnQ3RGLEVBQUdvRixVQUFVcEYsRUFBR29GLFFBQVUsRUFBRSxXQUFZLElBQUluUSxFQUFJLEdBQUcrSyxFQUFHdUYsTUFBUSxTQUFTQyxHQUFReEYsRUFBR3FGLE9BQVNHLElBQVl2USxFQUFFNEUsS0FBSzJMLElBQU10SixPQUFPdUosVUFBWSxXQUFZekYsRUFBR3FGLE9BQVMsRUFBRSxJQUFLLElBQUlyUSxFQUFJLEVBQUdBLEVBQUlDLEVBQUVxSCxPQUFRdEgsSUFBTSxJQUFLQyxFQUFFRCxLQUFPLE1BQU8ySyxNQUFRSyxFQUFHMEYsVUFBWSxTQUFTclEsR0FBSSxJQUFLLElBQUlzUSxLQUFLdFEsRUFBUUEsRUFBRXdCLGVBQWU4TyxLQUFLTCxFQUFTSyxHQUFLdFEsRUFBRXNRLEtBQU8sSUFBSUMsRUFBSUMsU0FBU0MsY0FBYyxVQUFVRixFQUFFdE8sS0FBTyxrQkFBa0JzTyxFQUFFbkgsR0FBSyx1QkFBdUJtSCxFQUFFRyxJQUFNLHlFQUF5RUgsRUFBRUksT0FBUSxFQUFLLElBQUkzUSxFQUFJd1EsU0FBU0ksY0FBYyxHQUFJNVEsRUFBRyxDQUFDLElBQUlvQixFQUFJcEIsRUFBRTZRLE9BQVM3USxFQUFFOFEsYUFBYSxTQUFhMVAsR0FBSW1QLEVBQUVRLGFBQWEsUUFBUzNQLEdBQUssSUFBSTRQLEVBQUlSLFNBQVNTLHFCQUFxQixVQUFVLEdBQUdELEVBQUVFLFdBQVdDLGFBQWFaLEVBQUdTLEdBQTlxQiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJpbXBvcnQge0lBUElSZXF1ZXN0fSBmcm9tIFwiLi4vLi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtTb25nfSBmcm9tIFwiLi4vLi4vLi4vLi4vbW9kZWxzL1NvbmdcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBBZGRSZXF1ZXN0ID0gKHNvbmc6IFNvbmcpOiBJQVBJUmVxdWVzdCA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9ldmVudHNcIixcclxuICAgICAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgICAgICBhY3Rpb246IHtcclxuICAgICAgICAgICAgdHlwZTogXCJhZGRcIixcclxuICAgICAgICAgICAgc29uZ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHtTb25nfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1NvbmdcIjtcclxuaW1wb3J0IHtBZGRSZXF1ZXN0fSBmcm9tIFwiLi9yZXF1ZXN0cy9zb25ncmVxdWVzdHMvQWRkUmVxdWVzdFwiO1xyXG5pbXBvcnQge0dldFF1ZXVlUmVxdWVzdH0gZnJvbSBcIi4vcmVxdWVzdHMvc29uZ3JlcXVlc3RzL0dldFF1ZXVlUmVxdWVzdFwiO1xyXG5pbXBvcnQge05leHRSZXF1ZXN0fSBmcm9tIFwiLi9yZXF1ZXN0cy9zb25ncmVxdWVzdHMvTmV4dFJlcXVlc3RcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uQ29udHJvbGxlciB7XHJcbiAgICBwdWJsaWMgcmVxdWVzdHM6IEFQSVJlcXVlc3RNYW5hZ2VyO1xyXG4gICAgcHJpdmF0ZSBldmVudHM6IE1hcDxzdHJpbmcsIEFycmF5PChkZXRhaWxzOiBhbnksIHRpbWVTdGFtcDogRGF0ZSkgPT4gdm9pZD4+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHByaXZhdGUgY2xpZW50OiBXZWJTb2NrZXQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBhcGk6IHN0cmluZyxcclxuICAgICAgICBwcml2YXRlIGp3dDogc3RyaW5nLFxyXG4gICAgICAgIHByaXZhdGUgc3RhdHVzTGlzdGVuZXI6IEFQSUNvbm5lY3Rpb25TdGF0dXNMaXN0ZW5lclxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25uZWN0KCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QoKTtcclxuICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICBpZiAodGhpcy5jbGllbnQgJiYgdGhpcy5jbGllbnQucmVhZHlTdGF0ZSA9PT0gdGhpcy5jbGllbnQuT1BFTikgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IFdlYlNvY2tldCh0aGlzLmFwaSk7XHJcbiAgICAgICAgdGhpcy5jbGllbnQub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNMaXN0ZW5lci5zdGF0dXNDaGFuZ2VkKEFQSUNvbm5lY3Rpb25TdGF0dXMuRElTQ09OTkVDVEVEKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY2xpZW50Lm9ub3BlbiA9ICgpID0+IHRoaXMuYXV0aG9yaXplKCk7XHJcbiAgICAgICAgdGhpcy5jbGllbnQub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNMaXN0ZW5lci5zdGF0dXNDaGFuZ2VkKEFQSUNvbm5lY3Rpb25TdGF0dXMuRElTQ09OTkVDVEVEKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVxdWVzdHMgPSBuZXcgQVBJUmVxdWVzdE1hbmFnZXIodGhpcy5jbGllbnQsIHRoaXMuZXZlbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGF1dGhvcml6ZSgpIHtcclxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3RzLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICB0b3BpYzogJ2F1dGgnLFxyXG4gICAgICAgICAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgICAgICAgICAgYWN0aW9uOiB7dHlwZTogJ0pXVF9UT0tFTicsIHRva2VuOiB0aGlzLmp3dH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgbGV0IGNoYW5uZWwgPSByZXNwb25zZS5yZXN1bHQudXNlci50d2l0Y2hJZDtcclxuICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3RzLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICd0d2FzaS1zb25ncmVxdWVzdHMvZXZlbnRzJyxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiBcInN1YnNjcmliZVwiLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7Y2hhbm5lbH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0dXNMaXN0ZW5lci5zdGF0dXNDaGFuZ2VkKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gQVBJQ29ubmVjdGlvblN0YXR1cy5DT05ORUNURUQgOiBBUElDb25uZWN0aW9uU3RhdHVzLlVOQVVUSE9SSVpFRCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IChkZXRhaWxzOiBhbnksIHRpbWVTdGFtcDogRGF0ZSkgPT4gdm9pZCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ldmVudHMuaGFzKGV2ZW50KSkgdGhpcy5ldmVudHMuc2V0KGV2ZW50LCBbaGFuZGxlcl0pO1xyXG4gICAgICAgIGVsc2UgdGhpcy5ldmVudHMuZ2V0KGV2ZW50KS5wdXNoKGhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBhZGQoc29uZzogU29uZykge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJlcXVlc3RzLnJlcXVlc3QoQWRkUmVxdWVzdChzb25nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFF1ZXVlKCkge1xyXG4gICAgICAgIHJldHVybiAoYXdhaXQgdGhpcy5yZXF1ZXN0cy5yZXF1ZXN0KEdldFF1ZXVlUmVxdWVzdCkpLnJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbmV4dChza2lwOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZXF1ZXN0cy5yZXF1ZXN0KE5leHRSZXF1ZXN0KHNraXApKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGVudW0gQVBJQ29ubmVjdGlvblN0YXR1cyB7XHJcbiAgICBDT05ORUNURUQsIERJU0NPTk5FQ1RFRCwgVU5BVVRIT1JJWkVEXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQVBJQ29ubmVjdGlvblN0YXR1c0xpc3RlbmVyIHtcclxuICAgIHN0YXR1c0NoYW5nZWQ6IChzdGF0dXM6IEFQSUNvbm5lY3Rpb25TdGF0dXMpID0+IHZvaWRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQVBJUmVxdWVzdCB7XHJcbiAgICByZWY/OiBzdHJpbmc7XHJcbiAgICB0b3BpYzogc3RyaW5nO1xyXG4gICAgc2NvcGU6ICdhY3Rpb24nIHwgJ3N1YnNjcmliZSc7XHJcbiAgICBhY3Rpb24/OiBhbnk7XHJcbiAgICBjb25maWc/OiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBUElSZXF1ZXN0TWFuYWdlciB7XHJcbiAgICBwcml2YXRlIGNvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBwZW5kaW5nOiBNYXA8c3RyaW5nLCAocmVzPzogYW55KSA9PiB2b2lkPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgZXZlbnRzOiBNYXA8c3RyaW5nLCBBcnJheTwoZGV0YWlsczogYW55LCB0aW1lU3RhbXA6IERhdGUpID0+IHZvaWQ+PiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgY2xpZW50OiBXZWJTb2NrZXQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2xpZW50OiBXZWJTb2NrZXQsIGV2ZW50cz86IE1hcDxzdHJpbmcsIEFycmF5PChkZXRhaWxzOiBhbnksIHRpbWVTdGFtcDogRGF0ZSkgPT4gdm9pZD4+KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50cykgdGhpcy5ldmVudHMgPSBldmVudHM7XHJcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XHJcbiAgICAgICAgdGhpcy5jbGllbnQub25tZXNzYWdlID0gKG1zZykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvYiA9IEpTT04ucGFyc2UobXNnLmRhdGEpIGFzIGFueTtcclxuICAgICAgICAgICAgaWYgKG9iLnJlZiAmJiB0aGlzLnBlbmRpbmcuaGFzKG9iLnJlZikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5nZXQob2IucmVmKShvYi5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmRlbGV0ZShvYi5yZWYpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iLmV2ZW50ICYmIHRoaXMuZXZlbnRzLmhhcyhvYi5ldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmdldChvYi5ldmVudCkuZm9yRWFjaChoYW5kbGVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyKG9iLmRldGFpbHMsIG5ldyBEYXRlKG9iLnRpbWVTdGFtcCkpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVxdWVzdChyZXE6IElBUElSZXF1ZXN0LCB0aW1lb3V0OiBudW1iZXIgPSAzMDAwKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBpZiAoIXJlcS5yZWYpIHJlcS5yZWYgPSB0aGlzLm5ld1JlZigpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyZXM6IChyZXM6IGFueSkgPT4gdm9pZCwgcmVqOiAoZXJyPzogYW55KSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGVuZGluZy5zZXQocmVxLnJlZiwgcmVzKTtcclxuICAgICAgICAgICAgdGhpcy5jbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeShyZXEpKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGVuZGluZy5oYXMocmVxLnJlZikpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUocmVxLnJlZik7XHJcbiAgICAgICAgICAgICAgICByZWooXCJUaW1lZCBPdXRcIik7XHJcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IChkZXRhaWxzOiBhbnksIHRpbWVTdGFtcDogRGF0ZSkgPT4gdm9pZCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ldmVudHMuaGFzKGV2ZW50KSkgdGhpcy5ldmVudHMuc2V0KGV2ZW50LCBbaGFuZGxlcl0pO1xyXG4gICAgICAgIGVsc2UgdGhpcy5ldmVudHMuZ2V0KGV2ZW50KS5wdXNoKGhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbmV3UmVmKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvdW50KyspLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgR2V0UXVldWVSZXF1ZXN0OiBJQVBJUmVxdWVzdCA9IHtcclxuICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9ldmVudHNcIixcclxuICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgYWN0aW9uOiB7XHJcbiAgICAgICAgdHlwZTogXCJxdWV1ZVwiXHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IE5leHRSZXF1ZXN0ID0gKHNraXA6IGJvb2xlYW4gPSBmYWxzZSk6IElBUElSZXF1ZXN0ID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9waWM6IFwidHdhc2ktc29uZ3JlcXVlc3RzL2V2ZW50c1wiLFxyXG4gICAgICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICB0eXBlOiBza2lwID8gXCJza2lwXCIgOiBcIm5leHRcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIiwiZXhwb3J0IGVudW0gUGxheWJhY2tQcm92aWRlciB7XHJcbiAgICBOT05FLCBTUE9USUZZLCBZT1VUVUJFXHJcbn1cclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgR2V0UmVxdWVzdDogSUFQSVJlcXVlc3QgPSB7XHJcbiAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFsc1wiLFxyXG4gICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICBhY3Rpb246IHtcclxuICAgICAgICB0eXBlOiBcImdldFwiXHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEluaXRSZXF1ZXN0OiBJQVBJUmVxdWVzdCA9IHtcclxuICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9zcG90aWZ5LWNyZWRlbnRpYWxzXCIsXHJcbiAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgIGFjdGlvbjoge1xyXG4gICAgICAgIHR5cGU6IFwiaW5pdFwiXHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNldFJlcXVlc3Q6IChjb2RlOiBzdHJpbmcpID0+IElBUElSZXF1ZXN0ID0gKGNvZGU6IHN0cmluZykgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFsc1wiLFxyXG4gICAgICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcInNldFwiLFxyXG4gICAgICAgICAgICBjb2RlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge0lBUElSZXF1ZXN0fSBmcm9tIFwiLi4vLi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBSZWZyZXNoUmVxdWVzdDogSUFQSVJlcXVlc3QgPSB7XHJcbiAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFsc1wiLFxyXG4gICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICBhY3Rpb246IHtcclxuICAgICAgICB0eXBlOiBcInJlZnJlc2hcIlxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge0lBUElSZXF1ZXN0fSBmcm9tIFwiLi4vLi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBSZW1vdmVSZXF1ZXN0OiBJQVBJUmVxdWVzdCA9IHtcclxuICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9zcG90aWZ5LWNyZWRlbnRpYWxzXCIsXHJcbiAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgIGFjdGlvbjoge1xyXG4gICAgICAgIHR5cGU6IFwicmVtb3ZlXCJcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHtBUElDb25uZWN0aW9uQ29udHJvbGxlcn0gZnJvbSBcIi4uL2FwaS9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge0dldFJlcXVlc3R9IGZyb20gXCIuLi9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9HZXRSZXF1ZXN0XCI7XHJcbmltcG9ydCB7SW5pdFJlcXVlc3R9IGZyb20gXCIuLi9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9Jbml0UmVxdWVzdFwiO1xyXG5pbXBvcnQge1NldFJlcXVlc3R9IGZyb20gXCIuLi9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9TZXRSZXF1ZXN0XCI7XHJcbmltcG9ydCB7UmVmcmVzaFJlcXVlc3R9IGZyb20gXCIuLi9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9SZWZyZXNoUmVxdWVzdFwiO1xyXG5pbXBvcnQge1JlbW92ZVJlcXVlc3R9IGZyb20gXCIuLi9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9SZW1vdmVSZXF1ZXN0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3BvdGlmeUF1dGhlbnRpY2F0aW9uQ29udHJvbGxlciB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwaTogQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyOiBJU3BvdGlmeUF1dGhlbnRpY2F0aW9uTGlzdGVuZXI7XHJcblxyXG4gICAgcHJpdmF0ZSB0b2tlbjogc3RyaW5nID0gbnVsbDtcclxuICAgIHByaXZhdGUgZXhwaXJlczogRGF0ZSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHdpbjogV2luZG93O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwaTogQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXIsIGxpc3RlbmVyOiBJU3BvdGlmeUF1dGhlbnRpY2F0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmFwaSA9IGFwaTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XHJcbiAgICAgICAgY29uc3QgcmVjZWl2ZUNvZGUgPSBhc3luYyAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoISh0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIikpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKCEoZXZlbnQuZGF0YSBhcyBzdHJpbmcpLnN0YXJ0c1dpdGgoXCJjb2RlOlwiKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldChldmVudC5kYXRhLnN1YnN0cihcImNvZGU6XCIubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIHRoaXMud2luLnBvc3RNZXNzYWdlKFwiY2xvc2VcIiwgXCIqXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHJlY2VpdmVDb2RlLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldCgpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KEdldFJlcXVlc3QpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlKHJlcy50b2tlbiA/IHJlcyA6IG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBpbml0KCkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuYXBpLnJlcXVlc3RzLnJlcXVlc3QoSW5pdFJlcXVlc3QpO1xyXG4gICAgICAgIHRoaXMud2luID0gd2luZG93Lm9wZW4ocmVzLnJlc3VsdC51cmksIFwicG9wVXBXaW5kb3dcIiwgJ2hlaWdodD01MDAsd2lkdGg9NDAwLGxlZnQ9MTAwLHRvcD0xMDAscmVzaXphYmxlPXllcyxzY3JvbGxiYXJzPXllcyx0b29sYmFyPXllcyxtZW51YmFyPW5vLGxvY2F0aW9uPW5vLGRpcmVjdG9yaWVzPW5vLCBzdGF0dXM9eWVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBzZXQoY29kZTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChTZXRSZXF1ZXN0KGNvZGUpKTtcclxuICAgICAgICB0aGlzLmhhbmRsZShyZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyByZWZyZXNoKCkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuYXBpLnJlcXVlc3RzLnJlcXVlc3QoUmVmcmVzaFJlcXVlc3QpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlKHJlcy50b2tlbiA/IHJlcyA6IG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyByZW1vdmUoKSB7XHJcbiAgICAgICAgaWYgKChhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KFJlbW92ZVJlcXVlc3QpKS5zdGF0dXMgIT09ICdzdWNjZXNzJylcclxuICAgICAgICAgICAgdGhyb3coXCJBbiBlcnJvciBvY2N1cmVkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlKHJlczogeyB0b2tlbjogc3RyaW5nLCBleHBpcmVzOiBudW1iZXIgfSB8IG51bGwpIHtcclxuICAgICAgICBpZiAoIXJlcykgdGhpcy5saXN0ZW5lci5zcG90aWZ5QXV0aGVudGljYXRlZChmYWxzZSk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9rZW4gPSByZXMudG9rZW47XHJcbiAgICAgICAgICAgIHRoaXMuZXhwaXJlcyA9IG5ldyBEYXRlKHJlcy5leHBpcmVzKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5zcG90aWZ5QXV0aGVudGljYXRlZCh0cnVlLCByZXMudG9rZW4pO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRva2VuICE9PSByZXMudG9rZW4pIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9LCB0aGlzLmV4cGlyZXMuZ2V0VGltZSgpIC0gRGF0ZS5ub3coKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTcG90aWZ5QXV0aGVudGljYXRpb25MaXN0ZW5lciB7XHJcbiAgICBzdGF0dXNDaGFuZ2VkOiAobmV3U3RhdHVzOiBib29sZWFuKSA9PiB2b2lkLFxyXG4gICAgc3BvdGlmeUF1dGhlbnRpY2F0ZWQ6IChhdXRoZW50aWNhdGVkOiBib29sZWFuLCB0b2tlbj86IHN0cmluZykgPT4gdm9pZFxyXG59XHJcbiIsImltcG9ydCB7U29uZ30gZnJvbSBcIi4uLy4uL21vZGVscy9Tb25nXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUGxheWJhY2tTbGF2ZUNvbnRyb2xsZXIge1xyXG4gICAgcHVibGljIGFic3RyYWN0IHBhdXNlKCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHBsYXkoc29uZzogU29uZywgZm9yY2VCZWdpbjogYm9vbGVhbik6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHNlZWsocG9zaXRpb246IG51bWJlcik6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHNldFZvbHVtZSh2b2x1bWU6IG51bWJlciwgdm9sdW1lQmFsYW5jZTogbnVtYmVyKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVzdW1lKCk6IHZvaWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGV2ZW50czogUGxheWJhY2tTbGF2ZUV2ZW50cykge1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBsYXliYWNrU2xhdmVFdmVudHMge1xyXG4gICAgb25QbGF5OiAoc29uZz86IFNvbmcpID0+IHZvaWQ7XHJcbiAgICBvblBhdXNlOiAoKSA9PiB2b2lkO1xyXG4gICAgb25Qb3NpdGlvbkNoYW5nZTogKHBvczogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKSA9PiB2b2lkO1xyXG4gICAgb25OZXh0OiAoKSA9PiB2b2lkO1xyXG59XHJcbiIsImltcG9ydCB7QVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJ9IGZyb20gXCIuLi9hcGkvQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtTb25nfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1NvbmdcIjtcclxuaW1wb3J0IHtQbGF5YmFja1NsYXZlQ29udHJvbGxlciwgUGxheWJhY2tTbGF2ZUV2ZW50c30gZnJvbSBcIi4vUGxheWJhY2tTbGF2ZUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtUU1JJV2luZG93fSBmcm9tIFwiLi4vLi4vbW9kZWxzL1RTUklXaW5kb3dcIjtcclxuaW1wb3J0IHtTZXRWb2x1bWVSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL290aGVyL1NldFZvbHVtZVJlcXVlc3RcIjtcclxuXHJcbmRlY2xhcmUgY29uc3QgU3BvdGlmeTogYW55O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNwb3RpZnlQbGF5YmFja0NvbnRyb2xsZXIgZXh0ZW5kcyBQbGF5YmFja1NsYXZlQ29udHJvbGxlciB7XHJcbiAgICBwcml2YXRlIHBsYXllcjogYW55O1xyXG4gICAgcHJpdmF0ZSBzb25nOiBTb25nO1xyXG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nO1xyXG4gICAgdG9rZW46IHN0cmluZztcclxuICAgIHByaXZhdGUgcGxheWluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSB2b2x1bWU6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZXZlbnRzOiBQbGF5YmFja1NsYXZlRXZlbnRzLCBwcml2YXRlIGFwaTogQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXIpIHtcclxuICAgICAgICBzdXBlcihldmVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbml0KHRva2VuOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXIpIHRoaXMucGxheWVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gbmV3IFNwb3RpZnkuUGxheWVyKHtcclxuICAgICAgICAgICAgbmFtZTogJ1R3YXNpLVBhbmVsJyxcclxuICAgICAgICAgICAgZ2V0T0F1dGhUb2tlbjogKGNiOiAodG9rZW46IHN0cmluZykgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2IodG9rZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmdcclxuICAgICAgICBwbGF5ZXIuYWRkTGlzdGVuZXIoJ2luaXRpYWxpemF0aW9uX2Vycm9yJywgKHttZXNzYWdlfTogeyBtZXNzYWdlOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgICAgICAgICAod2luZG93IGFzIFRTUklXaW5kb3cpLlRTUkkucmVwb3J0cy5zcG90aWZ5UmVwb3J0cy5wdXNoKHt0eXBlOiAnaW5pdGlhbGl6YXRpb25fZXJyb3InLCBtZXNzYWdlfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZExpc3RlbmVyKCdhdXRoZW50aWNhdGlvbl9lcnJvcicsIGFzeW5jICh7bWVzc2FnZX06IHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IHtcclxuICAgICAgICAgICAgKHdpbmRvdyBhcyBUU1JJV2luZG93KS5UU1JJLnJlcG9ydHMuc3BvdGlmeVJlcG9ydHMucHVzaCh7dHlwZTogJ2F1dGhlbnRpY2F0aW9uX2Vycm9yJywgbWVzc2FnZX0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRMaXN0ZW5lcignYWNjb3VudF9lcnJvcicsIGFzeW5jICh7bWVzc2FnZX06IHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IHtcclxuICAgICAgICAgICAgKHdpbmRvdyBhcyBUU1JJV2luZG93KS5UU1JJLnJlcG9ydHMuc3BvdGlmeVJlcG9ydHMucHVzaCh7dHlwZTogJ2FjY291bnRfZXJyb3InLCBtZXNzYWdlfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZExpc3RlbmVyKCdwbGF5YmFja19lcnJvcicsIGFzeW5jICh7bWVzc2FnZX06IHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IHtcclxuICAgICAgICAgICAgKHdpbmRvdyBhcyBUU1JJV2luZG93KS5UU1JJLnJlcG9ydHMuc3BvdGlmeVJlcG9ydHMucHVzaCh7dHlwZTogJ3BsYXliYWNrX2Vycm9yJywgbWVzc2FnZX0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQbGF5YmFjayBzdGF0dXMgdXBkYXRlc1xyXG4gICAgICAgIHBsYXllci5hZGRMaXN0ZW5lcigncGxheWVyX3N0YXRlX2NoYW5nZWQnLCBhc3luYyAoc3RhdGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMucGxheWluZyA9ICFzdGF0ZS5wYXVzZWQ7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5wb3NpdGlvbiAmJiBzdGF0ZS5kdXJhdGlvbilcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uUG9zaXRpb25DaGFuZ2Uoc3RhdGUucG9zaXRpb24sIHN0YXRlLmR1cmF0aW9uKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoIXN0YXRlLnBhdXNlZClcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uUG9zaXRpb25DaGFuZ2UoMCwgdGhpcy5zb25nLmR1cmF0aW9uKTtcclxuICAgICAgICAgICAgaWYgKHN0YXRlLnBhdXNlZClcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uUGF1c2UoKTtcclxuICAgICAgICAgICAgZWxzZSB0aGlzLmV2ZW50cy5vblBsYXkodGhpcy5zb25nKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgc3RhdGUucGF1c2VkICYmIHN0YXRlLmRpc2FsbG93cy5yZXN1bWluZ1xyXG4gICAgICAgICAgICAgICAgJiYgc3RhdGUucG9zaXRpb24gJiYgc3RhdGUuZHVyYXRpb25cclxuICAgICAgICAgICAgICAgICYmIChzdGF0ZS5wb3NpdGlvbiAvIHN0YXRlLmR1cmF0aW9uID4gMC45OClcclxuICAgICAgICAgICAgKSB0aGlzLmV2ZW50cy5vbk5leHQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVhZHlcclxuICAgICAgICBwbGF5ZXIuYWRkTGlzdGVuZXIoJ3JlYWR5JywgYXN5bmMgKHtkZXZpY2VfaWR9OiB7IGRldmljZV9pZDogc3RyaW5nIH0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGRldmljZV9pZDtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRTcG90aWZ5UGxheWVyVm9sdW1lKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE5vdCBSZWFkeVxyXG4gICAgICAgIHBsYXllci5hZGRMaXN0ZW5lcignbm90X3JlYWR5JywgYXN5bmMgKHtkZXZpY2VfaWR9OiB7IGRldmljZV9pZDogc3RyaW5nIH0pID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBhd2FpdCAod2luZG93IGFzIFRTUklXaW5kb3cpLlRTUkkuc3BvdGlmeUF1dGgucmVmcmVzaCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHBsYXllci5jb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGF1c2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwbGF5KHNvbmc6IFNvbmcsIGZvcmNlQmVnaW46IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBpZiAodGhpcy5zb25nICYmIHRoaXMuc29uZy51cmkgPT09IHNvbmcudXJpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJlc3VtZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29uZyA9IHNvbmc7XHJcbiAgICAgICAgICAgIGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9tZS9wbGF5ZXIvcGxheT9kZXZpY2VfaWQ9JHt0aGlzLmlkfWAsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7dXJpczogW3NvbmcudXJpXSwgcG9zaXRpb25fbXM6IDB9KSxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMudG9rZW59YFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgc2V0U3BvdGlmeVBsYXllclZvbHVtZSgpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChTZXRWb2x1bWVSZXF1ZXN0KHRoaXMudm9sdW1lLCB0aGlzLmlkLCB0aGlzLnRva2VuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2Vlayhwb3NpdGlvbjogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2Vlayh0aGlzLnNvbmcuZHVyYXRpb24gKiBwb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyLCB2b2x1bWVCYWxhbmNlOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB2b2x1bWVCYWxhbmNlIC09IC41O1xyXG4gICAgICAgIHZvbHVtZUJhbGFuY2UgKj0gLTI7XHJcbiAgICAgICAgdm9sdW1lID0gdm9sdW1lIC8gMTAgKiA1O1xyXG4gICAgICAgIHZvbHVtZSArPSAodm9sdW1lICsgLjUpICogdm9sdW1lQmFsYW5jZSAqIC41O1xyXG4gICAgICAgIGlmICh2b2x1bWUgPCAwKSB2b2x1bWUgPSAwO1xyXG4gICAgICAgIHRoaXMudm9sdW1lID0gdm9sdW1lO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFNwb3RpZnlQbGF5ZXJWb2x1bWUoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucmVzdW1lKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNldFZvbHVtZVJlcXVlc3QgPSAodm9sdW1lOiBudW1iZXIsIGRldmljZUlkOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpOiBJQVBJUmVxdWVzdCA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9ldmVudHNcIixcclxuICAgICAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgICAgICBhY3Rpb246IHtcclxuICAgICAgICAgICAgdHlwZTogXCJzZXRWb2x1bWVcIixcclxuICAgICAgICAgICAgdm9sdW1lLFxyXG4gICAgICAgICAgICBkZXZpY2VJZCxcclxuICAgICAgICAgICAgdG9rZW5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7UGxheWJhY2tTbGF2ZUNvbnRyb2xsZXIsIFBsYXliYWNrU2xhdmVFdmVudHN9IGZyb20gXCIuL1BsYXliYWNrU2xhdmVDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7U29uZ30gZnJvbSBcIi4uLy4uL21vZGVscy9Tb25nXCI7XHJcbmltcG9ydCB7QVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJ9IGZyb20gXCIuLi9hcGkvQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBZb3VUdWJlUGxheWJhY2tDb250cm9sbGVyIGV4dGVuZHMgUGxheWJhY2tTbGF2ZUNvbnRyb2xsZXIge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHBsYXllcjogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGV2ZW50czogUGxheWJhY2tTbGF2ZUV2ZW50cywgYXBpOiBBUElDb25uZWN0aW9uQ29udHJvbGxlciwgeW91dHViZUFwaTogYm9vbGVhbikge1xyXG4gICAgICAgIHN1cGVyKGV2ZW50cyk7XHJcbiAgICAgICAgaWYgKCF5b3V0dWJlQXBpKSB0aHJvdyAoXCJBUElfTk9UX1JFQURZXCIpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ3lvdXR1YmUtcGxheWVyJywge1xyXG4gICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgIG9uU3RhdGVDaGFuZ2U6IChldmVudDogYW55KSA9PiB0aGlzLm9uVXBkYXRlKGV2ZW50KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgcGVybWFVcGRhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UG9zKCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQocGVybWFVcGRhdGUsIDUwMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwZXJtYVVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0UG9zKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uUG9zaXRpb25DaGFuZ2UodGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSAqIDEwMDAsIHRoaXMucGxheWVyLmdldER1cmF0aW9uKCkgKiAxMDAwKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25VcGRhdGUoZXZlbnQ6IGFueSkge1xyXG4gICAgICAgIGlmIChldmVudC5kYXRhID09PSAxKSB0aGlzLmV2ZW50cy5vblBsYXkoKTtcclxuICAgICAgICBlbHNlIGlmIChldmVudC5kYXRhID09PSAwKSB0aGlzLmV2ZW50cy5vbk5leHQoKTtcclxuICAgICAgICBlbHNlIHRoaXMuZXZlbnRzLm9uUGF1c2UoKTtcclxuICAgICAgICB0aGlzLnNldFBvcygpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwYXVzZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheShzb25nOiBTb25nLCBmb3JjZUJlZ2luOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIubG9hZFZpZGVvQnlJZChzb25nLnVyaSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2Vlayhwb3NpdGlvbjogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2Vla1RvKHRoaXMucGxheWVyLmdldER1cmF0aW9uKCkgKiBwb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyLCB2b2x1bWVCYWxhbmNlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB2b2x1bWVCYWxhbmNlIC09IC41O1xyXG4gICAgICAgIHZvbHVtZUJhbGFuY2UgKj0gMjtcclxuICAgICAgICB2b2x1bWUgPSB2b2x1bWUgLyAxMCAqIDU7XHJcbiAgICAgICAgdm9sdW1lICs9ICh2b2x1bWUgKyAuNSkgKiB2b2x1bWVCYWxhbmNlICogLjU7XHJcbiAgICAgICAgaWYgKHZvbHVtZSA8IDApIHZvbHVtZSA9IDA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2V0Vm9sdW1lKHZvbHVtZSAqIDEwMCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEJhY2tSZXF1ZXN0OiBJQVBJUmVxdWVzdCA9IHtcclxuICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9ldmVudHNcIixcclxuICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgYWN0aW9uOiB7XHJcbiAgICAgICAgdHlwZTogXCJiYWNrXCJcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcbmltcG9ydCB7U2V0dGluZ3N9IGZyb20gXCIuLi8uLi8uLi8uLi9tb2RlbHMvU2V0dGluZ3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBTZXR0aW5nc1JlcXVlc3QgPSAoc2V0dGluZ3M/OiBTZXR0aW5ncyk6IElBUElSZXF1ZXN0ID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9waWM6IFwidHdhc2ktc29uZ3JlcXVlc3RzL2V2ZW50c1wiLFxyXG4gICAgICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcInNldHRpbmdzXCIsXHJcbiAgICAgICAgICAgIHNldHRpbmdzXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge1Nwb3RpZnlQbGF5YmFja0NvbnRyb2xsZXJ9IGZyb20gXCIuL1Nwb3RpZnlQbGF5YmFja0NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtZb3VUdWJlUGxheWJhY2tDb250cm9sbGVyfSBmcm9tIFwiLi9Zb3VUdWJlUGxheWJhY2tDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7QVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJ9IGZyb20gXCIuLi9hcGkvQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtTb25nfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1NvbmdcIjtcclxuaW1wb3J0IHtQbGF5YmFja1Byb3ZpZGVyfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1BsYXliYWNrUHJvdmlkZXJcIjtcclxuaW1wb3J0IHtQbGF5YmFja1NsYXZlQ29udHJvbGxlciwgUGxheWJhY2tTbGF2ZUV2ZW50c30gZnJvbSBcIi4vUGxheWJhY2tTbGF2ZUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtUU1JJRXZlbnRzfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0V2ZW50c1wiO1xyXG5pbXBvcnQge0luaXRpYWxpemF0aW9uU3RhdHVzfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0luaXRpYWxpemF0aW9uU3RhdHVzXCI7XHJcbmltcG9ydCB7QmFja1JlcXVlc3R9IGZyb20gXCIuLi9hcGkvcmVxdWVzdHMvc29uZ3JlcXVlc3RzL0JhY2tSZXF1ZXN0XCI7XHJcbmltcG9ydCB7TmV4dFJlcXVlc3R9IGZyb20gXCIuLi9hcGkvcmVxdWVzdHMvc29uZ3JlcXVlc3RzL05leHRSZXF1ZXN0XCI7XHJcbmltcG9ydCB7R2V0UXVldWVSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3NvbmdyZXF1ZXN0cy9HZXRRdWV1ZVJlcXVlc3RcIjtcclxuaW1wb3J0IHtBZGRSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3NvbmdyZXF1ZXN0cy9BZGRSZXF1ZXN0XCI7XHJcbmltcG9ydCB7U2V0dGluZ3N9IGZyb20gXCIuLi8uLi9tb2RlbHMvU2V0dGluZ3NcIjtcclxuaW1wb3J0IHtTZXR0aW5nc1JlcXVlc3R9IGZyb20gXCIuLi9hcGkvcmVxdWVzdHMvb3RoZXIvU2V0dGluZ3NSZXF1ZXN0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWJhY2tNYXN0ZXJDb250cm9sbGVyIHtcclxuICAgIHByaXZhdGUgc29uZzogU29uZyA9IG51bGw7XHJcbiAgICBwcml2YXRlIHF1ZXVlOiBBcnJheTxTb25nPiA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfaGlzdG9yeTogQXJyYXk8U29uZz4gPSBbXTtcclxuICAgIHByaXZhdGUgZmlyc3RQbGF5YmFjazogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgcHJpdmF0ZSBwb3NQcmVkaWN0ZXI6IFBvc2l0aW9uUHJlZGljdGVyO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzcG90aWZ5OiBTcG90aWZ5UGxheWJhY2tDb250cm9sbGVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHlvdXR1YmU6IFlvdVR1YmVQbGF5YmFja0NvbnRyb2xsZXI7XHJcbiAgICBwcml2YXRlIHNob3VsZFBsYXk6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc2V0dGluZ3M6IFNldHRpbmdzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpOiBBUElDb25uZWN0aW9uQ29udHJvbGxlciwgcHJpdmF0ZSBmcm9udGVuZEV2ZW50czogVFNSSUV2ZW50cywgc3RhdHVzOiBJbml0aWFsaXphdGlvblN0YXR1cykge1xyXG4gICAgICAgIHRoaXMucG9zUHJlZGljdGVyID0gbmV3IFBvc2l0aW9uUHJlZGljdGVyKHBvcyA9PiB0aGlzLmZyb250ZW5kRXZlbnRzLnBvc2l0aW9uKHBvcykpO1xyXG4gICAgICAgIHRoaXMuc3BvdGlmeSA9IG5ldyBTcG90aWZ5UGxheWJhY2tDb250cm9sbGVyKHRoaXMucGxheWJhY2tQcm92aWRlckV2ZW50cyhQbGF5YmFja1Byb3ZpZGVyLlNQT1RJRlkpLCBhcGkpO1xyXG4gICAgICAgIHRoaXMueW91dHViZSA9IG5ldyBZb3VUdWJlUGxheWJhY2tDb250cm9sbGVyKHRoaXMucGxheWJhY2tQcm92aWRlckV2ZW50cyhQbGF5YmFja1Byb3ZpZGVyLllPVVRVQkUpLCBhcGksIHN0YXR1cy55b3V0dWJlQXBpKTtcclxuICAgICAgICBhcGkub24oXCJxdWV1ZVwiLCAocXVldWVVcGRhdGUpID0+IHRoaXMuc2V0UXVldWUocXVldWVVcGRhdGUucXVldWUsIHF1ZXVlVXBkYXRlLmhpc3RvcnksIHRoaXMuc2hvdWxkUGxheSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRFdmVudHMoZXZlbnRzOiBUU1JJRXZlbnRzKSB7XHJcbiAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cyA9IGV2ZW50cztcclxuICAgICAgICBpZiAodGhpcy5zaG91bGRQbGF5KSBldmVudHMucGxheSgpO1xyXG4gICAgICAgIGVsc2UgZXZlbnRzLnBhdXNlKCk7XHJcbiAgICAgICAgbGV0IHRlbXBRdWV1ZSA9IFsuLi50aGlzLnF1ZXVlXTtcclxuICAgICAgICBldmVudHMucXVldWVVcGRhdGUodGVtcFF1ZXVlLCB0aGlzLl9oaXN0b3J5KTtcclxuICAgICAgICBldmVudHMuc29uZyh0aGlzLnNvbmcpO1xyXG4gICAgICAgIGV2ZW50cy5zZXR0aW5nc1VwZGF0ZSh0aGlzLnNldHRpbmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcGxheShmb3JjZUJlZ2luOiBib29sZWFuLCBzb25nPzogU29uZykge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkUGxheSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHNvbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29uZykgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvbmcgPSBzb25nO1xyXG4gICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5nZXRDb250cm9sbGVyKHNvbmcucHJvdmlkZXIpO1xyXG4gICAgICAgICAgICBjb250cm9sbGVyLnNldFZvbHVtZSh0aGlzLnNldHRpbmdzLnZvbHVtZSwgdGhpcy5zZXR0aW5ncy52b2x1bWVCYWxhbmNlKTtcclxuICAgICAgICAgICAgY29udHJvbGxlci5wbGF5KHNvbmcsIGZvcmNlQmVnaW4pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zb25nKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5maXJzdFBsYXliYWNrICYmIHRoaXMucG9zUHJlZGljdGVyLnByZWRpY3Rpb24gIT09IDApXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbnRyb2xsZXIodGhpcy5zb25nLnByb3ZpZGVyKS5yZXN1bWUoKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0UGxheWJhY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheSh0cnVlLCB0aGlzLnNvbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGF3YWl0IHRoaXMubmV4dCgpO1xyXG4gICAgICAgIHRoaXMuZnJvbnRlbmRFdmVudHMuc29uZyh0aGlzLnNvbmcpO1xyXG4gICAgICAgIHRoaXMuc2hvdWxkUGxheSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkUGxheSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuc29uZykgdGhpcy5nZXRDb250cm9sbGVyKHRoaXMuc29uZy5wcm92aWRlcikucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENvbnRyb2xsZXIocHJvdmlkZXI6IFBsYXliYWNrUHJvdmlkZXIpOiBQbGF5YmFja1NsYXZlQ29udHJvbGxlciB7XHJcbiAgICAgICAgc3dpdGNoIChwcm92aWRlcikge1xyXG4gICAgICAgICAgICBjYXNlIFBsYXliYWNrUHJvdmlkZXIuTk9ORTpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICBjYXNlIFBsYXliYWNrUHJvdmlkZXIuU1BPVElGWTpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNwb3RpZnk7XHJcbiAgICAgICAgICAgIGNhc2UgUGxheWJhY2tQcm92aWRlci5ZT1VUVUJFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueW91dHViZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlZWsocG9zaXRpb246IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLnNvbmcpIHRoaXMuZ2V0Q29udHJvbGxlcih0aGlzLnNvbmcucHJvdmlkZXIpLnNlZWsocG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2NhbEFkZChzb25nOiBTb25nKSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKHNvbmcpO1xyXG4gICAgICAgIHRoaXMuZnJvbnRlbmRFdmVudHMucXVldWVVcGRhdGUodGhpcy5xdWV1ZSwgdGhpcy5faGlzdG9yeSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBvc1ByZWRpY3Rlci5wcmVkaWN0KSB0aGlzLnBsYXkoZmFsc2UsIHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFF1ZXVlKHF1ZXVlOiBBcnJheTxTb25nPiwgaGlzdG9yeTogQXJyYXk8U29uZz4sIHBsYXk6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBzb25nID0gcXVldWVbMF07XHJcbiAgICAgICAgICAgIGlmIChwbGF5ICYmICghdGhpcy5zb25nIHx8ICh0aGlzLnNvbmcgJiYgdGhpcy5zb25nLnVyaSAhPT0gc29uZy51cmkpKSkgdGhpcy5wbGF5KHRydWUsIHNvbmcpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRlbmRFdmVudHMuc29uZyhxdWV1ZVswXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvbmcgPSBzb25nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wb3NQcmVkaWN0ZXIucmVzZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb25nKSB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc29uZyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZnJvbnRlbmRFdmVudHMuc29uZyhudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5wb3NQcmVkaWN0ZXIucmVzZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnF1ZXVlID0gcXVldWU7XHJcbiAgICAgICAgdGhpcy5faGlzdG9yeSA9IGhpc3Rvcnk7XHJcbiAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5xdWV1ZVVwZGF0ZSh0aGlzLnF1ZXVlLCB0aGlzLl9oaXN0b3J5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9jYWxOZXh0KCkge1xyXG4gICAgICAgIHRoaXMucG9zUHJlZGljdGVyLnJlc2V0UG9zaXRpb24oKTtcclxuICAgICAgICBpZiAodGhpcy5zb25nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5faGlzdG9yeS51bnNoaWZ0KHRoaXMuc29uZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zb25nID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5zb25nKG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLnBvc1ByZWRpY3Rlci5yZXNldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5KHRydWUsIHRoaXMucXVldWVbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZnJvbnRlbmRFdmVudHMucXVldWVVcGRhdGUodGhpcy5xdWV1ZSwgdGhpcy5faGlzdG9yeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGJhY2soKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXBpLnJlcXVlc3RzLnJlcXVlc3QoQmFja1JlcXVlc3QpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAnc3VjY2VzcycpXHJcbiAgICAgICAgICAgIHRocm93IChyZXN1bHQubWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIG5leHQoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChOZXh0UmVxdWVzdChmYWxzZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBza2lwKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBpLnJlcXVlc3RzLnJlcXVlc3QoTmV4dFJlcXVlc3QodHJ1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBhcGlBZGQoc29uZzogU29uZykge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBpLnJlcXVlc3RzLnJlcXVlc3QoQWRkUmVxdWVzdChzb25nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5YmFja1Byb3ZpZGVyRXZlbnRzKHNlbGY6IFBsYXliYWNrUHJvdmlkZXIpOiBQbGF5YmFja1NsYXZlRXZlbnRzIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBvblBhdXNlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc29uZyB8fCBbUGxheWJhY2tQcm92aWRlci5OT05FLCBzZWxmXS5pbmNsdWRlcyh0aGlzLnNvbmcucHJvdmlkZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NQcmVkaWN0ZXIucHJlZGljdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRlbmRFdmVudHMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBvblBsYXk6IChzb25nPzogU29uZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNvbmcpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvbmcucHJvdmlkZXIgIT09IHNlbGYpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zUHJlZGljdGVyLnByZWRpY3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH0sIG9uUG9zaXRpb25DaGFuZ2U6IChwMTogbnVtYmVyLCBwMjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc29uZykgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc29uZy5wcm92aWRlciAhPT0gc2VsZikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NQcmVkaWN0ZXIuc2V0UG9zaXRpb24ocDEsIHAyKTtcclxuICAgICAgICAgICAgfSwgb25OZXh0OiAoKSA9PiB0aGlzLm5leHQoKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGxvYWRRdWV1ZShwbGF5OiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAoYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChHZXRRdWV1ZVJlcXVlc3QpKS5yZXN1bHQ7XHJcbiAgICAgICAgdGhpcy5zZXRRdWV1ZShyZXN1bHQucXVldWUsIHJlc3VsdC5oaXN0b3J5LCBwbGF5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRTZXR0aW5ncyh7dm9sdW1lfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNldFZvbHVtZUJhbGFuY2Uodm9sdW1lQmFsYW5jZTogbnVtYmVyKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRTZXR0aW5ncyh7dm9sdW1lQmFsYW5jZX0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzZXRTZXR0aW5ncyhzZXR0aW5ncz86IFNldHRpbmdzKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KFNldHRpbmdzUmVxdWVzdChzZXR0aW5ncykpO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVNldHRpbmdzKHJlc3BvbnNlLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZVNldHRpbmdzKHJlc3VsdDogU2V0dGluZ3MpIHtcclxuICAgICAgICB0aGlzLmZyb250ZW5kRXZlbnRzLnNldHRpbmdzVXBkYXRlKHJlc3VsdCk7XHJcbiAgICAgICAgdGhpcy5zcG90aWZ5LnNldFZvbHVtZShyZXN1bHQudm9sdW1lLCByZXN1bHQudm9sdW1lQmFsYW5jZSk7XHJcbiAgICAgICAgdGhpcy55b3V0dWJlLnNldFZvbHVtZShyZXN1bHQudm9sdW1lLCByZXN1bHQudm9sdW1lQmFsYW5jZSk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHJlc3VsdDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUG9zaXRpb25QcmVkaWN0ZXIge1xyXG4gICAgcHVibGljIHByZWRpY3Q6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbGFzdFBvc2l0aW9uOiBudW1iZXIgPSBEYXRlLm5vdygpO1xyXG4gICAgcHJpdmF0ZSBkdXJhdGlvbjogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgcG9zaXRpb246IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgcHJlZGljdGlvbjogbnVtYmVyID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhbGxiYWNrOiAocG9zaXRpb246IG51bWJlcikgPT4gdm9pZCkge1xyXG4gICAgICAgIGNvbnN0IHByZWRpY3QgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJlZGljdE5vdygpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHByZWRpY3QsIDUwMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwcmVkaWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFBvc2l0aW9uKHBvc2l0aW9uOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICB0aGlzLnByZWRpY3ROb3coKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzZXRQb3NpdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJlZGljdE5vdygpIHtcclxuICAgICAgICBsZXQgcHJlZGljdGlvbjtcclxuICAgICAgICBpZiAodGhpcy5kdXJhdGlvbiA9PT0gMCAmJiB0aGlzLnBvc2l0aW9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJlZGljdCkgcHJlZGljdGlvbiA9ICh0aGlzLnBvc2l0aW9uICsgKERhdGUubm93KCkgLSB0aGlzLmxhc3RQb3NpdGlvbikpIC8gdGhpcy5kdXJhdGlvbjtcclxuICAgICAgICBpZiAodHlwZW9mIHByZWRpY3Rpb24gPT09IFwibnVtYmVyXCIpIHRoaXMucHJlZGljdGlvbiA9IHByZWRpY3Rpb24gPiAxID8gMSA6IHByZWRpY3Rpb247XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLnByZWRpY3Rpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge1BsYXliYWNrUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9tb2RlbHMvUGxheWJhY2tQcm92aWRlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNwb3RpZnlTZWFyY2ggPSAodG9rZW46IHN0cmluZywgcXVlcnk6IHN0cmluZyk6IElBUElSZXF1ZXN0ID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9waWM6IFwidHdhc2ktc29uZ3JlcXVlc3RzL2V2ZW50c1wiLFxyXG4gICAgICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcInNlYXJjaFwiLFxyXG4gICAgICAgICAgICBwcm92aWRlcjogUGxheWJhY2tQcm92aWRlci5TUE9USUZZLFxyXG4gICAgICAgICAgICB0b2tlbixcclxuICAgICAgICAgICAgcXVlcnlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge1BsYXliYWNrUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9tb2RlbHMvUGxheWJhY2tQcm92aWRlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFlvdVR1YmVTZWFyY2ggPSAocXVlcnk6IHN0cmluZyk6IElBUElSZXF1ZXN0ID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9waWM6IFwidHdhc2ktc29uZ3JlcXVlc3RzL2V2ZW50c1wiLFxyXG4gICAgICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcInNlYXJjaFwiLFxyXG4gICAgICAgICAgICBwcm92aWRlcjogUGxheWJhY2tQcm92aWRlci5ZT1VUVUJFLFxyXG4gICAgICAgICAgICBxdWVyeVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHtBUElDb25uZWN0aW9uQ29udHJvbGxlcn0gZnJvbSBcIi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtTcG90aWZ5UGxheWJhY2tDb250cm9sbGVyfSBmcm9tIFwiLi4vcGxheWJhY2svU3BvdGlmeVBsYXliYWNrQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge1Nvbmd9IGZyb20gXCIuLi8uLi9tb2RlbHMvU29uZ1wiO1xyXG5pbXBvcnQge1BsYXliYWNrUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi9tb2RlbHMvUGxheWJhY2tQcm92aWRlclwiO1xyXG5pbXBvcnQge1Nwb3RpZnlTZWFyY2h9IGZyb20gXCIuL3JlcXVlc3RzL3NlYXJjaC9TcG90aWZ5U2VhcmNoXCI7XHJcbmltcG9ydCB7WW91VHViZVNlYXJjaH0gZnJvbSBcIi4vcmVxdWVzdHMvc2VhcmNoL1lvdVR1YmVTZWFyY2hcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWFyY2hDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpOiBBUElDb25uZWN0aW9uQ29udHJvbGxlciwgcHJpdmF0ZSBzcG90aWZ5OiBTcG90aWZ5UGxheWJhY2tDb250cm9sbGVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIG9uU3BvdGlmeShxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxBcnJheTxTb25nPj4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChTcG90aWZ5U2VhcmNoKHRoaXMuc3BvdGlmeS50b2tlbiwgcXVlcnkpKTtcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnc3VjY2VzcycpIHJldHVybiByZXNwb25zZS5yZXN1bHQ7XHJcbiAgICAgICAgdGhyb3coXCJBbiBlcnJvciBvY2N1cnJlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIG9uWW91VHViZShxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxBcnJheTxTb25nPj4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChZb3VUdWJlU2VhcmNoKHF1ZXJ5KSwgNjAwMCk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSByZXR1cm4gcmVzcG9uc2UucmVzdWx0O1xyXG4gICAgICAgIHRocm93KFwiQW4gZXJyb3Igb2NjdXJyZWQuXCIpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7VFNSSUV2ZW50c30gZnJvbSBcIi4uL21vZGVscy9FdmVudHNcIjtcclxuaW1wb3J0IHtJbml0aWFsaXphdGlvblN0YXR1c30gZnJvbSBcIi4uL21vZGVscy9Jbml0aWFsaXphdGlvblN0YXR1c1wiO1xyXG5pbXBvcnQge0FQSUNvbm5lY3Rpb25Db250cm9sbGVyLCBBUElDb25uZWN0aW9uU3RhdHVzfSBmcm9tIFwiLi9hcGkvQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtTb25nfSBmcm9tIFwiLi4vbW9kZWxzL1NvbmdcIjtcclxuaW1wb3J0IHtTcG90aWZ5QXV0aGVudGljYXRpb25Db250cm9sbGVyfSBmcm9tIFwiLi9zcG90aWZ5L1Nwb3RpZnlBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtQbGF5YmFja01hc3RlckNvbnRyb2xsZXJ9IGZyb20gXCIuL3BsYXliYWNrL1BsYXliYWNrTWFzdGVyQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge1NlYXJjaENvbnRyb2xsZXJ9IGZyb20gXCIuL2FwaS9TZWFyY2hDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7UmVwb3J0UmVxdWVzdH0gZnJvbSBcIi4vYXBpL3JlcXVlc3RzL290aGVyL1JlcG9ydFJlcXVlc3RcIjtcclxuaW1wb3J0IHtTZXR0aW5nc30gZnJvbSBcIi4uL21vZGVscy9TZXR0aW5nc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRTUklDb250cm9sbGVyIHtcclxuICAgIHByaXZhdGUgc3RhdHVzOiBJbml0aWFsaXphdGlvblN0YXR1cyA9IGRlZmF1bHRTdGF0dXM7XHJcbiAgICBwcml2YXRlIEFQSTogQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXI7XHJcbiAgICBwcml2YXRlIHNwb3RpZnlBdXRoOiBTcG90aWZ5QXV0aGVudGljYXRpb25Db250cm9sbGVyO1xyXG4gICAgcHJpdmF0ZSBwbGF5YmFjazogUGxheWJhY2tNYXN0ZXJDb250cm9sbGVyO1xyXG4gICAgcHJpdmF0ZSBldmVudHM6IFRTUklFdmVudHM7XHJcbiAgICBwcml2YXRlIHNlYXJjaDogU2VhcmNoQ29udHJvbGxlcjtcclxuICAgIHB1YmxpYyByZXBvcnRzOiBhbnkgPSB7c3BvdGlmeVJlcG9ydHM6IFtdfTtcclxuICAgIHByaXZhdGUgYXV0aGVudGljYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBpbml0KGp3dDogc3RyaW5nLCBhcGk6IHN0cmluZywgZXZlbnRzOiBUU1JJRXZlbnRzKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XHJcbiAgICAgICAgaWYgKHRoaXMuQVBJKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWJhY2suc2V0RXZlbnRzKGV2ZW50cyk7XHJcbiAgICAgICAgICAgIGV2ZW50cy5lbmFibGVTcG90aWZ5QXV0aCghdGhpcy5hdXRoZW50aWNhdGVkKTtcclxuICAgICAgICAgICAgZXZlbnRzLmluaXRpYWxpemVkKHRoaXMuc3RhdHVzKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLkFQSSA9IG5ldyBBUElDb25uZWN0aW9uQ29udHJvbGxlcihhcGksIGp3dCwge1xyXG4gICAgICAgICAgICBzdGF0dXNDaGFuZ2VkOiBhc3luYyBzdGF0dXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMuYXBpID0gc3RhdHVzID09PSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lKCkuaW5pdGlhbGl6ZWQodGhpcy5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzLmFwaSkgYXdhaXQgdGhpcy5zcG90aWZ5QXV0aC5nZXQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IEFQSUNvbm5lY3Rpb25TdGF0dXMuQ09OTkVDVEVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkUXVldWUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGxheWJhY2suc2V0U2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGxheWJhY2sgPSBuZXcgUGxheWJhY2tNYXN0ZXJDb250cm9sbGVyKHRoaXMuQVBJLCB0aGlzLmV2ZW50cywgdGhpcy5zdGF0dXMpO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoID0gbmV3IFNlYXJjaENvbnRyb2xsZXIodGhpcy5BUEksIHRoaXMucGxheWJhY2suc3BvdGlmeSk7XHJcbiAgICAgICAgdGhpcy5zcG90aWZ5QXV0aCA9IG5ldyBTcG90aWZ5QXV0aGVudGljYXRpb25Db250cm9sbGVyKHRoaXMuQVBJLCB7XHJcbiAgICAgICAgICAgIHN0YXR1c0NoYW5nZWQ6IHRoaXMuc3BvdGlmeVN0YXR1cyxcclxuICAgICAgICAgICAgc3BvdGlmeUF1dGhlbnRpY2F0ZWQ6IChhdXRoZW50aWNhdGVkOiBib29sZWFuLCB0b2tlbj86IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRoZW50aWNhdGVkID0gYXV0aGVudGljYXRlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZSgpLmVuYWJsZVNwb3RpZnlBdXRoKCFhdXRoZW50aWNhdGVkKTtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbikgdGhpcy5wbGF5YmFjay5zcG90aWZ5LmluaXQodG9rZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lKCkuaW5pdGlhbGl6ZWQodGhpcy5zdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzcG90aWZ5U3RhdHVzKHN0YXR1czogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzLnNwb3RpZnkgPSBzdGF0dXM7XHJcbiAgICAgICAgdGhpcy5lKCkuaW5pdGlhbGl6ZWQodGhpcy5zdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB5b3V0dWJlQXBpUmVhZHkoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMueW91dHViZUFwaSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lKCkuaW5pdGlhbGl6ZWQodGhpcy5zdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzcG90aWZ5QXBpUmVhZHkoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMuc3BvdGlmeUFwaSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lKCkuaW5pdGlhbGl6ZWQodGhpcy5zdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHMpIHJldHVybiB0aGlzLmV2ZW50cztcclxuICAgICAgICByZXR1cm4gZGVmYXVsdEV2ZW50cztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGxvYWRRdWV1ZShwbGF5OiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMucGxheWJhY2subG9hZFF1ZXVlKHBsYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyByZXBvcnQocmVhc29uOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnJlcG9ydHMucmVhc29uID0gcmVhc29uO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuQVBJLnJlcXVlc3RzLnJlcXVlc3QoUmVwb3J0UmVxdWVzdCh0aGlzLnJlcG9ydHMpKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGVmYXVsdEV2ZW50czogVFNSSUV2ZW50cyA9IHtcclxuICAgIHNldHRpbmdzVXBkYXRlOiBmdW5jdGlvbiAocDE6IFNldHRpbmdzKSB7XHJcbiAgICB9LFxyXG4gICAgcXVldWVVcGRhdGU6IGZ1bmN0aW9uIChwMTogQXJyYXk8U29uZz4pIHtcclxuICAgIH0sXHJcbiAgICBlbmFibGVTcG90aWZ5QXV0aDogZnVuY3Rpb24gKHAxOiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTcG90aWZ5IEF1dGhlbnRpY2F0aW9uIGlzIG5vdyAlcy5cIiwgKHAxID8gXCJlbmFibGVkXCIgOiBcImRpc2FibGVkXCIpKTtcclxuICAgIH0sXHJcbiAgICBpbml0aWFsaXplZDogZnVuY3Rpb24gKHAxOiBJbml0aWFsaXphdGlvblN0YXR1cykge1xyXG4gICAgfSwgcGF1c2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBBVVNFXCIpO1xyXG4gICAgfSwgcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUExBWVwiKVxyXG4gICAgfSwgcG9zaXRpb246IGZ1bmN0aW9uIChwMTogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQT1M6IFwiICsgcDEpXHJcbiAgICB9LCBzb25nOiBmdW5jdGlvbiAocDE6IFNvbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNPTkc6IFwiICsgcDEubmFtZSlcclxuICAgIH0sIHN0b3A6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNUT1BcIilcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IGRlZmF1bHRTdGF0dXMgPSB7XHJcbiAgICBhcGk6IGZhbHNlLFxyXG4gICAgc3BvdGlmeUFwaTogZmFsc2UsXHJcbiAgICBzcG90aWZ5OiBmYWxzZSxcclxuICAgIHlvdXR1YmVBcGk6IGZhbHNlLFxyXG4gICAgeW91dHViZTogZmFsc2UsXHJcbn07XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJlcG9ydFJlcXVlc3QgPSAocmVwb3J0OiBhbnkpOiBJQVBJUmVxdWVzdCA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9ldmVudHNcIixcclxuICAgICAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgICAgICBhY3Rpb246IHtcclxuICAgICAgICAgICAgdHlwZTogXCJyZXBvcnRcIixcclxuICAgICAgICAgICAgbWVzc2FnZTogcmVwb3J0Lm1lc3NhZ2UsXHJcbiAgICAgICAgICAgIHJlcG9ydFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHtUU1JJQ29udHJvbGxlcn0gZnJvbSBcIi4vY29udHJvbGxlcnMvVFNSSUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtUU1JJV2luZG93fSBmcm9tIFwiLi9tb2RlbHMvVFNSSVdpbmRvd1wiO1xyXG5cclxuY29uc3QgY29udHJvbGxlcjogVFNSSUNvbnRyb2xsZXIgPSBuZXcgVFNSSUNvbnRyb2xsZXIoKTtcclxuXHJcbmNvbnN0IHdpbiA9IHdpbmRvdyBhcyBUU1JJV2luZG93O1xyXG53aW4uVFNSSSA9IGNvbnRyb2xsZXI7XHJcbndpbi5vblNwb3RpZnlXZWJQbGF5YmFja1NES1JlYWR5ID0gKCkgPT4gY29udHJvbGxlci5zcG90aWZ5QXBpUmVhZHkoKTtcclxuXHJcbmNvbnN0IF9nbG9iYWwgPSAod2luZG93IHx8IGdsb2JhbCkgYXMgYW55O1xyXG5fZ2xvYmFsLm9uWW91VHViZUlmcmFtZUFQSVJlYWR5ID0gKCkgPT4gY29udHJvbGxlci55b3V0dWJlQXBpUmVhZHkoKTtcclxuXHJcbi8vIHJlcXVpcmUoXCIuLi9wcm92aWRlcnMvc3BvdGlmeS9zcG90aWZ5LXBsYXliYWNrLXNka1wiKTtcclxucmVxdWlyZShcIi4uL3Byb3ZpZGVycy95b3V0dWJlL3lvdXR1YmUtaWZyYW1lX2FwaVwiKTtcclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiXHJcbmlmICghd2luZG93WydZVCddKSB7dmFyIFlUID0ge2xvYWRpbmc6IDAsbG9hZGVkOiAwfTt9aWYgKCF3aW5kb3dbJ1lUQ29uZmlnJ10pIHt2YXIgWVRDb25maWcgPSB7J2hvc3QnOiAnaHR0cDovL3d3dy55b3V0dWJlLmNvbSd9O31pZiAoIVlULmxvYWRpbmcpIHtZVC5sb2FkaW5nID0gMTsoZnVuY3Rpb24oKXt2YXIgbCA9IFtdO1lULnJlYWR5ID0gZnVuY3Rpb24oZikge2lmIChZVC5sb2FkZWQpIHtmKCk7fSBlbHNlIHtsLnB1c2goZik7fX07d2luZG93Lm9uWVRSZWFkeSA9IGZ1bmN0aW9uKCkge1lULmxvYWRlZCA9IDE7Zm9yICh2YXIgaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7dHJ5IHtsW2ldKCk7fSBjYXRjaCAoZSkge319fTtZVC5zZXRDb25maWcgPSBmdW5jdGlvbihjKSB7Zm9yICh2YXIgayBpbiBjKSB7aWYgKGMuaGFzT3duUHJvcGVydHkoaykpIHtZVENvbmZpZ1trXSA9IGNba107fX19O3ZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7YS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7YS5pZCA9ICd3d3ctd2lkZ2V0YXBpLXNjcmlwdCc7YS5zcmMgPSAnaHR0cHM6Ly9zLnl0aW1nLmNvbS95dHMvanNiaW4vd3d3LXdpZGdldGFwaS12ZmxVRlZ5RVAvd3d3LXdpZGdldGFwaS5qcyc7YS5hc3luYyA9IHRydWU7dmFyIGMgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0O2lmIChjKSB7dmFyIG4gPSBjLm5vbmNlIHx8IGMuZ2V0QXR0cmlidXRlKCdub25jZScpO2lmIChuKSB7YS5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbik7fX12YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsIGIpO30pKCk7fSJdLCJzb3VyY2VSb290IjoiIn0=