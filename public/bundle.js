!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"sleep",(function(){return o}));var i=new(n(1).a),o=function(t){return new Promise((function(e){return setTimeout(e,t)}))},r=window;r.TSRI=i,r.onSpotifyWebPlaybackSDKReady=function(){return i.spotifyApiReady()},(window||t).onYouTubeIframeAPIReady=function(){return i.youtubeApiReady()},n(3)}.call(this,n(2))},function(t,e,n){"use strict";var i,o=function(t){return{topic:"twasi-songrequests/events",scope:"action",action:{type:"add",song:t}}},r={topic:"twasi-songrequests/events",scope:"action",action:{type:"queue"}},s=function(t){return void 0===t&&(t=!1),{topic:"twasi-songrequests/events",scope:"action",action:{type:t?"skip":"next"}}},u=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function u(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((i=i.apply(t,e||[])).next())}))},a=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(r){return function(u){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,u])}}},c=function(){function t(t,e,n){this.api=t,this.jwt=e,this.statusListener=n,this.events=new Map,this.connect()}return t.prototype.connect=function(){var t=this;setTimeout((function(){t.connect()}),3e3),this.client&&this.client.readyState===this.client.OPEN||(this.client=new WebSocket(this.api),this.client.onerror=function(){t.statusListener.statusChanged(i.DISCONNECTED)},this.client.onopen=function(){return t.authorize()},this.client.onclose=function(){t.statusListener.statusChanged(i.DISCONNECTED)},this.requests=new p(this.client,this.events))},t.prototype.authorize=function(){return u(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:return[4,this.requests.request({topic:"auth",scope:"action",action:{type:"JWT_TOKEN",token:this.jwt}})];case 1:return"success"!==(t=n.sent()).status?[3,3]:(e=t.result.user.twitchId,[4,this.requests.request({topic:"twasi-songrequests/events",scope:"subscribe",config:{channel:e}})]);case 2:t=n.sent(),n.label=3;case 3:return this.statusListener.statusChanged("success"===t.status?i.CONNECTED:i.UNAUTHORIZED),[2]}}))}))},t.prototype.on=function(t,e){this.events.has(t)?this.events.get(t).push(e):this.events.set(t,[e])},t.prototype.add=function(t){return u(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.requests.request(o(t))];case 1:return[2,e.sent()]}}))}))},t.prototype.getQueue=function(){return u(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.requests.request(r)];case 1:return[2,t.sent().result]}}))}))},t.prototype.next=function(t){return void 0===t&&(t=!1),u(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.requests.request(s(t))];case 1:return[2,e.sent()]}}))}))},t}();!function(t){t[t.CONNECTED=0]="CONNECTED",t[t.DISCONNECTED=1]="DISCONNECTED",t[t.UNAUTHORIZED=2]="UNAUTHORIZED"}(i||(i={}));var l,h,p=function(){function t(t,e){var n=this;this.count=0,this.pending=new Map,this.events=new Map,e&&(this.events=e),this.client=t,this.client.onmessage=function(t){var e=JSON.parse(t.data);e.ref&&n.pending.has(e.ref)?(n.pending.get(e.ref)(e.result),n.pending.delete(e.ref)):e.event&&n.events.has(e.event)&&n.events.get(e.event).forEach((function(t){t(e.details,new Date(e.timeStamp))}))}}return t.prototype.request=function(t,e){var n=this;return void 0===e&&(e=3e3),t.ref||(t.ref=this.newRef()),new Promise((function(i,o){n.pending.set(t.ref,i),n.client.send(JSON.stringify(t)),setTimeout((function(){n.pending.has(t.ref)&&(n.pending.delete(t.ref),o("Timed Out"))}),e)}))},t.prototype.on=function(t,e){this.events.has(t)?this.events.get(t).push(e):this.events.set(t,[e])},t.prototype.newRef=function(){return(this.count++).toString()},t}(),f={topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"get"}},d={topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"init"}},y=function(t){return{topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"set",code:t}}},v={topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"refresh"}},b={topic:"twasi-songrequests/spotify-credentials",scope:"action",action:{type:"remove"}},w=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function u(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((i=i.apply(t,e||[])).next())}))},g=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(r){return function(u){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,u])}}},m=function(){function t(t,e){var n=this;this.token=null,this.expires=null,this.api=t,this.listener=e;window.addEventListener("message",(function(t){return w(n,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return"string"!=typeof t.data?[2]:t.data.startsWith("code:")?[4,this.set(t.data.substr("code:".length))]:[2];case 1:return e.sent(),this.win.postMessage("close","*"),[2]}}))}))}),!1)}return t.prototype.get=function(){return w(this,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(f)];case 1:return t=e.sent(),this.handle(t.token?t:null),[2]}}))}))},t.prototype.init=function(){return w(this,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(d)];case 1:return t=e.sent(),this.win=window.open(t.result.uri,"popUpWindow","height=500,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"),[2]}}))}))},t.prototype.set=function(t){return w(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(y(t))];case 1:return e=n.sent(),this.handle(e),[2]}}))}))},t.prototype.refresh=function(){return w(this,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(v)];case 1:return t=e.sent(),this.handle(t.token?t:null),[2]}}))}))},t.prototype.remove=function(){return w(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,this.api.requests.request(b)];case 1:if("success"!==t.sent().status)throw"An error occured";return[2]}}))}))},t.prototype.handle=function(t){var e=this;t?(this.token=t.token,this.expires=new Date(t.expires),this.listener.spotifyAuthenticated(!0,t.token),setTimeout((function(){return w(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return this.token!==t.token?[2]:[4,this.refresh()];case 1:return e.sent(),[2]}}))}))}),this.expires.getTime()-Date.now())):this.listener.spotifyAuthenticated(!1)},t}(),P=function(t){this.events=t},k=n(0),q=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function u(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((i=i.apply(t,e||[])).next())}))},E=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(r){return function(u){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,u])}}},T=function(t){function e(e,n){var i=t.call(this,e)||this;return i.events=e,i.api=n,i.playing=!1,i}return q(e,t),e.prototype.init=function(t){var e=this;this.player&&this.player.disconnect(),this.token=t;var n=new Spotify.Player({name:"Twasi-Panel",getOAuthToken:function(e){e(t)}});n.addListener("initialization_error",(function(t){var e=t.message;window.TSRI.reports.spotifyReports.push({type:"initialization_error",message:e})})),n.addListener("authentication_error",(function(t){var n=t.message;return S(e,void 0,void 0,(function(){return E(this,(function(t){return window.TSRI.reports.spotifyReports.push({type:"authentication_error",message:n}),[2]}))}))})),n.addListener("account_error",(function(t){var n=t.message;return S(e,void 0,void 0,(function(){return E(this,(function(t){return window.TSRI.reports.spotifyReports.push({type:"account_error",message:n}),[2]}))}))})),n.addListener("playback_error",(function(t){var n=t.message;return S(e,void 0,void 0,(function(){return E(this,(function(t){return window.TSRI.reports.spotifyReports.push({type:"playback_error",message:n}),[2]}))}))})),n.addListener("player_state_changed",(function(t){return S(e,void 0,void 0,(function(){return E(this,(function(e){return t?(this.playing=!t.paused,t.position&&t.duration?this.events.onPositionChange(t.position,t.duration):t.paused||this.events.onPositionChange(0,this.song.duration),t.paused?this.events.onPause():this.events.onPlay(this.song),t.paused&&t.disallows.resuming&&t.position&&t.duration&&t.position/t.duration>.98&&this.events.onNext(),[2]):[2]}))}))})),n.addListener("ready",(function(t){var n=t.device_id;return S(e,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return this.id=n,[4,this.setSpotifyPlayerVolume()];case 1:return t.sent(),[2]}}))}))})),n.addListener("not_ready",(function(t){t.device_id;return S(e,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,window.TSRI.spotifyAuth.refresh()];case 1:return t.sent(),[2]}}))}))})),this.player=n,n.connect()},e.prototype.pause=function(){this.player.pause()},e.prototype.play=function(t,e,n){return S(this,void 0,void 0,(function(){var i;return E(this,(function(o){switch(o.label){case 0:return this.song&&this.song.uri===t.uri?(this.player.resume(),[3,3]):[3,1];case 1:return this.song=t,i={uris:[t.uri]},e?i.position_ms=0:n&&(i.position_ms=n),[4,fetch("https://api.spotify.com/v1/me/player/play?device_id="+this.id,{method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.setSpotifyPlayerVolume=function(){return S(this,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,this.api.requests.request((e=this.volume,n=this.id,i=this.token,{topic:"twasi-songrequests/events",scope:"action",action:{type:"setVolume",volume:e,deviceId:n,token:i}}))];case 1:return[2,t.sent()]}var e,n,i}))}))},e.prototype.seek=function(t){this.player.seek(this.song.duration*t)},e.prototype.setVolume=function(t,e){return S(this,void 0,void 0,(function(){return E(this,(function(n){e-=.5,t=t/10*5,(t+=(t+.5)*(e*=-2)*.5)<0&&(t=0),this.volume=t;try{this.player.setVolume(t),this.setSpotifyPlayerVolume()}catch(t){console.log(t)}return[2]}))}))},e.prototype.resume=function(){this.player.resume()},e.prototype.preview=function(t){return S(this,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return[4,this.play({uri:t.song.spotify},!1,t.startAt.spotify)];case 1:return e.sent(),[4,Object(k.sleep)(t.duration)];case 2:return e.sent(),[4,this.pause()];case 3:return e.sent(),[2]}}))}))},e}(P),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function u(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((i=i.apply(t,e||[])).next())}))},A=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(r){return function(u){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,u])}}},_=function(t){function e(e,n,i){var o=t.call(this,e)||this;if(!i)throw"API_NOT_READY";o.player=new YT.Player("youtube-player",{events:{onStateChange:function(t){return o.onUpdate(t)}}});var r=function(){o.setPos(),setTimeout(r,500)};return r(),o}return x(e,t),e.prototype.setPos=function(){try{this.events.onPositionChange(1e3*this.player.getCurrentTime(),1e3*this.player.getDuration())}catch(t){}},e.prototype.onUpdate=function(t){1===t.data?this.events.onPlay():0===t.data?this.events.onNext():this.events.onPause(),this.setPos()},e.prototype.pause=function(){this.player.pauseVideo()},e.prototype.play=function(t,e){this.player.loadVideoById(t.uri)},e.prototype.seek=function(t){this.player.seekTo(this.player.getDuration()*t)},e.prototype.setVolume=function(t,e){e-=.5,t=t/10*5,(t+=(t+.5)*(e*=2)*.5)<0&&(t=0);try{this.player.setVolume(100*t)}catch(t){}},e.prototype.resume=function(){this.player.playVideo()},e.prototype.preview=function(t){return O(this,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return this.player.loadVideoById(t.song.youtube,Math.round(t.startAt.youtube/1e3)),[4,Object(k.sleep)(t.duration)];case 1:return e.sent(),this.player.pause(),[2]}}))}))},e}(P);!function(t){t[t.NONE=0]="NONE",t[t.SPOTIFY=1]="SPOTIFY",t[t.YOUTUBE=2]="YOUTUBE"}(h||(h={}));var N={topic:"twasi-songrequests/events",scope:"action",action:{type:"back"}},C=function(t){return{topic:"twasi-songrequests/events",scope:"action",action:{type:"settings",settings:t}}},I=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function u(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((i=i.apply(t,e||[])).next())}))},U=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(r){return function(u){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,u])}}},R=[{song:{name:"Thüringer Klöße - Radio Version",artist:"Fritz",cover:"https://i.scdn.co/image/ab67616d0000b273ddeb565d7d2261a769ea5d03",spotify:"spotify:track:6x9SYGliCfaIDf1GGpgceV",youtube:"qJe3cdM7f1c"},duration:4e3,startAt:{youtube:2e4,spotify:2e4}},{song:{name:"Later Bitches",artist:"The Price Karma",cover:"https://i.scdn.co/image/ab67616d0000b2737d40694c21bdedb87d6ba976",spotify:"spotify:track:6x9SYGliCfaIDf1GGpgceV",youtube:"qJe3cdM7f1c"},duration:4e3,startAt:{youtube:2e4,spotify:2e4}},{song:{name:"Shooting Stars",artist:"Bag Raiders",cover:"https://i.scdn.co/image/ae14de5997fea355757a17c26fb0e26b76fc8f86",spotify:"spotify:track:0UeYCHOETPfai02uskjJ3x",youtube:"feA64wXhbjo"},duration:4e3,startAt:{youtube:2e4,spotify:2e4}},{song:{name:"We Are Number One (Remix)",artist:"SayMaxWell",cover:"https://i.scdn.co/image/ab67616d0000b2734c906c8ced99f4861ebc0b64",spotify:"spotify:track:4C64ZXG24vRJ4lwkxCA24G",youtube:"Lr1FsM1EhMI"},duration:4e3,startAt:{youtube:2e4,spotify:2e4}}],D=function(){function t(t,e){this.events=t,this.master=e}return t.prototype.setEvents=function(t){this.events=t||{canPlay:console.log,song:console.log}},t.prototype.startPreview=function(){return I(this,void 0,void 0,(function(){var e;return U(this,(function(n){switch(n.label){case 0:return this.master.shouldPlay?[2]:(e=t.getRandomPreview(),this.events.canPlay(!1),this.events.song(e,h.SPOTIFY),[4,this.master.spotify.preview(e)]);case 1:return n.sent(),this.events.song(e,h.YOUTUBE),[4,this.master.youtube.preview(e)];case 2:return n.sent(),this.events.canPlay(!0),this.events.song(null,h.NONE),[2]}}))}))},t.prototype.canPlay=function(t){this.events.canPlay(t)},t.getRandomPreview=function(){return R[Math.floor(Math.random()*R.length)]},t}(),Y=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function u(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((i=i.apply(t,e||[])).next())}))},j=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(r){return function(u){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,u])}}},V=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,u=r.length;s<u;s++,o++)i[o]=r[s];return i},B=function(){function t(t,e,n){var i=this;this.api=t,this.frontendEvents=e,this.song=null,this.queue=[],this._history=[],this.firstPlayback=!0,this.shouldPlay=!1,this.posPredicter=new G((function(t){return i.frontendEvents.position(t)})),this.spotify=new T(this.playbackProviderEvents(h.SPOTIFY),t),this.youtube=new _(this.playbackProviderEvents(h.YOUTUBE),t,n.youtubeApi),t.on("queue",(function(t){return i.setQueue(t.queue,t.history,i.shouldPlay)})),this.preview=new D(null,this)}return t.prototype.setEvents=function(t){this.frontendEvents=t,this.shouldPlay?t.play():t.pause();var e=V(this.queue);t.queueUpdate(e,this._history),t.song(this.song),t.settingsUpdate(this.settings)},t.prototype.play=function(t,e){return Y(this,void 0,void 0,(function(){var n;return j(this,(function(i){switch(i.label){case 0:return this.shouldPlay=!0,e?(this.song&&this.pause(),this.song=e,(n=this.getController(e.provider)).setVolume(this.settings.volume,this.settings.volumeBalance),n.play(e,t),[3,4]):[3,1];case 1:return this.song?(this.firstPlayback||0===this.posPredicter.prediction?(this.firstPlayback=!1,this.play(!0,this.song)):this.getController(this.song.provider).resume(),[3,4]):[3,2];case 2:return[4,this.next()];case 3:i.sent(),i.label=4;case 4:return this.frontendEvents.song(this.song),this.shouldPlay=!0,[2]}}))}))},t.prototype.pause=function(){this.shouldPlay=!0,this.song&&this.getController(this.song.provider).pause()},t.prototype.getController=function(t){switch(t){case h.NONE:default:return null;case h.SPOTIFY:return this.spotify;case h.YOUTUBE:return this.youtube}},t.prototype.seek=function(t){this.song&&this.getController(this.song.provider).seek(t)},t.prototype.localAdd=function(t){this.queue.push(t),this.frontendEvents.queueUpdate(this.queue,this._history),this.posPredicter.predict||this.play(!1,void 0)},t.prototype.setQueue=function(t,e,n){if(void 0===n&&(n=!0),t.length){var i=t[0];n&&(!this.song||this.song&&this.song.uri!==i.uri)?this.play(!0,i):(this.frontendEvents.song(t[0]),this.song=i)}else this.posPredicter.resetPosition(),this.song&&this.pause(),this.song=null,this.frontendEvents.song(null),this.posPredicter.resetPosition();this.queue=t,this._history=e,this.frontendEvents.queueUpdate(this.queue,this._history)},t.prototype.localNext=function(){this.posPredicter.resetPosition(),this.song&&(this.pause(),this._history.unshift(this.song)),this.queue.length?(this.play(!0,this.queue[0]),this.queue.shift()):(this.song=null,this.frontendEvents.song(null),this.posPredicter.resetPosition()),this.frontendEvents.queueUpdate(this.queue,this._history)},t.prototype.back=function(){return Y(this,void 0,void 0,(function(){var t;return j(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(N)];case 1:if("success"!==(t=e.sent()).status)throw t.message;return[2]}}))}))},t.prototype.next=function(){return Y(this,void 0,void 0,(function(){return j(this,(function(t){switch(t.label){case 0:return[4,this.api.requests.request(s(!1))];case 1:return t.sent(),[2]}}))}))},t.prototype.skip=function(){return Y(this,void 0,void 0,(function(){return j(this,(function(t){switch(t.label){case 0:return[4,this.api.requests.request(s(!0))];case 1:return t.sent(),[2]}}))}))},t.prototype.apiAdd=function(t){return Y(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return[4,this.api.requests.request(o(t))];case 1:return e.sent(),[2]}}))}))},t.prototype.playbackProviderEvents=function(t){var e=this;return{onPause:function(){e.song&&![h.NONE,t].includes(e.song.provider)||(e.posPredicter.predict=!1,e.frontendEvents.stop())},onPlay:function(n){e.song&&e.song.provider===t&&(e.posPredicter.predict=!0,e.frontendEvents.play())},onPositionChange:function(n,i){e.song&&e.song.provider===t&&e.posPredicter.setPosition(n,i)},onNext:function(){return e.next()}}},t.prototype.loadQueue=function(t){return void 0===t&&(t=!0),Y(this,void 0,void 0,(function(){var e;return j(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(r)];case 1:return e=n.sent().result,this.setQueue(e.queue,e.history,t),[2]}}))}))},t.prototype.setVolume=function(t){return Y(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return[4,this.setSettings({volume:t})];case 1:return e.sent(),[2]}}))}))},t.prototype.setVolumeBalance=function(t){return Y(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return[4,this.setSettings({volumeBalance:t})];case 1:return e.sent(),[2]}}))}))},t.prototype.setSettings=function(t){return Y(this,void 0,void 0,(function(){var e;return j(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(C(t))];case 1:return"success"===(e=n.sent()).status&&this.handleSettings(e.result),[2,e]}}))}))},t.prototype.handleSettings=function(t){this.frontendEvents.settingsUpdate(t),this.spotify.setVolume(t.volume,t.volumeBalance),this.youtube.setVolume(t.volume,t.volumeBalance),this.settings=t},t}(),G=function(){function t(t){var e=this;this.callback=t,this.predict=!1,this.lastPosition=Date.now(),this.duration=0,this.position=0,this.prediction=0;var n=function(){e.predictNow(),setTimeout(n,200)};n()}return t.prototype.setPosition=function(t,e){this.lastPosition=Date.now(),this.position=t,this.duration=e,this.predictNow()},t.prototype.resetPosition=function(){this.setPosition(0,0)},t.prototype.predictNow=function(){var t;0!==this.duration||0!==this.position?(this.predict&&(t=(this.position+(Date.now()-this.lastPosition))/this.duration),"number"==typeof t&&(this.prediction=t>1?1:t),this.callback(this.prediction)):this.callback(0)},t}(),M=function(t,e){return{topic:"twasi-songrequests/events",scope:"action",action:{type:"search",provider:h.SPOTIFY,token:t,query:e}}},L=function(t){return{topic:"twasi-songrequests/events",scope:"action",action:{type:"search",provider:h.YOUTUBE,query:t}}},z=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function u(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((i=i.apply(t,e||[])).next())}))},F=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(r){return function(u){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,u])}}},J=function(){function t(t,e){this.api=t,this.spotify=e}return t.prototype.onSpotify=function(t){return z(this,void 0,void 0,(function(){var e;return F(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(M(this.spotify.token,t))];case 1:if("success"===(e=n.sent()).status)return[2,e.result];throw"An error occurred."}}))}))},t.prototype.onYouTube=function(t){return z(this,void 0,void 0,(function(){var e;return F(this,(function(n){switch(n.label){case 0:return[4,this.api.requests.request(L(t),6e3)];case 1:if("success"===(e=n.sent()).status)return[2,e.result];throw"An error occurred."}}))}))},t}();n.d(e,"a",(function(){return H}));var Q=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function u(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((i=i.apply(t,e||[])).next())}))},W=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(r){return function(u){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,u])}}},H=function(){function t(){this.status=Z,this.reports={spotifyReports:[]},this.authenticated=!1}return t.prototype.init=function(t,e,n){var o=this;if(this.events=n,this.API)return this.playback.setEvents(n),n.enableSpotifyAuth(!this.authenticated),void n.initialized(this.status);this.API=new c(e,t,{statusChanged:function(t){return Q(o,void 0,void 0,(function(){return W(this,(function(e){switch(e.label){case 0:return this.status.api=0===t,this.e().initialized(this.status),this.status.api?[4,this.spotifyAuth.get()]:[3,2];case 1:e.sent(),e.label=2;case 2:return t!==i.CONNECTED?[3,4]:(this.loadQueue(!1),[4,this.playback.setSettings()]);case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}}),this.playback=new B(this.API,this.events,this.status),this.search=new J(this.API,this.playback.spotify),this.spotifyAuth=new m(this.API,{statusChanged:this.spotifyStatus,spotifyAuthenticated:function(t,e){o.authenticated=t,o.e().enableSpotifyAuth(!t),e&&o.playback.spotify.init(e)}}),this.e().initialized(this.status)},t.prototype.spotifyStatus=function(t){this.status.spotify=t,this.e().initialized(this.status)},t.prototype.youtubeApiReady=function(){this.status.youtubeApi=!0,this.e().initialized(this.status)},t.prototype.spotifyApiReady=function(){this.status.spotifyApi=!0,this.e().initialized(this.status)},t.prototype.e=function(){return this.events?this.events:K},t.prototype.loadQueue=function(t){return void 0===t&&(t=!0),Q(this,void 0,void 0,(function(){return W(this,(function(e){switch(e.label){case 0:return[4,this.playback.loadQueue(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.report=function(t){return Q(this,void 0,void 0,(function(){return W(this,(function(e){switch(e.label){case 0:return this.reports.message=t,[4,this.API.requests.request((n=this.reports,{topic:"twasi-songrequests/events",scope:"action",action:{type:"report",message:n.message,report:n}}))];case 1:return e.sent(),[2]}var n}))}))},t}(),K={settingsUpdate:function(t){},queueUpdate:function(t){},enableSpotifyAuth:function(t){console.log("Spotify Authentication is now %s.",t?"enabled":"disabled")},initialized:function(t){},pause:function(){console.log("PAUSE")},play:function(){console.log("PLAY")},position:function(t){console.log("POS: "+t)},song:function(t){console.log("SONG: "+t.name)},stop:function(){console.log("STOP")}},Z={api:!1,spotifyApi:!1,spotify:!1,youtubeApi:!1,youtube:!1}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){if(!window.YT)var n={loading:0,loaded:0};if(!window.YTConfig)var i={host:"http://www.youtube.com"};n.loading||(n.loading=1,function(){var t=[];n.ready=function(e){n.loaded?e():t.push(e)},window.onYTReady=function(){n.loaded=1;for(var e=0;e<t.length;e++)try{t[e]()}catch(t){}},n.setConfig=function(t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e])};var e=document.createElement("script");e.type="text/javascript",e.id="www-widgetapi-script",e.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vflUFVyEP/www-widgetapi.js",e.async=!0;var o=document.currentScript;if(o){var r=o.nonce||o.getAttribute("nonce");r&&e.setAttribute("nonce",r)}var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(e,s)}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RTUkkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zb25ncmVxdWVzdHMvQWRkUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9hcGkvcmVxdWVzdHMvc29uZ3JlcXVlc3RzL0dldFF1ZXVlUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL3NvbmdyZXF1ZXN0cy9OZXh0UmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1BsYXliYWNrUHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zcG90aWZ5LWNyZWRlbnRpYWxzL0dldFJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zcG90aWZ5LWNyZWRlbnRpYWxzL0luaXRSZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9TZXRSZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9hcGkvcmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFscy9SZWZyZXNoUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHMvUmVtb3ZlUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvc3BvdGlmeS9TcG90aWZ5QXV0aGVudGljYXRpb25Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9wbGF5YmFjay9QbGF5YmFja1NsYXZlQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvcGxheWJhY2svU3BvdGlmeVBsYXliYWNrQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL290aGVyL1NldFZvbHVtZVJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3BsYXliYWNrL1lvdVR1YmVQbGF5YmFja0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zb25ncmVxdWVzdHMvQmFja1JlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9vdGhlci9TZXR0aW5nc1JlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3BsYXliYWNrL3BsYXliYWNrcHJldmlldy9QbGF5YmFja1ByZXZpZXdDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9wbGF5YmFjay9QbGF5YmFja01hc3RlckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9zZWFyY2gvU3BvdGlmeVNlYXJjaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBpL3JlcXVlc3RzL3NlYXJjaC9Zb3VUdWJlU2VhcmNoLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9hcGkvU2VhcmNoQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvVFNSSUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2FwaS9yZXF1ZXN0cy9vdGhlci9SZXBvcnRSZXF1ZXN0LnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vcHJvdmlkZXJzL3lvdXR1YmUveW91dHViZS1pZnJhbWVfYXBpLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY29udHJvbGxlciIsInNsZWVwIiwiUHJvbWlzZSIsInNldFRpbWVvdXQiLCJ3aW4iLCJ3aW5kb3ciLCJUU1JJIiwib25TcG90aWZ5V2ViUGxheWJhY2tTREtSZWFkeSIsInNwb3RpZnlBcGlSZWFkeSIsImdsb2JhbCIsIm9uWW91VHViZUlmcmFtZUFQSVJlYWR5IiwieW91dHViZUFwaVJlYWR5IiwiQVBJQ29ubmVjdGlvblN0YXR1cyIsIkFkZFJlcXVlc3QiLCJzb25nIiwidG9waWMiLCJzY29wZSIsImFjdGlvbiIsInR5cGUiLCJHZXRRdWV1ZVJlcXVlc3QiLCJOZXh0UmVxdWVzdCIsInNraXAiLCJhcGkiLCJqd3QiLCJzdGF0dXNMaXN0ZW5lciIsImV2ZW50cyIsIk1hcCIsInRoaXMiLCJjb25uZWN0IiwiY2xpZW50IiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJXZWJTb2NrZXQiLCJvbmVycm9yIiwic3RhdHVzQ2hhbmdlZCIsIkRJU0NPTk5FQ1RFRCIsIm9ub3BlbiIsImF1dGhvcml6ZSIsIm9uY2xvc2UiLCJyZXF1ZXN0cyIsIkFQSVJlcXVlc3RNYW5hZ2VyIiwicmVxdWVzdCIsInRva2VuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjaGFubmVsIiwicmVzdWx0IiwidXNlciIsInR3aXRjaElkIiwiY29uZmlnIiwiQ09OTkVDVEVEIiwiVU5BVVRIT1JJWkVEIiwib24iLCJldmVudCIsImhhbmRsZXIiLCJoYXMiLCJwdXNoIiwic2V0IiwiYWRkIiwiZ2V0UXVldWUiLCJuZXh0IiwiUGxheWJhY2tQcm92aWRlciIsImNvdW50IiwicGVuZGluZyIsIm9ubWVzc2FnZSIsIm1zZyIsIm9iIiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsInJlZiIsImRlbGV0ZSIsImZvckVhY2giLCJkZXRhaWxzIiwiRGF0ZSIsInRpbWVTdGFtcCIsInJlcSIsInRpbWVvdXQiLCJuZXdSZWYiLCJyZXMiLCJyZWoiLCJzZW5kIiwic3RyaW5naWZ5IiwidG9TdHJpbmciLCJHZXRSZXF1ZXN0IiwiSW5pdFJlcXVlc3QiLCJTZXRSZXF1ZXN0IiwiY29kZSIsIlJlZnJlc2hSZXF1ZXN0IiwiUmVtb3ZlUmVxdWVzdCIsImxpc3RlbmVyIiwiZXhwaXJlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGFydHNXaXRoIiwic3Vic3RyIiwibGVuZ3RoIiwicG9zdE1lc3NhZ2UiLCJoYW5kbGUiLCJpbml0Iiwib3BlbiIsInVyaSIsInJlZnJlc2giLCJyZW1vdmUiLCJzcG90aWZ5QXV0aGVudGljYXRlZCIsImdldFRpbWUiLCJub3ciLCJwbGF5aW5nIiwicGxheWVyIiwiZGlzY29ubmVjdCIsIlNwb3RpZnkiLCJQbGF5ZXIiLCJnZXRPQXV0aFRva2VuIiwiY2IiLCJhZGRMaXN0ZW5lciIsIm1lc3NhZ2UiLCJyZXBvcnRzIiwic3BvdGlmeVJlcG9ydHMiLCJzdGF0ZSIsInBhdXNlZCIsInBvc2l0aW9uIiwiZHVyYXRpb24iLCJvblBvc2l0aW9uQ2hhbmdlIiwib25QYXVzZSIsIm9uUGxheSIsImRpc2FsbG93cyIsInJlc3VtaW5nIiwib25OZXh0IiwiZGV2aWNlX2lkIiwiaWQiLCJzZXRTcG90aWZ5UGxheWVyVm9sdW1lIiwic3BvdGlmeUF1dGgiLCJwYXVzZSIsInBsYXkiLCJmb3JjZUJlZ2luIiwic3RhcnQiLCJyZXN1bWUiLCJib2R5IiwidXJpcyIsInBvc2l0aW9uX21zIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwidm9sdW1lIiwiZGV2aWNlSWQiLCJzZWVrIiwic2V0Vm9sdW1lIiwidm9sdW1lQmFsYW5jZSIsImUiLCJjb25zb2xlIiwibG9nIiwicHJldmlldyIsInNwb3RpZnkiLCJzdGFydEF0IiwiUGxheWJhY2tTbGF2ZUNvbnRyb2xsZXIiLCJ5b3V0dWJlQXBpIiwiWVQiLCJvblN0YXRlQ2hhbmdlIiwib25VcGRhdGUiLCJwZXJtYVVwZGF0ZSIsInNldFBvcyIsImdldEN1cnJlbnRUaW1lIiwiZ2V0RHVyYXRpb24iLCJwYXVzZVZpZGVvIiwibG9hZFZpZGVvQnlJZCIsInNlZWtUbyIsInBsYXlWaWRlbyIsInlvdXR1YmUiLCJNYXRoIiwicm91bmQiLCJCYWNrUmVxdWVzdCIsIlNldHRpbmdzUmVxdWVzdCIsInNldHRpbmdzIiwic29uZ3MiLCJhcnRpc3QiLCJjb3ZlciIsIm1hc3RlciIsInNldEV2ZW50cyIsImNhblBsYXkiLCJzdGFydFByZXZpZXciLCJzaG91bGRQbGF5IiwicmFuZG9tUHJldmlldyIsIlBsYXliYWNrUHJldmlld0NvbnRyb2xsZXIiLCJnZXRSYW5kb21QcmV2aWV3IiwiU1BPVElGWSIsIllPVVRVQkUiLCJOT05FIiwiY2FuIiwiZmxvb3IiLCJyYW5kb20iLCJmcm9udGVuZEV2ZW50cyIsInF1ZXVlIiwiX2hpc3RvcnkiLCJmaXJzdFBsYXliYWNrIiwicG9zUHJlZGljdGVyIiwiUG9zaXRpb25QcmVkaWN0ZXIiLCJwb3MiLCJwbGF5YmFja1Byb3ZpZGVyRXZlbnRzIiwicXVldWVVcGRhdGUiLCJzZXRRdWV1ZSIsImhpc3RvcnkiLCJ0ZW1wUXVldWUiLCJzZXR0aW5nc1VwZGF0ZSIsImdldENvbnRyb2xsZXIiLCJwcm92aWRlciIsInByZWRpY3Rpb24iLCJsb2NhbEFkZCIsInByZWRpY3QiLCJ1bmRlZmluZWQiLCJyZXNldFBvc2l0aW9uIiwibG9jYWxOZXh0IiwidW5zaGlmdCIsInNoaWZ0IiwiYmFjayIsImFwaUFkZCIsInNlbGYiLCJpbmNsdWRlcyIsInN0b3AiLCJwMSIsInAyIiwic2V0UG9zaXRpb24iLCJsb2FkUXVldWUiLCJzZXRTZXR0aW5ncyIsInNldFZvbHVtZUJhbGFuY2UiLCJoYW5kbGVTZXR0aW5ncyIsImNhbGxiYWNrIiwibGFzdFBvc2l0aW9uIiwicHJlZGljdE5vdyIsIlNwb3RpZnlTZWFyY2giLCJxdWVyeSIsIllvdVR1YmVTZWFyY2giLCJvblNwb3RpZnkiLCJvbllvdVR1YmUiLCJhdXRoZW50aWNhdGVkIiwiQVBJIiwicGxheWJhY2siLCJlbmFibGVTcG90aWZ5QXV0aCIsImluaXRpYWxpemVkIiwic2VhcmNoIiwic3BvdGlmeVN0YXR1cyIsInNwb3RpZnlBcGkiLCJkZWZhdWx0RXZlbnRzIiwicmVwb3J0IiwicmVhc29uIiwiZyIsIkZ1bmN0aW9uIiwibG9hZGluZyIsImxvYWRlZCIsIllUQ29uZmlnIiwicmVhZHkiLCJmIiwib25ZVFJlYWR5Iiwic2V0Q29uZmlnIiwiayIsImEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJhc3luYyIsImN1cnJlbnRTY3JpcHQiLCJub25jZSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImIiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFv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QyxhQUFhWixFQUFHUyxHQUE5cUIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHtUU1JJQ29udHJvbGxlcn0gZnJvbSBcIi4vY29udHJvbGxlcnMvVFNSSUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtUU1JJV2luZG93fSBmcm9tIFwiLi9tb2RlbHMvVFNSSVdpbmRvd1wiO1xyXG5cclxuY29uc3QgY29udHJvbGxlcjogVFNSSUNvbnRyb2xsZXIgPSBuZXcgVFNSSUNvbnRyb2xsZXIoKTtcclxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG06IG51bWJlcikgPT4gbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIG0pKTtcclxuXHJcbmNvbnN0IHdpbiA9IHdpbmRvdyBhcyBUU1JJV2luZG93O1xyXG53aW4uVFNSSSA9IGNvbnRyb2xsZXI7XHJcbndpbi5vblNwb3RpZnlXZWJQbGF5YmFja1NES1JlYWR5ID0gKCkgPT4gY29udHJvbGxlci5zcG90aWZ5QXBpUmVhZHkoKTtcclxuXHJcbmNvbnN0IF9nbG9iYWwgPSAod2luZG93IHx8IGdsb2JhbCkgYXMgYW55O1xyXG5fZ2xvYmFsLm9uWW91VHViZUlmcmFtZUFQSVJlYWR5ID0gKCkgPT4gY29udHJvbGxlci55b3V0dWJlQXBpUmVhZHkoKTtcclxuXHJcbi8vIHJlcXVpcmUoXCIuLi9wcm92aWRlcnMvc3BvdGlmeS9zcG90aWZ5LXBsYXliYWNrLXNka1wiKTtcclxucmVxdWlyZShcIi4uL3Byb3ZpZGVycy95b3V0dWJlL3lvdXR1YmUtaWZyYW1lX2FwaVwiKTtcclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcbmltcG9ydCB7U29uZ30gZnJvbSBcIi4uLy4uLy4uLy4uL21vZGVscy9Tb25nXCI7XHJcblxyXG5leHBvcnQgY29uc3QgQWRkUmVxdWVzdCA9IChzb25nOiBTb25nKTogSUFQSVJlcXVlc3QgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvZXZlbnRzXCIsXHJcbiAgICAgICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiYWRkXCIsXHJcbiAgICAgICAgICAgIHNvbmdcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7U29uZ30gZnJvbSBcIi4uLy4uL21vZGVscy9Tb25nXCI7XHJcbmltcG9ydCB7QWRkUmVxdWVzdH0gZnJvbSBcIi4vcmVxdWVzdHMvc29uZ3JlcXVlc3RzL0FkZFJlcXVlc3RcIjtcclxuaW1wb3J0IHtHZXRRdWV1ZVJlcXVlc3R9IGZyb20gXCIuL3JlcXVlc3RzL3NvbmdyZXF1ZXN0cy9HZXRRdWV1ZVJlcXVlc3RcIjtcclxuaW1wb3J0IHtOZXh0UmVxdWVzdH0gZnJvbSBcIi4vcmVxdWVzdHMvc29uZ3JlcXVlc3RzL05leHRSZXF1ZXN0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXIge1xyXG4gICAgcHVibGljIHJlcXVlc3RzOiBBUElSZXF1ZXN0TWFuYWdlcjtcclxuICAgIHByaXZhdGUgZXZlbnRzOiBNYXA8c3RyaW5nLCBBcnJheTwoZGV0YWlsczogYW55LCB0aW1lU3RhbXA6IERhdGUpID0+IHZvaWQ+PiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBwcml2YXRlIGNsaWVudDogV2ViU29ja2V0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgYXBpOiBzdHJpbmcsXHJcbiAgICAgICAgcHJpdmF0ZSBqd3Q6IHN0cmluZyxcclxuICAgICAgICBwcml2YXRlIHN0YXR1c0xpc3RlbmVyOiBBUElDb25uZWN0aW9uU3RhdHVzTGlzdGVuZXJcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29ubmVjdCgpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xpZW50ICYmIHRoaXMuY2xpZW50LnJlYWR5U3RhdGUgPT09IHRoaXMuY2xpZW50Lk9QRU4pIHJldHVybjtcclxuICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBXZWJTb2NrZXQodGhpcy5hcGkpO1xyXG4gICAgICAgIHRoaXMuY2xpZW50Lm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzTGlzdGVuZXIuc3RhdHVzQ2hhbmdlZChBUElDb25uZWN0aW9uU3RhdHVzLkRJU0NPTk5FQ1RFRCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNsaWVudC5vbm9wZW4gPSAoKSA9PiB0aGlzLmF1dGhvcml6ZSgpO1xyXG4gICAgICAgIHRoaXMuY2xpZW50Lm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzTGlzdGVuZXIuc3RhdHVzQ2hhbmdlZChBUElDb25uZWN0aW9uU3RhdHVzLkRJU0NPTk5FQ1RFRCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RzID0gbmV3IEFQSVJlcXVlc3RNYW5hZ2VyKHRoaXMuY2xpZW50LCB0aGlzLmV2ZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBhdXRob3JpemUoKSB7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0cy5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgdG9waWM6ICdhdXRoJyxcclxuICAgICAgICAgICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICAgICAgICAgIGFjdGlvbjoge3R5cGU6ICdKV1RfVE9LRU4nLCB0b2tlbjogdGhpcy5qd3R9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgIGxldCBjaGFubmVsID0gcmVzcG9uc2UucmVzdWx0LnVzZXIudHdpdGNoSWQ7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0cy5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgICAgIHRvcGljOiAndHdhc2ktc29uZ3JlcXVlc3RzL2V2ZW50cycsXHJcbiAgICAgICAgICAgICAgICBzY29wZTogXCJzdWJzY3JpYmVcIixcclxuICAgICAgICAgICAgICAgIGNvbmZpZzoge2NoYW5uZWx9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdHVzTGlzdGVuZXIuc3RhdHVzQ2hhbmdlZChyZXNwb25zZS5zdGF0dXMgPT09ICdzdWNjZXNzJyA/IEFQSUNvbm5lY3Rpb25TdGF0dXMuQ09OTkVDVEVEIDogQVBJQ29ubmVjdGlvblN0YXR1cy5VTkFVVEhPUklaRUQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbihldmVudDogc3RyaW5nLCBoYW5kbGVyOiAoZGV0YWlsczogYW55LCB0aW1lU3RhbXA6IERhdGUpID0+IHZvaWQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzLmhhcyhldmVudCkpIHRoaXMuZXZlbnRzLnNldChldmVudCwgW2hhbmRsZXJdKTtcclxuICAgICAgICBlbHNlIHRoaXMuZXZlbnRzLmdldChldmVudCkucHVzaChoYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgYWRkKHNvbmc6IFNvbmcpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZXF1ZXN0cy5yZXF1ZXN0KEFkZFJlcXVlc3Qoc29uZykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRRdWV1ZSgpIHtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMucmVxdWVzdHMucmVxdWVzdChHZXRRdWV1ZVJlcXVlc3QpKS5yZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIG5leHQoc2tpcDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmVxdWVzdHMucmVxdWVzdChOZXh0UmVxdWVzdChza2lwKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEFQSUNvbm5lY3Rpb25TdGF0dXMge1xyXG4gICAgQ09OTkVDVEVELCBESVNDT05ORUNURUQsIFVOQVVUSE9SSVpFRFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFQSUNvbm5lY3Rpb25TdGF0dXNMaXN0ZW5lciB7XHJcbiAgICBzdGF0dXNDaGFuZ2VkOiAoc3RhdHVzOiBBUElDb25uZWN0aW9uU3RhdHVzKSA9PiB2b2lkXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUFQSVJlcXVlc3Qge1xyXG4gICAgcmVmPzogc3RyaW5nO1xyXG4gICAgdG9waWM6IHN0cmluZztcclxuICAgIHNjb3BlOiAnYWN0aW9uJyB8ICdzdWJzY3JpYmUnO1xyXG4gICAgYWN0aW9uPzogYW55O1xyXG4gICAgY29uZmlnPzogYW55O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQVBJUmVxdWVzdE1hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBjb3VudDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgcGVuZGluZzogTWFwPHN0cmluZywgKHJlcz86IGFueSkgPT4gdm9pZD4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIGV2ZW50czogTWFwPHN0cmluZywgQXJyYXk8KGRldGFpbHM6IGFueSwgdGltZVN0YW1wOiBEYXRlKSA9PiB2b2lkPj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIGNsaWVudDogV2ViU29ja2V0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNsaWVudDogV2ViU29ja2V0LCBldmVudHM/OiBNYXA8c3RyaW5nLCBBcnJheTwoZGV0YWlsczogYW55LCB0aW1lU3RhbXA6IERhdGUpID0+IHZvaWQ+Pikge1xyXG4gICAgICAgIGlmIChldmVudHMpIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xyXG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xyXG4gICAgICAgIHRoaXMuY2xpZW50Lm9ubWVzc2FnZSA9IChtc2cpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb2IgPSBKU09OLnBhcnNlKG1zZy5kYXRhKSBhcyBhbnk7XHJcbiAgICAgICAgICAgIGlmIChvYi5yZWYgJiYgdGhpcy5wZW5kaW5nLmhhcyhvYi5yZWYpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZ2V0KG9iLnJlZikob2IucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZy5kZWxldGUob2IucmVmKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvYi5ldmVudCAmJiB0aGlzLmV2ZW50cy5oYXMob2IuZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5nZXQob2IuZXZlbnQpLmZvckVhY2goaGFuZGxlciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcihvYi5kZXRhaWxzLCBuZXcgRGF0ZShvYi50aW1lU3RhbXApKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlcXVlc3QocmVxOiBJQVBJUmVxdWVzdCwgdGltZW91dDogbnVtYmVyID0gMzAwMCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgaWYgKCFyZXEucmVmKSByZXEucmVmID0gdGhpcy5uZXdSZWYoKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8YW55PigocmVzOiAocmVzOiBhbnkpID0+IHZvaWQsIHJlajogKGVycj86IGFueSkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcuc2V0KHJlcS5yZWYsIHJlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVxKSk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBlbmRpbmcuaGFzKHJlcS5yZWYpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuZGVsZXRlKHJlcS5yZWYpO1xyXG4gICAgICAgICAgICAgICAgcmVqKFwiVGltZWQgT3V0XCIpO1xyXG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbihldmVudDogc3RyaW5nLCBoYW5kbGVyOiAoZGV0YWlsczogYW55LCB0aW1lU3RhbXA6IERhdGUpID0+IHZvaWQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzLmhhcyhldmVudCkpIHRoaXMuZXZlbnRzLnNldChldmVudCwgW2hhbmRsZXJdKTtcclxuICAgICAgICBlbHNlIHRoaXMuZXZlbnRzLmdldChldmVudCkucHVzaChoYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG5ld1JlZigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5jb3VudCsrKS50b1N0cmluZygpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEdldFF1ZXVlUmVxdWVzdDogSUFQSVJlcXVlc3QgPSB7XHJcbiAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvZXZlbnRzXCIsXHJcbiAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgIGFjdGlvbjoge1xyXG4gICAgICAgIHR5cGU6IFwicXVldWVcIlxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge0lBUElSZXF1ZXN0fSBmcm9tIFwiLi4vLi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBOZXh0UmVxdWVzdCA9IChza2lwOiBib29sZWFuID0gZmFsc2UpOiBJQVBJUmVxdWVzdCA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9ldmVudHNcIixcclxuICAgICAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgICAgICBhY3Rpb246IHtcclxuICAgICAgICAgICAgdHlwZTogc2tpcCA/IFwic2tpcFwiIDogXCJuZXh0XCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbiIsImV4cG9ydCBlbnVtIFBsYXliYWNrUHJvdmlkZXIge1xyXG4gICAgTk9ORSwgU1BPVElGWSwgWU9VVFVCRVxyXG59XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEdldFJlcXVlc3Q6IElBUElSZXF1ZXN0ID0ge1xyXG4gICAgdG9waWM6IFwidHdhc2ktc29uZ3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHNcIixcclxuICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgYWN0aW9uOiB7XHJcbiAgICAgICAgdHlwZTogXCJnZXRcIlxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge0lBUElSZXF1ZXN0fSBmcm9tIFwiLi4vLi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBJbml0UmVxdWVzdDogSUFQSVJlcXVlc3QgPSB7XHJcbiAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFsc1wiLFxyXG4gICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICBhY3Rpb246IHtcclxuICAgICAgICB0eXBlOiBcImluaXRcIlxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge0lBUElSZXF1ZXN0fSBmcm9tIFwiLi4vLi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBTZXRSZXF1ZXN0OiAoY29kZTogc3RyaW5nKSA9PiBJQVBJUmVxdWVzdCA9IChjb2RlOiBzdHJpbmcpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9waWM6IFwidHdhc2ktc29uZ3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHNcIixcclxuICAgICAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgICAgICBhY3Rpb246IHtcclxuICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcclxuICAgICAgICAgICAgY29kZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgUmVmcmVzaFJlcXVlc3Q6IElBUElSZXF1ZXN0ID0ge1xyXG4gICAgdG9waWM6IFwidHdhc2ktc29uZ3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHNcIixcclxuICAgIHNjb3BlOiBcImFjdGlvblwiLFxyXG4gICAgYWN0aW9uOiB7XHJcbiAgICAgICAgdHlwZTogXCJyZWZyZXNoXCJcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgUmVtb3ZlUmVxdWVzdDogSUFQSVJlcXVlc3QgPSB7XHJcbiAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvc3BvdGlmeS1jcmVkZW50aWFsc1wiLFxyXG4gICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICBhY3Rpb246IHtcclxuICAgICAgICB0eXBlOiBcInJlbW92ZVwiXHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7QVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJ9IGZyb20gXCIuLi9hcGkvQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtHZXRSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHMvR2V0UmVxdWVzdFwiO1xyXG5pbXBvcnQge0luaXRSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHMvSW5pdFJlcXVlc3RcIjtcclxuaW1wb3J0IHtTZXRSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHMvU2V0UmVxdWVzdFwiO1xyXG5pbXBvcnQge1JlZnJlc2hSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHMvUmVmcmVzaFJlcXVlc3RcIjtcclxuaW1wb3J0IHtSZW1vdmVSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3Nwb3RpZnktY3JlZGVudGlhbHMvUmVtb3ZlUmVxdWVzdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNwb3RpZnlBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcGk6IEFQSUNvbm5lY3Rpb25Db250cm9sbGVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBsaXN0ZW5lcjogSVNwb3RpZnlBdXRoZW50aWNhdGlvbkxpc3RlbmVyO1xyXG5cclxuICAgIHByaXZhdGUgdG9rZW46IHN0cmluZyA9IG51bGw7XHJcbiAgICBwcml2YXRlIGV4cGlyZXM6IERhdGUgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB3aW46IFdpbmRvdztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcGk6IEFQSUNvbm5lY3Rpb25Db250cm9sbGVyLCBsaXN0ZW5lcjogSVNwb3RpZnlBdXRoZW50aWNhdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5hcGkgPSBhcGk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xyXG4gICAgICAgIGNvbnN0IHJlY2VpdmVDb2RlID0gYXN5bmMgKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCEodHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50LmRhdGEgYXMgc3RyaW5nKS5zdGFydHNXaXRoKFwiY29kZTpcIikpIHJldHVybjtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXQoZXZlbnQuZGF0YS5zdWJzdHIoXCJjb2RlOlwiLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICB0aGlzLndpbi5wb3N0TWVzc2FnZShcImNsb3NlXCIsIFwiKlwiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCByZWNlaXZlQ29kZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXQoKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChHZXRSZXF1ZXN0KTtcclxuICAgICAgICB0aGlzLmhhbmRsZShyZXMudG9rZW4gPyByZXMgOiBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KEluaXRSZXF1ZXN0KTtcclxuICAgICAgICB0aGlzLndpbiA9IHdpbmRvdy5vcGVuKHJlcy5yZXN1bHQudXJpLCBcInBvcFVwV2luZG93XCIsICdoZWlnaHQ9NTAwLHdpZHRoPTQwMCxsZWZ0PTEwMCx0b3A9MTAwLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMsdG9vbGJhcj15ZXMsbWVudWJhcj1ubyxsb2NhdGlvbj1ubyxkaXJlY3Rvcmllcz1ubywgc3RhdHVzPXllcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgc2V0KGNvZGU6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuYXBpLnJlcXVlc3RzLnJlcXVlc3QoU2V0UmVxdWVzdChjb2RlKSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGUocmVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVmcmVzaCgpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KFJlZnJlc2hSZXF1ZXN0KTtcclxuICAgICAgICB0aGlzLmhhbmRsZShyZXMudG9rZW4gPyByZXMgOiBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVtb3ZlKCkge1xyXG4gICAgICAgIGlmICgoYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChSZW1vdmVSZXF1ZXN0KSkuc3RhdHVzICE9PSAnc3VjY2VzcycpXHJcbiAgICAgICAgICAgIHRocm93KFwiQW4gZXJyb3Igb2NjdXJlZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZShyZXM6IHsgdG9rZW46IHN0cmluZywgZXhwaXJlczogbnVtYmVyIH0gfCBudWxsKSB7XHJcbiAgICAgICAgaWYgKCFyZXMpIHRoaXMubGlzdGVuZXIuc3BvdGlmeUF1dGhlbnRpY2F0ZWQoZmFsc2UpO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRva2VuID0gcmVzLnRva2VuO1xyXG4gICAgICAgICAgICB0aGlzLmV4cGlyZXMgPSBuZXcgRGF0ZShyZXMuZXhwaXJlcyk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIuc3BvdGlmeUF1dGhlbnRpY2F0ZWQodHJ1ZSwgcmVzLnRva2VuKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b2tlbiAhPT0gcmVzLnRva2VuKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSwgdGhpcy5leHBpcmVzLmdldFRpbWUoKSAtIERhdGUubm93KCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJU3BvdGlmeUF1dGhlbnRpY2F0aW9uTGlzdGVuZXIge1xyXG4gICAgc3RhdHVzQ2hhbmdlZDogKG5ld1N0YXR1czogYm9vbGVhbikgPT4gdm9pZCxcclxuICAgIHNwb3RpZnlBdXRoZW50aWNhdGVkOiAoYXV0aGVudGljYXRlZDogYm9vbGVhbiwgdG9rZW4/OiBzdHJpbmcpID0+IHZvaWRcclxufVxyXG4iLCJpbXBvcnQge1Nvbmd9IGZyb20gXCIuLi8uLi9tb2RlbHMvU29uZ1wiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBsYXliYWNrU2xhdmVDb250cm9sbGVyIHtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBwYXVzZSgpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBwbGF5KHNvbmc6IFNvbmcsIGZvcmNlQmVnaW46IGJvb2xlYW4pOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZWVrKHBvc2l0aW9uOiBudW1iZXIpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIsIHZvbHVtZUJhbGFuY2U6IG51bWJlcik6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlc3VtZSgpOiB2b2lkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBldmVudHM6IFBsYXliYWNrU2xhdmVFdmVudHMpIHtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQbGF5YmFja1NsYXZlRXZlbnRzIHtcclxuICAgIG9uUGxheTogKHNvbmc/OiBTb25nKSA9PiB2b2lkO1xyXG4gICAgb25QYXVzZTogKCkgPT4gdm9pZDtcclxuICAgIG9uUG9zaXRpb25DaGFuZ2U6IChwb3M6IG51bWJlciwgZHVyYXRpb246IG51bWJlcikgPT4gdm9pZDtcclxuICAgIG9uTmV4dDogKCkgPT4gdm9pZDtcclxufVxyXG4iLCJpbXBvcnQge0FQSUNvbm5lY3Rpb25Db250cm9sbGVyfSBmcm9tIFwiLi4vYXBpL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcbmltcG9ydCB7U29uZ30gZnJvbSBcIi4uLy4uL21vZGVscy9Tb25nXCI7XHJcbmltcG9ydCB7UGxheWJhY2tTbGF2ZUNvbnRyb2xsZXIsIFBsYXliYWNrU2xhdmVFdmVudHN9IGZyb20gXCIuL1BsYXliYWNrU2xhdmVDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7VFNSSVdpbmRvd30gZnJvbSBcIi4uLy4uL21vZGVscy9UU1JJV2luZG93XCI7XHJcbmltcG9ydCB7U2V0Vm9sdW1lUmVxdWVzdH0gZnJvbSBcIi4uL2FwaS9yZXF1ZXN0cy9vdGhlci9TZXRWb2x1bWVSZXF1ZXN0XCI7XHJcbmltcG9ydCB7UHJldmlld1Nvbmd9IGZyb20gXCIuL3BsYXliYWNrcHJldmlldy9QbGF5YmFja1ByZXZpZXdDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7c2xlZXB9IGZyb20gXCIuLi8uLi9UU1JJXCI7XHJcblxyXG5kZWNsYXJlIGNvbnN0IFNwb3RpZnk6IGFueTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTcG90aWZ5UGxheWJhY2tDb250cm9sbGVyIGV4dGVuZHMgUGxheWJhY2tTbGF2ZUNvbnRyb2xsZXIge1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IGFueTtcclxuICAgIHByaXZhdGUgc29uZzogU29uZztcclxuICAgIHByaXZhdGUgaWQ6IHN0cmluZztcclxuICAgIHRva2VuOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHBsYXlpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgdm9sdW1lOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGV2ZW50czogUGxheWJhY2tTbGF2ZUV2ZW50cywgcHJpdmF0ZSBhcGk6IEFQSUNvbm5lY3Rpb25Db250cm9sbGVyKSB7XHJcbiAgICAgICAgc3VwZXIoZXZlbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdCh0b2tlbjogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyKSB0aGlzLnBsYXllci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IG5ldyBTcG90aWZ5LlBsYXllcih7XHJcbiAgICAgICAgICAgIG5hbWU6ICdUd2FzaS1QYW5lbCcsXHJcbiAgICAgICAgICAgIGdldE9BdXRoVG9rZW46IChjYjogKHRva2VuOiBzdHJpbmcpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNiKHRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEVycm9yIGhhbmRsaW5nXHJcbiAgICAgICAgcGxheWVyLmFkZExpc3RlbmVyKCdpbml0aWFsaXphdGlvbl9lcnJvcicsICh7bWVzc2FnZX06IHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IHtcclxuICAgICAgICAgICAgKHdpbmRvdyBhcyBUU1JJV2luZG93KS5UU1JJLnJlcG9ydHMuc3BvdGlmeVJlcG9ydHMucHVzaCh7dHlwZTogJ2luaXRpYWxpemF0aW9uX2Vycm9yJywgbWVzc2FnZX0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRMaXN0ZW5lcignYXV0aGVudGljYXRpb25fZXJyb3InLCBhc3luYyAoe21lc3NhZ2V9OiB7IG1lc3NhZ2U6IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgICAgICAgICh3aW5kb3cgYXMgVFNSSVdpbmRvdykuVFNSSS5yZXBvcnRzLnNwb3RpZnlSZXBvcnRzLnB1c2goe3R5cGU6ICdhdXRoZW50aWNhdGlvbl9lcnJvcicsIG1lc3NhZ2V9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkTGlzdGVuZXIoJ2FjY291bnRfZXJyb3InLCBhc3luYyAoe21lc3NhZ2V9OiB7IG1lc3NhZ2U6IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgICAgICAgICh3aW5kb3cgYXMgVFNSSVdpbmRvdykuVFNSSS5yZXBvcnRzLnNwb3RpZnlSZXBvcnRzLnB1c2goe3R5cGU6ICdhY2NvdW50X2Vycm9yJywgbWVzc2FnZX0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRMaXN0ZW5lcigncGxheWJhY2tfZXJyb3InLCBhc3luYyAoe21lc3NhZ2V9OiB7IG1lc3NhZ2U6IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgICAgICAgICh3aW5kb3cgYXMgVFNSSVdpbmRvdykuVFNSSS5yZXBvcnRzLnNwb3RpZnlSZXBvcnRzLnB1c2goe3R5cGU6ICdwbGF5YmFja19lcnJvcicsIG1lc3NhZ2V9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUGxheWJhY2sgc3RhdHVzIHVwZGF0ZXNcclxuICAgICAgICBwbGF5ZXIuYWRkTGlzdGVuZXIoJ3BsYXllcl9zdGF0ZV9jaGFuZ2VkJywgYXN5bmMgKHN0YXRlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFzdGF0ZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlpbmcgPSAhc3RhdGUucGF1c2VkO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUucG9zaXRpb24gJiYgc3RhdGUuZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vblBvc2l0aW9uQ2hhbmdlKHN0YXRlLnBvc2l0aW9uLCBzdGF0ZS5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFzdGF0ZS5wYXVzZWQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vblBvc2l0aW9uQ2hhbmdlKDAsIHRoaXMuc29uZy5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5wYXVzZWQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vblBhdXNlKCk7XHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5ldmVudHMub25QbGF5KHRoaXMuc29uZyk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHN0YXRlLnBhdXNlZCAmJiBzdGF0ZS5kaXNhbGxvd3MucmVzdW1pbmdcclxuICAgICAgICAgICAgICAgICYmIHN0YXRlLnBvc2l0aW9uICYmIHN0YXRlLmR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICAmJiAoc3RhdGUucG9zaXRpb24gLyBzdGF0ZS5kdXJhdGlvbiA+IDAuOTgpXHJcbiAgICAgICAgICAgICkgdGhpcy5ldmVudHMub25OZXh0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlYWR5XHJcbiAgICAgICAgcGxheWVyLmFkZExpc3RlbmVyKCdyZWFkeScsIGFzeW5jICh7ZGV2aWNlX2lkfTogeyBkZXZpY2VfaWQ6IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBkZXZpY2VfaWQ7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0U3BvdGlmeVBsYXllclZvbHVtZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBOb3QgUmVhZHlcclxuICAgICAgICBwbGF5ZXIuYWRkTGlzdGVuZXIoJ25vdF9yZWFkeScsIGFzeW5jICh7ZGV2aWNlX2lkfTogeyBkZXZpY2VfaWQ6IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYXdhaXQgKHdpbmRvdyBhcyBUU1JJV2luZG93KS5UU1JJLnNwb3RpZnlBdXRoLnJlZnJlc2goKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICBwbGF5ZXIuY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhdXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGxheWVyLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcGxheShzb25nOiBTb25nLCBmb3JjZUJlZ2luOiBib29sZWFuLCBzdGFydD86IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNvbmcgJiYgdGhpcy5zb25nLnVyaSA9PT0gc29uZy51cmkpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVzdW1lKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zb25nID0gc29uZztcclxuICAgICAgICAgICAgY29uc3QgYm9keTogYW55ID0ge3VyaXM6IFtzb25nLnVyaV19O1xyXG4gICAgICAgICAgICBpZiAoZm9yY2VCZWdpbikgYm9keS5wb3NpdGlvbl9tcyA9IDA7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0KSBib2R5LnBvc2l0aW9uX21zID0gc3RhcnQ7XHJcbiAgICAgICAgICAgIGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9tZS9wbGF5ZXIvcGxheT9kZXZpY2VfaWQ9JHt0aGlzLmlkfWAsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMudG9rZW59YFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgc2V0U3BvdGlmeVBsYXllclZvbHVtZSgpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChTZXRWb2x1bWVSZXF1ZXN0KHRoaXMudm9sdW1lLCB0aGlzLmlkLCB0aGlzLnRva2VuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2Vlayhwb3NpdGlvbjogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2Vlayh0aGlzLnNvbmcuZHVyYXRpb24gKiBwb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyLCB2b2x1bWVCYWxhbmNlOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB2b2x1bWVCYWxhbmNlIC09IC41O1xyXG4gICAgICAgIHZvbHVtZUJhbGFuY2UgKj0gLTI7XHJcbiAgICAgICAgdm9sdW1lID0gdm9sdW1lIC8gMTAgKiA1O1xyXG4gICAgICAgIHZvbHVtZSArPSAodm9sdW1lICsgLjUpICogdm9sdW1lQmFsYW5jZSAqIC41O1xyXG4gICAgICAgIGlmICh2b2x1bWUgPCAwKSB2b2x1bWUgPSAwO1xyXG4gICAgICAgIHRoaXMudm9sdW1lID0gdm9sdW1lO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFNwb3RpZnlQbGF5ZXJWb2x1bWUoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucmVzdW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcHJldmlldyhzb25nOiBQcmV2aWV3U29uZykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBhd2FpdCB0aGlzLnBsYXkoe3VyaTogc29uZy5zb25nLnNwb3RpZnl9LCBmYWxzZSwgc29uZy5zdGFydEF0LnNwb3RpZnkpO1xyXG4gICAgICAgIGF3YWl0IHNsZWVwKHNvbmcuZHVyYXRpb24pO1xyXG4gICAgICAgIGF3YWl0IHRoaXMucGF1c2UoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0lBUElSZXF1ZXN0fSBmcm9tIFwiLi4vLi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBTZXRWb2x1bWVSZXF1ZXN0ID0gKHZvbHVtZTogbnVtYmVyLCBkZXZpY2VJZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nKTogSUFQSVJlcXVlc3QgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvZXZlbnRzXCIsXHJcbiAgICAgICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwic2V0Vm9sdW1lXCIsXHJcbiAgICAgICAgICAgIHZvbHVtZSxcclxuICAgICAgICAgICAgZGV2aWNlSWQsXHJcbiAgICAgICAgICAgIHRva2VuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge1BsYXliYWNrU2xhdmVDb250cm9sbGVyLCBQbGF5YmFja1NsYXZlRXZlbnRzfSBmcm9tIFwiLi9QbGF5YmFja1NsYXZlQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge1Nvbmd9IGZyb20gXCIuLi8uLi9tb2RlbHMvU29uZ1wiO1xyXG5pbXBvcnQge0FQSUNvbm5lY3Rpb25Db250cm9sbGVyfSBmcm9tIFwiLi4vYXBpL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcbmltcG9ydCB7UHJldmlld1Nvbmd9IGZyb20gXCIuL3BsYXliYWNrcHJldmlldy9QbGF5YmFja1ByZXZpZXdDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7c2xlZXB9IGZyb20gXCIuLi8uLi9UU1JJXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgWW91VHViZVBsYXliYWNrQ29udHJvbGxlciBleHRlbmRzIFBsYXliYWNrU2xhdmVDb250cm9sbGVyIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBwbGF5ZXI6IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihldmVudHM6IFBsYXliYWNrU2xhdmVFdmVudHMsIGFwaTogQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXIsIHlvdXR1YmVBcGk6IGJvb2xlYW4pIHtcclxuICAgICAgICBzdXBlcihldmVudHMpO1xyXG4gICAgICAgIGlmICgheW91dHViZUFwaSkgdGhyb3cgKFwiQVBJX05PVF9SRUFEWVwiKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCd5b3V0dWJlLXBsYXllcicsIHtcclxuICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICBvblN0YXRlQ2hhbmdlOiAoZXZlbnQ6IGFueSkgPT4gdGhpcy5vblVwZGF0ZShldmVudClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHBlcm1hVXBkYXRlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFBvcygpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHBlcm1hVXBkYXRlLCA1MDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGVybWFVcGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFBvcygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5vblBvc2l0aW9uQ2hhbmdlKHRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKCkgKiAxMDAwLCB0aGlzLnBsYXllci5nZXREdXJhdGlvbigpICogMTAwMCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uVXBkYXRlKGV2ZW50OiBhbnkpIHtcclxuICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gMSkgdGhpcy5ldmVudHMub25QbGF5KCk7XHJcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQuZGF0YSA9PT0gMCkgdGhpcy5ldmVudHMub25OZXh0KCk7XHJcbiAgICAgICAgZWxzZSB0aGlzLmV2ZW50cy5vblBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRQb3MoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcGF1c2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXkoc29uZzogU29uZywgZm9yY2VCZWdpbjogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGxheWVyLmxvYWRWaWRlb0J5SWQoc29uZy51cmkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlZWsocG9zaXRpb246IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGxheWVyLnNlZWtUbyh0aGlzLnBsYXllci5nZXREdXJhdGlvbigpICogcG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlciwgdm9sdW1lQmFsYW5jZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdm9sdW1lQmFsYW5jZSAtPSAuNTtcclxuICAgICAgICB2b2x1bWVCYWxhbmNlICo9IDI7XHJcbiAgICAgICAgdm9sdW1lID0gdm9sdW1lIC8gMTAgKiA1O1xyXG4gICAgICAgIHZvbHVtZSArPSAodm9sdW1lICsgLjUpICogdm9sdW1lQmFsYW5jZSAqIC41O1xyXG4gICAgICAgIGlmICh2b2x1bWUgPCAwKSB2b2x1bWUgPSAwO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNldFZvbHVtZSh2b2x1bWUgKiAxMDApO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHByZXZpZXcoc29uZzogUHJldmlld1NvbmcpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5sb2FkVmlkZW9CeUlkKHNvbmcuc29uZy55b3V0dWJlLCBNYXRoLnJvdW5kKHNvbmcuc3RhcnRBdC55b3V0dWJlIC8gMTAwMCkpO1xyXG4gICAgICAgIGF3YWl0IHNsZWVwKHNvbmcuZHVyYXRpb24pO1xyXG4gICAgICAgIHRoaXMucGxheWVyLnBhdXNlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgQmFja1JlcXVlc3Q6IElBUElSZXF1ZXN0ID0ge1xyXG4gICAgdG9waWM6IFwidHdhc2ktc29uZ3JlcXVlc3RzL2V2ZW50c1wiLFxyXG4gICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICBhY3Rpb246IHtcclxuICAgICAgICB0eXBlOiBcImJhY2tcIlxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge0lBUElSZXF1ZXN0fSBmcm9tIFwiLi4vLi4vQVBJQ29ubmVjdGlvbkNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtTZXR0aW5nc30gZnJvbSBcIi4uLy4uLy4uLy4uL21vZGVscy9TZXR0aW5nc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNldHRpbmdzUmVxdWVzdCA9IChzZXR0aW5ncz86IFNldHRpbmdzKTogSUFQSVJlcXVlc3QgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvZXZlbnRzXCIsXHJcbiAgICAgICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwic2V0dGluZ3NcIixcclxuICAgICAgICAgICAgc2V0dGluZ3NcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7UGxheWJhY2tQcmV2aWV3RXZlbnRzfSBmcm9tIFwiLi9QbGF5YmFja1ByZXZpZXdFdmVudHNcIjtcclxuaW1wb3J0IHtQbGF5YmFja01hc3RlckNvbnRyb2xsZXJ9IGZyb20gXCIuLi9QbGF5YmFja01hc3RlckNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtQbGF5YmFja1Byb3ZpZGVyfSBmcm9tIFwiLi4vLi4vLi4vbW9kZWxzL1BsYXliYWNrUHJvdmlkZXJcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJldmlld1Nvbmcge1xyXG4gICAgc29uZzoge1xyXG4gICAgICAgIG5hbWU6IHN0cmluZyxcclxuICAgICAgICBhcnRpc3Q6IHN0cmluZyxcclxuICAgICAgICBjb3Zlcjogc3RyaW5nLFxyXG4gICAgICAgIHlvdXR1YmU6IHN0cmluZyxcclxuICAgICAgICBzcG90aWZ5OiBzdHJpbmdcclxuICAgIH0sXHJcbiAgICBzdGFydEF0OiB7XHJcbiAgICAgICAgc3BvdGlmeTogbnVtYmVyLFxyXG4gICAgICAgIHlvdXR1YmU6IG51bWJlclxyXG4gICAgfSxcclxuICAgIGR1cmF0aW9uOiBudW1iZXIsXHJcbn1cclxuXHJcbmNvbnN0IHNvbmdzOiBBcnJheTxQcmV2aWV3U29uZz4gPSBbXHJcbiAgICB7XHJcbiAgICAgICAgc29uZzoge1xyXG4gICAgICAgICAgICBuYW1lOiBcIlRow7xyaW5nZXIgS2zDtsOfZSAtIFJhZGlvIFZlcnNpb25cIixcclxuICAgICAgICAgICAgYXJ0aXN0OiBcIkZyaXR6XCIsXHJcbiAgICAgICAgICAgIGNvdmVyOiBcImh0dHBzOi8vaS5zY2RuLmNvL2ltYWdlL2FiNjc2MTZkMDAwMGIyNzNkZGViNTY1ZDdkMjI2MWE3NjllYTVkMDNcIixcclxuICAgICAgICAgICAgc3BvdGlmeTogXCJzcG90aWZ5OnRyYWNrOjZ4OVNZR2xpQ2ZhSURmMUdHcGdjZVZcIixcclxuICAgICAgICAgICAgeW91dHViZTogXCJxSmUzY2RNN2YxY1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHVyYXRpb246IDQwMDAsXHJcbiAgICAgICAgc3RhcnRBdDoge3lvdXR1YmU6IDIwMDAwLCBzcG90aWZ5OiAyMDAwMH1cclxuICAgIH0sIHtcclxuICAgICAgICBzb25nOiB7XHJcbiAgICAgICAgICAgIG5hbWU6IFwiTGF0ZXIgQml0Y2hlc1wiLFxyXG4gICAgICAgICAgICBhcnRpc3Q6IFwiVGhlIFByaWNlIEthcm1hXCIsXHJcbiAgICAgICAgICAgIGNvdmVyOiBcImh0dHBzOi8vaS5zY2RuLmNvL2ltYWdlL2FiNjc2MTZkMDAwMGIyNzM3ZDQwNjk0YzIxYmRlZGI4N2Q2YmE5NzZcIixcclxuICAgICAgICAgICAgc3BvdGlmeTogXCJzcG90aWZ5OnRyYWNrOjZ4OVNZR2xpQ2ZhSURmMUdHcGdjZVZcIixcclxuICAgICAgICAgICAgeW91dHViZTogXCJxSmUzY2RNN2YxY1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHVyYXRpb246IDQwMDAsXHJcbiAgICAgICAgc3RhcnRBdDoge3lvdXR1YmU6IDIwMDAwLCBzcG90aWZ5OiAyMDAwMH1cclxuICAgIH0sIHtcclxuICAgICAgICBzb25nOiB7XHJcbiAgICAgICAgICAgIG5hbWU6IFwiU2hvb3RpbmcgU3RhcnNcIixcclxuICAgICAgICAgICAgYXJ0aXN0OiBcIkJhZyBSYWlkZXJzXCIsXHJcbiAgICAgICAgICAgIGNvdmVyOiBcImh0dHBzOi8vaS5zY2RuLmNvL2ltYWdlL2FlMTRkZTU5OTdmZWEzNTU3NTdhMTdjMjZmYjBlMjZiNzZmYzhmODZcIixcclxuICAgICAgICAgICAgc3BvdGlmeTogXCJzcG90aWZ5OnRyYWNrOjBVZVlDSE9FVFBmYWkwMnVza2pKM3hcIixcclxuICAgICAgICAgICAgeW91dHViZTogXCJmZUE2NHdYaGJqb1wiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkdXJhdGlvbjogNDAwMCxcclxuICAgICAgICBzdGFydEF0OiB7eW91dHViZTogMjAwMDAsIHNwb3RpZnk6IDIwMDAwfVxyXG4gICAgfSwge1xyXG4gICAgICAgIHNvbmc6IHtcclxuICAgICAgICAgICAgbmFtZTogXCJXZSBBcmUgTnVtYmVyIE9uZSAoUmVtaXgpXCIsXHJcbiAgICAgICAgICAgIGFydGlzdDogXCJTYXlNYXhXZWxsXCIsXHJcbiAgICAgICAgICAgIGNvdmVyOiBcImh0dHBzOi8vaS5zY2RuLmNvL2ltYWdlL2FiNjc2MTZkMDAwMGIyNzM0YzkwNmM4Y2VkOTlmNDg2MWViYzBiNjRcIixcclxuICAgICAgICAgICAgc3BvdGlmeTogXCJzcG90aWZ5OnRyYWNrOjRDNjRaWEcyNHZSSjRsd2t4Q0EyNEdcIixcclxuICAgICAgICAgICAgeW91dHViZTogXCJMcjFGc00xRWhNSVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkdXJhdGlvbjogNDAwMCxcclxuICAgICAgICBzdGFydEF0OiB7eW91dHViZTogMjAwMDAsIHNwb3RpZnk6IDIwMDAwfVxyXG4gICAgfVxyXG5dO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXliYWNrUHJldmlld0NvbnRyb2xsZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgZXZlbnRzOiBQbGF5YmFja1ByZXZpZXdFdmVudHMsXHJcbiAgICAgICAgcHJpdmF0ZSBtYXN0ZXI6IFBsYXliYWNrTWFzdGVyQ29udHJvbGxlclxyXG4gICAgKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEV2ZW50cyhldmVudHM6IFBsYXliYWNrUHJldmlld0V2ZW50cykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzID8gZXZlbnRzIDoge1xyXG4gICAgICAgICAgICBjYW5QbGF5OiBjb25zb2xlLmxvZyxcclxuICAgICAgICAgICAgc29uZzogY29uc29sZS5sb2dcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzdGFydFByZXZpZXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWFzdGVyLnNob3VsZFBsYXkpIHJldHVybjtcclxuICAgICAgICBjb25zdCByYW5kb21QcmV2aWV3OiBQcmV2aWV3U29uZyA9IFBsYXliYWNrUHJldmlld0NvbnRyb2xsZXIuZ2V0UmFuZG9tUHJldmlldygpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLmNhblBsYXkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLnNvbmcocmFuZG9tUHJldmlldywgUGxheWJhY2tQcm92aWRlci5TUE9USUZZKTtcclxuICAgICAgICBhd2FpdCB0aGlzLm1hc3Rlci5zcG90aWZ5LnByZXZpZXcocmFuZG9tUHJldmlldyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMuc29uZyhyYW5kb21QcmV2aWV3LCBQbGF5YmFja1Byb3ZpZGVyLllPVVRVQkUpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMubWFzdGVyLnlvdXR1YmUucHJldmlldyhyYW5kb21QcmV2aWV3KTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5jYW5QbGF5KHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLnNvbmcobnVsbCwgUGxheWJhY2tQcm92aWRlci5OT05FKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FuUGxheShjYW46IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5jYW5QbGF5KGNhbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0UmFuZG9tUHJldmlldygpOiBQcmV2aWV3U29uZyB7XHJcbiAgICAgICAgcmV0dXJuIHNvbmdzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNvbmdzLmxlbmd0aCldXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtTcG90aWZ5UGxheWJhY2tDb250cm9sbGVyfSBmcm9tIFwiLi9TcG90aWZ5UGxheWJhY2tDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7WW91VHViZVBsYXliYWNrQ29udHJvbGxlcn0gZnJvbSBcIi4vWW91VHViZVBsYXliYWNrQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge0FQSUNvbm5lY3Rpb25Db250cm9sbGVyfSBmcm9tIFwiLi4vYXBpL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcbmltcG9ydCB7U29uZ30gZnJvbSBcIi4uLy4uL21vZGVscy9Tb25nXCI7XHJcbmltcG9ydCB7UGxheWJhY2tQcm92aWRlcn0gZnJvbSBcIi4uLy4uL21vZGVscy9QbGF5YmFja1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7UGxheWJhY2tTbGF2ZUNvbnRyb2xsZXIsIFBsYXliYWNrU2xhdmVFdmVudHN9IGZyb20gXCIuL1BsYXliYWNrU2xhdmVDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7VFNSSUV2ZW50c30gZnJvbSBcIi4uLy4uL21vZGVscy9FdmVudHNcIjtcclxuaW1wb3J0IHtJbml0aWFsaXphdGlvblN0YXR1c30gZnJvbSBcIi4uLy4uL21vZGVscy9Jbml0aWFsaXphdGlvblN0YXR1c1wiO1xyXG5pbXBvcnQge0JhY2tSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3NvbmdyZXF1ZXN0cy9CYWNrUmVxdWVzdFwiO1xyXG5pbXBvcnQge05leHRSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL3NvbmdyZXF1ZXN0cy9OZXh0UmVxdWVzdFwiO1xyXG5pbXBvcnQge0dldFF1ZXVlUmVxdWVzdH0gZnJvbSBcIi4uL2FwaS9yZXF1ZXN0cy9zb25ncmVxdWVzdHMvR2V0UXVldWVSZXF1ZXN0XCI7XHJcbmltcG9ydCB7QWRkUmVxdWVzdH0gZnJvbSBcIi4uL2FwaS9yZXF1ZXN0cy9zb25ncmVxdWVzdHMvQWRkUmVxdWVzdFwiO1xyXG5pbXBvcnQge1NldHRpbmdzfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1NldHRpbmdzXCI7XHJcbmltcG9ydCB7U2V0dGluZ3NSZXF1ZXN0fSBmcm9tIFwiLi4vYXBpL3JlcXVlc3RzL290aGVyL1NldHRpbmdzUmVxdWVzdFwiO1xyXG5pbXBvcnQge1BsYXliYWNrUHJldmlld0NvbnRyb2xsZXJ9IGZyb20gXCIuL3BsYXliYWNrcHJldmlldy9QbGF5YmFja1ByZXZpZXdDb250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWJhY2tNYXN0ZXJDb250cm9sbGVyIHtcclxuICAgIHByaXZhdGUgc29uZzogU29uZyA9IG51bGw7XHJcbiAgICBwcml2YXRlIHF1ZXVlOiBBcnJheTxTb25nPiA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfaGlzdG9yeTogQXJyYXk8U29uZz4gPSBbXTtcclxuICAgIHByaXZhdGUgZmlyc3RQbGF5YmFjazogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgcHJpdmF0ZSBwb3NQcmVkaWN0ZXI6IFBvc2l0aW9uUHJlZGljdGVyO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzcG90aWZ5OiBTcG90aWZ5UGxheWJhY2tDb250cm9sbGVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHlvdXR1YmU6IFlvdVR1YmVQbGF5YmFja0NvbnRyb2xsZXI7XHJcbiAgICBwdWJsaWMgc2hvdWxkUGxheTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nczogU2V0dGluZ3M7XHJcbiAgICBwcml2YXRlIHByZXZpZXc6IFBsYXliYWNrUHJldmlld0NvbnRyb2xsZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcGk6IEFQSUNvbm5lY3Rpb25Db250cm9sbGVyLCBwcml2YXRlIGZyb250ZW5kRXZlbnRzOiBUU1JJRXZlbnRzLCBzdGF0dXM6IEluaXRpYWxpemF0aW9uU3RhdHVzKSB7XHJcbiAgICAgICAgdGhpcy5wb3NQcmVkaWN0ZXIgPSBuZXcgUG9zaXRpb25QcmVkaWN0ZXIocG9zID0+IHRoaXMuZnJvbnRlbmRFdmVudHMucG9zaXRpb24ocG9zKSk7XHJcbiAgICAgICAgdGhpcy5zcG90aWZ5ID0gbmV3IFNwb3RpZnlQbGF5YmFja0NvbnRyb2xsZXIodGhpcy5wbGF5YmFja1Byb3ZpZGVyRXZlbnRzKFBsYXliYWNrUHJvdmlkZXIuU1BPVElGWSksIGFwaSk7XHJcbiAgICAgICAgdGhpcy55b3V0dWJlID0gbmV3IFlvdVR1YmVQbGF5YmFja0NvbnRyb2xsZXIodGhpcy5wbGF5YmFja1Byb3ZpZGVyRXZlbnRzKFBsYXliYWNrUHJvdmlkZXIuWU9VVFVCRSksIGFwaSwgc3RhdHVzLnlvdXR1YmVBcGkpO1xyXG4gICAgICAgIGFwaS5vbihcInF1ZXVlXCIsIChxdWV1ZVVwZGF0ZSkgPT4gdGhpcy5zZXRRdWV1ZShxdWV1ZVVwZGF0ZS5xdWV1ZSwgcXVldWVVcGRhdGUuaGlzdG9yeSwgdGhpcy5zaG91bGRQbGF5KSk7XHJcbiAgICAgICAgdGhpcy5wcmV2aWV3ID0gbmV3IFBsYXliYWNrUHJldmlld0NvbnRyb2xsZXIobnVsbCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEV2ZW50cyhldmVudHM6IFRTUklFdmVudHMpIHtcclxuICAgICAgICB0aGlzLmZyb250ZW5kRXZlbnRzID0gZXZlbnRzO1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFBsYXkpIGV2ZW50cy5wbGF5KCk7XHJcbiAgICAgICAgZWxzZSBldmVudHMucGF1c2UoKTtcclxuICAgICAgICBsZXQgdGVtcFF1ZXVlID0gWy4uLnRoaXMucXVldWVdO1xyXG4gICAgICAgIGV2ZW50cy5xdWV1ZVVwZGF0ZSh0ZW1wUXVldWUsIHRoaXMuX2hpc3RvcnkpO1xyXG4gICAgICAgIGV2ZW50cy5zb25nKHRoaXMuc29uZyk7XHJcbiAgICAgICAgZXZlbnRzLnNldHRpbmdzVXBkYXRlKHRoaXMuc2V0dGluZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBwbGF5KGZvcmNlQmVnaW46IGJvb2xlYW4sIHNvbmc/OiBTb25nKSB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRQbGF5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAoc29uZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb25nKSB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc29uZyA9IHNvbmc7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLmdldENvbnRyb2xsZXIoc29uZy5wcm92aWRlcik7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuc2V0Vm9sdW1lKHRoaXMuc2V0dGluZ3Mudm9sdW1lLCB0aGlzLnNldHRpbmdzLnZvbHVtZUJhbGFuY2UpO1xyXG4gICAgICAgICAgICBjb250cm9sbGVyLnBsYXkoc29uZywgZm9yY2VCZWdpbik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNvbmcpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmZpcnN0UGxheWJhY2sgJiYgdGhpcy5wb3NQcmVkaWN0ZXIucHJlZGljdGlvbiAhPT0gMClcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29udHJvbGxlcih0aGlzLnNvbmcucHJvdmlkZXIpLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RQbGF5YmFjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5KHRydWUsIHRoaXMuc29uZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgYXdhaXQgdGhpcy5uZXh0KCk7XHJcbiAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5zb25nKHRoaXMuc29uZyk7XHJcbiAgICAgICAgdGhpcy5zaG91bGRQbGF5ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRQbGF5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5zb25nKSB0aGlzLmdldENvbnRyb2xsZXIodGhpcy5zb25nLnByb3ZpZGVyKS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q29udHJvbGxlcihwcm92aWRlcjogUGxheWJhY2tQcm92aWRlcik6IFBsYXliYWNrU2xhdmVDb250cm9sbGVyIHtcclxuICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgUGxheWJhY2tQcm92aWRlci5OT05FOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIGNhc2UgUGxheWJhY2tQcm92aWRlci5TUE9USUZZOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3BvdGlmeTtcclxuICAgICAgICAgICAgY2FzZSBQbGF5YmFja1Byb3ZpZGVyLllPVVRVQkU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55b3V0dWJlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2Vlayhwb3NpdGlvbjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc29uZykgdGhpcy5nZXRDb250cm9sbGVyKHRoaXMuc29uZy5wcm92aWRlcikuc2Vlayhwb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvY2FsQWRkKHNvbmc6IFNvbmcpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goc29uZyk7XHJcbiAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5xdWV1ZVVwZGF0ZSh0aGlzLnF1ZXVlLCB0aGlzLl9oaXN0b3J5KTtcclxuICAgICAgICBpZiAoIXRoaXMucG9zUHJlZGljdGVyLnByZWRpY3QpIHRoaXMucGxheShmYWxzZSwgdW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0UXVldWUocXVldWU6IEFycmF5PFNvbmc+LCBoaXN0b3J5OiBBcnJheTxTb25nPiwgcGxheTogYm9vbGVhbiA9IHRydWUpIHtcclxuICAgICAgICBpZiAocXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvbmcgPSBxdWV1ZVswXTtcclxuICAgICAgICAgICAgaWYgKHBsYXkgJiYgKCF0aGlzLnNvbmcgfHwgKHRoaXMuc29uZyAmJiB0aGlzLnNvbmcudXJpICE9PSBzb25nLnVyaSkpKSB0aGlzLnBsYXkodHJ1ZSwgc29uZyk7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5zb25nKHF1ZXVlWzBdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29uZyA9IHNvbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBvc1ByZWRpY3Rlci5yZXNldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvbmcpIHRoaXMucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zb25nID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5zb25nKG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLnBvc1ByZWRpY3Rlci5yZXNldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcclxuICAgICAgICB0aGlzLl9oaXN0b3J5ID0gaGlzdG9yeTtcclxuICAgICAgICB0aGlzLmZyb250ZW5kRXZlbnRzLnF1ZXVlVXBkYXRlKHRoaXMucXVldWUsIHRoaXMuX2hpc3RvcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2NhbE5leHQoKSB7XHJcbiAgICAgICAgdGhpcy5wb3NQcmVkaWN0ZXIucmVzZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIGlmICh0aGlzLnNvbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oaXN0b3J5LnVuc2hpZnQodGhpcy5zb25nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmZyb250ZW5kRXZlbnRzLnNvbmcobnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMucG9zUHJlZGljdGVyLnJlc2V0UG9zaXRpb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXkodHJ1ZSwgdGhpcy5xdWV1ZVswXSk7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5xdWV1ZVVwZGF0ZSh0aGlzLnF1ZXVlLCB0aGlzLl9oaXN0b3J5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgYmFjaygpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChCYWNrUmVxdWVzdCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdzdWNjZXNzJylcclxuICAgICAgICAgICAgdGhyb3cgKHJlc3VsdC5tZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbmV4dCgpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KE5leHRSZXF1ZXN0KGZhbHNlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNraXAoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChOZXh0UmVxdWVzdCh0cnVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGFwaUFkZChzb25nOiBTb25nKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcGkucmVxdWVzdHMucmVxdWVzdChBZGRSZXF1ZXN0KHNvbmcpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBsYXliYWNrUHJvdmlkZXJFdmVudHMoc2VsZjogUGxheWJhY2tQcm92aWRlcik6IFBsYXliYWNrU2xhdmVFdmVudHMge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG9uUGF1c2U6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zb25nIHx8IFtQbGF5YmFja1Byb3ZpZGVyLk5PTkUsIHNlbGZdLmluY2x1ZGVzKHRoaXMuc29uZy5wcm92aWRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc1ByZWRpY3Rlci5wcmVkaWN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udGVuZEV2ZW50cy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIG9uUGxheTogKHNvbmc/OiBTb25nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc29uZykgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc29uZy5wcm92aWRlciAhPT0gc2VsZikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NQcmVkaWN0ZXIucHJlZGljdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250ZW5kRXZlbnRzLnBsYXkoKTtcclxuICAgICAgICAgICAgfSwgb25Qb3NpdGlvbkNoYW5nZTogKHAxOiBudW1iZXIsIHAyOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zb25nKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb25nLnByb3ZpZGVyICE9PSBzZWxmKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1ByZWRpY3Rlci5zZXRQb3NpdGlvbihwMSwgcDIpO1xyXG4gICAgICAgICAgICB9LCBvbk5leHQ6ICgpID0+IHRoaXMubmV4dCgpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZFF1ZXVlKHBsYXk6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IChhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KEdldFF1ZXVlUmVxdWVzdCkpLnJlc3VsdDtcclxuICAgICAgICB0aGlzLnNldFF1ZXVlKHJlc3VsdC5xdWV1ZSwgcmVzdWx0Lmhpc3RvcnksIHBsYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnNldFNldHRpbmdzKHt2b2x1bWV9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2V0Vm9sdW1lQmFsYW5jZSh2b2x1bWVCYWxhbmNlOiBudW1iZXIpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnNldFNldHRpbmdzKHt2b2x1bWVCYWxhbmNlfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNldFNldHRpbmdzKHNldHRpbmdzPzogU2V0dGluZ3MpIHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpLnJlcXVlc3RzLnJlcXVlc3QoU2V0dGluZ3NSZXF1ZXN0KHNldHRpbmdzKSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2V0dGluZ3MocmVzcG9uc2UucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlU2V0dGluZ3MocmVzdWx0OiBTZXR0aW5ncykge1xyXG4gICAgICAgIHRoaXMuZnJvbnRlbmRFdmVudHMuc2V0dGluZ3NVcGRhdGUocmVzdWx0KTtcclxuICAgICAgICB0aGlzLnNwb3RpZnkuc2V0Vm9sdW1lKHJlc3VsdC52b2x1bWUsIHJlc3VsdC52b2x1bWVCYWxhbmNlKTtcclxuICAgICAgICB0aGlzLnlvdXR1YmUuc2V0Vm9sdW1lKHJlc3VsdC52b2x1bWUsIHJlc3VsdC52b2x1bWVCYWxhbmNlKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQb3NpdGlvblByZWRpY3RlciB7XHJcbiAgICBwdWJsaWMgcHJlZGljdDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBsYXN0UG9zaXRpb246IG51bWJlciA9IERhdGUubm93KCk7XHJcbiAgICBwcml2YXRlIGR1cmF0aW9uOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBwb3NpdGlvbjogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBwcmVkaWN0aW9uOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FsbGJhY2s6IChwb3NpdGlvbjogbnVtYmVyKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgY29uc3QgcHJlZGljdCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcmVkaWN0Tm93KCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQocHJlZGljdCwgMjAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHByZWRpY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0UG9zaXRpb24ocG9zaXRpb246IG51bWJlciwgZHVyYXRpb246IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMucHJlZGljdE5vdygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldFBvc2l0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24oMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwcmVkaWN0Tm93KCkge1xyXG4gICAgICAgIGxldCBwcmVkaWN0aW9uO1xyXG4gICAgICAgIGlmICh0aGlzLmR1cmF0aW9uID09PSAwICYmIHRoaXMucG9zaXRpb24gPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcmVkaWN0KSBwcmVkaWN0aW9uID0gKHRoaXMucG9zaXRpb24gKyAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdFBvc2l0aW9uKSkgLyB0aGlzLmR1cmF0aW9uO1xyXG4gICAgICAgIGlmICh0eXBlb2YgcHJlZGljdGlvbiA9PT0gXCJudW1iZXJcIikgdGhpcy5wcmVkaWN0aW9uID0gcHJlZGljdGlvbiA+IDEgPyAxIDogcHJlZGljdGlvbjtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMucHJlZGljdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcbmltcG9ydCB7UGxheWJhY2tQcm92aWRlcn0gZnJvbSBcIi4uLy4uLy4uLy4uL21vZGVscy9QbGF5YmFja1Byb3ZpZGVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgU3BvdGlmeVNlYXJjaCA9ICh0b2tlbjogc3RyaW5nLCBxdWVyeTogc3RyaW5nKTogSUFQSVJlcXVlc3QgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvZXZlbnRzXCIsXHJcbiAgICAgICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwic2VhcmNoXCIsXHJcbiAgICAgICAgICAgIHByb3ZpZGVyOiBQbGF5YmFja1Byb3ZpZGVyLlNQT1RJRlksXHJcbiAgICAgICAgICAgIHRva2VuLFxyXG4gICAgICAgICAgICBxdWVyeVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHtJQVBJUmVxdWVzdH0gZnJvbSBcIi4uLy4uL0FQSUNvbm5lY3Rpb25Db250cm9sbGVyXCI7XHJcbmltcG9ydCB7UGxheWJhY2tQcm92aWRlcn0gZnJvbSBcIi4uLy4uLy4uLy4uL21vZGVscy9QbGF5YmFja1Byb3ZpZGVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgWW91VHViZVNlYXJjaCA9IChxdWVyeTogc3RyaW5nKTogSUFQSVJlcXVlc3QgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b3BpYzogXCJ0d2FzaS1zb25ncmVxdWVzdHMvZXZlbnRzXCIsXHJcbiAgICAgICAgc2NvcGU6IFwiYWN0aW9uXCIsXHJcbiAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwic2VhcmNoXCIsXHJcbiAgICAgICAgICAgIHByb3ZpZGVyOiBQbGF5YmFja1Byb3ZpZGVyLllPVVRVQkUsXHJcbiAgICAgICAgICAgIHF1ZXJ5XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge0FQSUNvbm5lY3Rpb25Db250cm9sbGVyfSBmcm9tIFwiLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge1Nwb3RpZnlQbGF5YmFja0NvbnRyb2xsZXJ9IGZyb20gXCIuLi9wbGF5YmFjay9TcG90aWZ5UGxheWJhY2tDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7U29uZ30gZnJvbSBcIi4uLy4uL21vZGVscy9Tb25nXCI7XHJcbmltcG9ydCB7UGxheWJhY2tQcm92aWRlcn0gZnJvbSBcIi4uLy4uL21vZGVscy9QbGF5YmFja1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7U3BvdGlmeVNlYXJjaH0gZnJvbSBcIi4vcmVxdWVzdHMvc2VhcmNoL1Nwb3RpZnlTZWFyY2hcIjtcclxuaW1wb3J0IHtZb3VUdWJlU2VhcmNofSBmcm9tIFwiLi9yZXF1ZXN0cy9zZWFyY2gvWW91VHViZVNlYXJjaFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlYXJjaENvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcGk6IEFQSUNvbm5lY3Rpb25Db250cm9sbGVyLCBwcml2YXRlIHNwb3RpZnk6IFNwb3RpZnlQbGF5YmFja0NvbnRyb2xsZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgb25TcG90aWZ5KHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PFNvbmc+PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KFNwb3RpZnlTZWFyY2godGhpcy5zcG90aWZ5LnRva2VuLCBxdWVyeSkpO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdzdWNjZXNzJykgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdDtcclxuICAgICAgICB0aHJvdyhcIkFuIGVycm9yIG9jY3VycmVkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgb25Zb3VUdWJlKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PFNvbmc+PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaS5yZXF1ZXN0cy5yZXF1ZXN0KFlvdVR1YmVTZWFyY2gocXVlcnkpLCA2MDAwKTtcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnc3VjY2VzcycpIHJldHVybiByZXNwb25zZS5yZXN1bHQ7XHJcbiAgICAgICAgdGhyb3coXCJBbiBlcnJvciBvY2N1cnJlZC5cIik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtUU1JJRXZlbnRzfSBmcm9tIFwiLi4vbW9kZWxzL0V2ZW50c1wiO1xyXG5pbXBvcnQge0luaXRpYWxpemF0aW9uU3RhdHVzfSBmcm9tIFwiLi4vbW9kZWxzL0luaXRpYWxpemF0aW9uU3RhdHVzXCI7XHJcbmltcG9ydCB7QVBJQ29ubmVjdGlvbkNvbnRyb2xsZXIsIEFQSUNvbm5lY3Rpb25TdGF0dXN9IGZyb20gXCIuL2FwaS9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge1Nvbmd9IGZyb20gXCIuLi9tb2RlbHMvU29uZ1wiO1xyXG5pbXBvcnQge1Nwb3RpZnlBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXJ9IGZyb20gXCIuL3Nwb3RpZnkvU3BvdGlmeUF1dGhlbnRpY2F0aW9uQ29udHJvbGxlclwiO1xyXG5pbXBvcnQge1BsYXliYWNrTWFzdGVyQ29udHJvbGxlcn0gZnJvbSBcIi4vcGxheWJhY2svUGxheWJhY2tNYXN0ZXJDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7U2VhcmNoQ29udHJvbGxlcn0gZnJvbSBcIi4vYXBpL1NlYXJjaENvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtSZXBvcnRSZXF1ZXN0fSBmcm9tIFwiLi9hcGkvcmVxdWVzdHMvb3RoZXIvUmVwb3J0UmVxdWVzdFwiO1xyXG5pbXBvcnQge1NldHRpbmdzfSBmcm9tIFwiLi4vbW9kZWxzL1NldHRpbmdzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVFNSSUNvbnRyb2xsZXIge1xyXG4gICAgcHJpdmF0ZSBzdGF0dXM6IEluaXRpYWxpemF0aW9uU3RhdHVzID0gZGVmYXVsdFN0YXR1cztcclxuICAgIHByaXZhdGUgQVBJOiBBUElDb25uZWN0aW9uQ29udHJvbGxlcjtcclxuICAgIHByaXZhdGUgc3BvdGlmeUF1dGg6IFNwb3RpZnlBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXI7XHJcbiAgICBwcml2YXRlIHBsYXliYWNrOiBQbGF5YmFja01hc3RlckNvbnRyb2xsZXI7XHJcbiAgICBwcml2YXRlIGV2ZW50czogVFNSSUV2ZW50cztcclxuICAgIHByaXZhdGUgc2VhcmNoOiBTZWFyY2hDb250cm9sbGVyO1xyXG4gICAgcHVibGljIHJlcG9ydHM6IGFueSA9IHtzcG90aWZ5UmVwb3J0czogW119O1xyXG4gICAgcHJpdmF0ZSBhdXRoZW50aWNhdGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIGluaXQoand0OiBzdHJpbmcsIGFwaTogc3RyaW5nLCBldmVudHM6IFRTUklFdmVudHMpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcclxuICAgICAgICBpZiAodGhpcy5BUEkpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5YmFjay5zZXRFdmVudHMoZXZlbnRzKTtcclxuICAgICAgICAgICAgZXZlbnRzLmVuYWJsZVNwb3RpZnlBdXRoKCF0aGlzLmF1dGhlbnRpY2F0ZWQpO1xyXG4gICAgICAgICAgICBldmVudHMuaW5pdGlhbGl6ZWQodGhpcy5zdGF0dXMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuQVBJID0gbmV3IEFQSUNvbm5lY3Rpb25Db250cm9sbGVyKGFwaSwgand0LCB7XHJcbiAgICAgICAgICAgIHN0YXR1c0NoYW5nZWQ6IGFzeW5jIHN0YXR1cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cy5hcGkgPSBzdGF0dXMgPT09IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmUoKS5pbml0aWFsaXplZCh0aGlzLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMuYXBpKSBhd2FpdCB0aGlzLnNwb3RpZnlBdXRoLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gQVBJQ29ubmVjdGlvblN0YXR1cy5DT05ORUNURUQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRRdWV1ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbGF5YmFjay5zZXRTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wbGF5YmFjayA9IG5ldyBQbGF5YmFja01hc3RlckNvbnRyb2xsZXIodGhpcy5BUEksIHRoaXMuZXZlbnRzLCB0aGlzLnN0YXR1cyk7XHJcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBuZXcgU2VhcmNoQ29udHJvbGxlcih0aGlzLkFQSSwgdGhpcy5wbGF5YmFjay5zcG90aWZ5KTtcclxuICAgICAgICB0aGlzLnNwb3RpZnlBdXRoID0gbmV3IFNwb3RpZnlBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIodGhpcy5BUEksIHtcclxuICAgICAgICAgICAgc3RhdHVzQ2hhbmdlZDogdGhpcy5zcG90aWZ5U3RhdHVzLFxyXG4gICAgICAgICAgICBzcG90aWZ5QXV0aGVudGljYXRlZDogKGF1dGhlbnRpY2F0ZWQ6IGJvb2xlYW4sIHRva2VuPzogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZWQgPSBhdXRoZW50aWNhdGVkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lKCkuZW5hYmxlU3BvdGlmeUF1dGgoIWF1dGhlbnRpY2F0ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuKSB0aGlzLnBsYXliYWNrLnNwb3RpZnkuaW5pdCh0b2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmUoKS5pbml0aWFsaXplZCh0aGlzLnN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNwb3RpZnlTdGF0dXMoc3RhdHVzOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMuc3BvdGlmeSA9IHN0YXR1cztcclxuICAgICAgICB0aGlzLmUoKS5pbml0aWFsaXplZCh0aGlzLnN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHlvdXR1YmVBcGlSZWFkeSgpIHtcclxuICAgICAgICB0aGlzLnN0YXR1cy55b3V0dWJlQXBpID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmUoKS5pbml0aWFsaXplZCh0aGlzLnN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNwb3RpZnlBcGlSZWFkeSgpIHtcclxuICAgICAgICB0aGlzLnN0YXR1cy5zcG90aWZ5QXBpID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmUoKS5pbml0aWFsaXplZCh0aGlzLnN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cykgcmV0dXJuIHRoaXMuZXZlbnRzO1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0RXZlbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgbG9hZFF1ZXVlKHBsYXk6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wbGF5YmFjay5sb2FkUXVldWUocGxheSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHJlcG9ydChyZWFzb246IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMucmVwb3J0cy5tZXNzYWdlID0gcmVhc29uO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuQVBJLnJlcXVlc3RzLnJlcXVlc3QoUmVwb3J0UmVxdWVzdCh0aGlzLnJlcG9ydHMpKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGVmYXVsdEV2ZW50czogVFNSSUV2ZW50cyA9IHtcclxuICAgIHNldHRpbmdzVXBkYXRlOiBmdW5jdGlvbiAocDE6IFNldHRpbmdzKSB7XHJcbiAgICB9LFxyXG4gICAgcXVldWVVcGRhdGU6IGZ1bmN0aW9uIChwMTogQXJyYXk8U29uZz4pIHtcclxuICAgIH0sXHJcbiAgICBlbmFibGVTcG90aWZ5QXV0aDogZnVuY3Rpb24gKHAxOiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTcG90aWZ5IEF1dGhlbnRpY2F0aW9uIGlzIG5vdyAlcy5cIiwgKHAxID8gXCJlbmFibGVkXCIgOiBcImRpc2FibGVkXCIpKTtcclxuICAgIH0sXHJcbiAgICBpbml0aWFsaXplZDogZnVuY3Rpb24gKHAxOiBJbml0aWFsaXphdGlvblN0YXR1cykge1xyXG4gICAgfSwgcGF1c2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBBVVNFXCIpO1xyXG4gICAgfSwgcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUExBWVwiKVxyXG4gICAgfSwgcG9zaXRpb246IGZ1bmN0aW9uIChwMTogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQT1M6IFwiICsgcDEpXHJcbiAgICB9LCBzb25nOiBmdW5jdGlvbiAocDE6IFNvbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNPTkc6IFwiICsgcDEubmFtZSlcclxuICAgIH0sIHN0b3A6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNUT1BcIilcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IGRlZmF1bHRTdGF0dXMgPSB7XHJcbiAgICBhcGk6IGZhbHNlLFxyXG4gICAgc3BvdGlmeUFwaTogZmFsc2UsXHJcbiAgICBzcG90aWZ5OiBmYWxzZSxcclxuICAgIHlvdXR1YmVBcGk6IGZhbHNlLFxyXG4gICAgeW91dHViZTogZmFsc2UsXHJcbn07XHJcbiIsImltcG9ydCB7SUFQSVJlcXVlc3R9IGZyb20gXCIuLi8uLi9BUElDb25uZWN0aW9uQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJlcG9ydFJlcXVlc3QgPSAocmVwb3J0OiBhbnkpOiBJQVBJUmVxdWVzdCA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvcGljOiBcInR3YXNpLXNvbmdyZXF1ZXN0cy9ldmVudHNcIixcclxuICAgICAgICBzY29wZTogXCJhY3Rpb25cIixcclxuICAgICAgICBhY3Rpb246IHtcclxuICAgICAgICAgICAgdHlwZTogXCJyZXBvcnRcIixcclxuICAgICAgICAgICAgbWVzc2FnZTogcmVwb3J0Lm1lc3NhZ2UsXHJcbiAgICAgICAgICAgIHJlcG9ydFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiXHJcbmlmICghd2luZG93WydZVCddKSB7dmFyIFlUID0ge2xvYWRpbmc6IDAsbG9hZGVkOiAwfTt9aWYgKCF3aW5kb3dbJ1lUQ29uZmlnJ10pIHt2YXIgWVRDb25maWcgPSB7J2hvc3QnOiAnaHR0cDovL3d3dy55b3V0dWJlLmNvbSd9O31pZiAoIVlULmxvYWRpbmcpIHtZVC5sb2FkaW5nID0gMTsoZnVuY3Rpb24oKXt2YXIgbCA9IFtdO1lULnJlYWR5ID0gZnVuY3Rpb24oZikge2lmIChZVC5sb2FkZWQpIHtmKCk7fSBlbHNlIHtsLnB1c2goZik7fX07d2luZG93Lm9uWVRSZWFkeSA9IGZ1bmN0aW9uKCkge1lULmxvYWRlZCA9IDE7Zm9yICh2YXIgaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7dHJ5IHtsW2ldKCk7fSBjYXRjaCAoZSkge319fTtZVC5zZXRDb25maWcgPSBmdW5jdGlvbihjKSB7Zm9yICh2YXIgayBpbiBjKSB7aWYgKGMuaGFzT3duUHJvcGVydHkoaykpIHtZVENvbmZpZ1trXSA9IGNba107fX19O3ZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7YS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7YS5pZCA9ICd3d3ctd2lkZ2V0YXBpLXNjcmlwdCc7YS5zcmMgPSAnaHR0cHM6Ly9zLnl0aW1nLmNvbS95dHMvanNiaW4vd3d3LXdpZGdldGFwaS12ZmxVRlZ5RVAvd3d3LXdpZGdldGFwaS5qcyc7YS5hc3luYyA9IHRydWU7dmFyIGMgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0O2lmIChjKSB7dmFyIG4gPSBjLm5vbmNlIHx8IGMuZ2V0QXR0cmlidXRlKCdub25jZScpO2lmIChuKSB7YS5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbik7fX12YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsIGIpO30pKCk7fSJdLCJzb3VyY2VSb290IjoiIn0=